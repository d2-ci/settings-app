{"version":3,"sources":["D2App/form-fields/FileUpload.module.css","D2App/oauth2-client-editor/ClientForm.module.css","D2App/oauth2-client-editor/ClientsList.module.css","D2App/oauth2-client-editor/OAuth2ClientEditor.module.css","D2App/SettingsFields.module.css","D2App/configOptionStore.js","D2App/settingsCategories.js","D2App/settingsKeyMapping.js","D2App/settingsStore.js","D2App/settingsActions.js","D2App/form-fields/check-box.js","D2App/form-fields/drop-down.js","D2App/theme.js","D2App/form-fields/file-upload.js","D2App/form-fields/text-field.js","D2App/localized-text/LocalizedAppearanceEditor.component.js","D2App/metadata-settings/metadataSettings.component.js","D2App/form-fields/multi-toggle.js","D2App/oauth2-client-editor/ClientForm.js","D2App/oauth2-client-editor/ClientsList.js","D2App/oauth2-client-editor/oauth2Client.store.js","D2App/oauth2-client-editor/oauth2Client.actions.js","D2App/oauth2-client-editor/OAuth2ClientEditor.component.js","D2App/settingsFields.component.js","D2App/app.component.js","D2App/locales/index.js","D2App/App.js","D2App/App.module.css"],"names":["module","exports","Store","create","categoryOrder","categories","general","label","icon","pageLabel","i18n","t","settings","analytics","server","appearance","email","access","calendar","import","sync","oauth2","authority","canBeOverridenLabel","formatNumber","value","Intl","NumberFormat","language","format","settingsKeyMapping","keyAnalyticsMaxLimit","type","options","50000","100000","200000","0","keySqlViewMaxLimit","infrastructuralIndicators","configuration","source","infrastructuralDataElements","infrastructuralPeriodType","Daily","Weekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","Yearly","FinancialApril","FinancialJuly","FinancialOct","feedbackRecipients","includeEmpty","emptyLabel","offlineOrganisationUnitLevel","factorDeviation","validators","phoneNumberAreaCode","multiOrganisationUnitForms","keyAcceptanceRequiredForApproval","keyGatherAnalyticalObjectStatisticsInDashboardViews","keyCountPassiveDashboardViewsInUsageAnalytics","keyAnalysisRelativePeriod","THIS_MONTH","LAST_MONTH","THIS_BIMONTH","LAST_BIMONTH","THIS_QUARTER","LAST_QUARTER","THIS_SIX_MONTH","LAST_SIX_MONTH","MONTHS_THIS_YEAR","QUARTERS_THIS_YEAR","THIS_YEAR","MONTHS_LAST_YEAR","QUARTERS_LAST_YEAR","LAST_YEAR","LAST_5_YEARS","LAST_12_MONTHS","LAST_6_MONTHS","LAST_3_MONTHS","LAST_6_BIMONTHS","LAST_4_QUARTERS","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","keyHideDailyPeriods","sectionLabel","keyHideWeeklyPeriods","keyHideMonthlyPeriods","keyHideBiMonthlyPeriods","analyticsFinancialYearStart","FINANCIAL_YEAR_APRIL","FINANCIAL_YEAR_JULY","FINANCIAL_YEAR_OCTOBER","keyCacheStrategy","NO_CACHE","CACHE_15_MINUTES","CACHE_30_MINUTES","CACHE_1_HOUR","CACHE_6AM_TOMORROW","CACHE_TWO_WEEKS","keyCacheability","PUBLIC","PRIVATE","keyAnalyticsCacheTtlMode","PROGRESSIVE","FIXED","keyIgnoreAnalyticsApprovalYearThreshold","1","2","3","4","5","6","7","8","9","10","keyRespectMetaDataStartEndDatesInAnalyticsTableExport","keyAnalyticsMaintenanceMode","keyAnalyticsCacheProgressiveTtlFactor","16","32","64","128","192","256","320","512","1024","hideWhen","settingsKey","settingsValue","keyDatabaseServerCpus","keySystemNotificationsEmail","googleAnalyticsUA","keyGoogleMapsApiKey","keyBingMapsApiKey","localizedText","searchLabels","applicationTitle","appendLocale","multiLine","keyApplicationIntro","keyApplicationNotification","keyApplicationFooter","keyApplicationRightFooter","keyStyle","userSettingsOverride","startModule","helpPageLink","keyFlag","keyUiLocale","keyDbLocale","keyAnalysisDisplayProperty","name","shortName","keyAnalysisDigitGroupSeparator","SPACE","COMMA","NONE","keyRequireAddToView","keyUseCustomLogoFront","keyUseCustomLogoBanner","keyDashboardContextMenuItemSwitchViewType","keyDashboardContextMenuItemOpenInRelevantApp","keyDashboardContextMenuItemShowInterpretationsAndDetails","keyDashboardContextMenuItemViewFullscreen","keyEmailHostName","keyEmailPort","587","465","25","keyEmailUsername","keyEmailPassword","keyEmailTls","keyEmailSender","emailTestButton","uri","selfRegistrationRole","selfRegistrationOrgUnit","keySelfRegistrationNoRecaptcha","keyAccountRecovery","keyLockMultipleFailedLogins","keyCanGrantOwnUserAuthorityGroups","keyAllowObjectAssignment","credentialsExpires","12","credentialsExpiryAlert","minPasswordLength","14","corsWhitelist","hintText","recaptchaSite","recaptchaSecret","keyCalendar","coptic","ethiopian","gregorian","islamic","iso8601","julian","nepali","thai","persian","keyDateFormat","keyDataImportStrictPeriods","keyDataImportStrictDataElements","keyDataImportStrictCategoryOptionCombos","keyDataImportStrictOrganisationUnits","keyDataImportStrictAttributeOptionCombos","keyDataImportRequireCategoryOptionCombo","keyDataImportRequireAttributeOptionCombo","keyRemoteInstanceUrl","keyRemoteInstanceUsername","keyRemoteInstancePassword","keyMetadataDataVersioning","keyVersionEnabled","keyStopMetadataSync","createVersionButton","oauth2clients","settingsActions","Action","createActionsFromNames","saveKey","subscribe","args","key","locale","data","mapping","getD2","then","d2","isLocalisedAppearanceSetting","url","Api","getApi","post","showSnackbarMessage","getTranslation","catch","err","console","error","saveLocalizedAppearanceSetting","system","set","saveConfiguration","saveSetting","settingsStore","state","setState","settingsSearchMap","Observable","fromPromise","Promise","resolve","load","all","results","cfg","Object","keys","filter","map","reduce","prev","curr","undefined","hasOwnProperty","call","id","v","trim","length","sort","join","forEach","isNaN","toString","assign","searchMapping","categoryKey","currentUser","authorities","has","searchArray","categoryKeys","concat","translatedKeyValueMap","isTranslated","searchTerms","searchSettings","distinctUntilChanged","debounceTime","action","split","do","searchValue","setCategory","getSearchResultsFor","flatMap","val","from","keyValue","every","term","toLowerCase","includes","distinct","acc","push","concatAll","searchResultSettings","_extends","target","i","arguments","prototype","apply","this","sectionLabelStyle","color","fontSize","margin","Checkbox","React","Component","render","errorText","errorStyle","onChange","other","props","createElement","style","marginTop","marginBottom","CheckboxMaterial","onCheck","checked","defaultProps","_defineProperty","obj","defineProperty","enumerable","configurable","writable","DropDown","constructor","super","handleChange","bind","event","index","renderMenuItems","menuItems","displayName","item","MenuItem","primaryText","onFocus","onBlur","disabled","noOptionsLabel","isRequired","hasOptions","SelectField","PropTypes","string","defaultValue","oneOfType","number","bool","array","object","func","theme","spacing","Spacing","fontFamily","palette","primary1Color","blue500","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","forms","minWidth","maxWidth","formInput","fontWeight","Upload","isEnabled","showDialog","onUpload","onPreview","dialogImgStyle","maxHeight","backgroundColor","baseUrl","apiVersion","useConfig","imgUrl","Date","Button","secondary","small","className","styles","replaceImageBtn","onClick","Modal","onClose","ModalTitle","ModalContent","CenteredContent","src","alt","primary","FileUpload","uploading","progress","e","fileInput","click","xhr","abort","async","files","api","XMLHttpRequest","upload","onprogress","lengthComputable","loaded","total","FormData","append","position","left","right","zIndex","LinearLoader","amount","CircularLoader","display","whiteSpace","paddingRight","paddingTop","paddingBottom","onToggle","labelStyle","AppTheme","rawTheme","top","renderUploading","onPreviewClick","visibility","ref","oneOf","helpTextStyle","TextFieldComponent","UNSAFE_componentWillReceiveProps","changeEvent","helpText","lineHeight","TextField","node","systemDefaultText","container","padding","field","width","loaderWrap","textAlign","clickableHelpText","textDecoration","cursor","SYSTEM_DEFAULT","LOCALIZED_SETTING_KEYS","LocalizedTextEditor","code","configOptionStore","getState","uiLocales","pop","context","fieldKey","switchToDefaultLocale","localeName","getLocaleName","saveSettingsKey","componentDidMount","getAppearanceSettings","settingsStoreSubscription","componentWillUnmount","unsubscribe","fetchLocalizedAppearanceSettings","values","get","json","renderLocalizedAppearanceFields","CircularProgress","fields","component","floatingLabelText","createFieldHelpTextProps","FormBuilder","onUpdateField","systemDefaultOption","optionStoreState","Card","contextTypes","metadataSettings","metadataVersions","selectedTransactionType","masterVersionName","lastFailedTime","hqInstanceUrl","isVersioningEnabled","remoteVersionName","isLocalInstance","hasVersions","isTaskRunning","onSelectTransactionType","syncVersions","syncSettings","createVersion","onToggleVersioning","onToggleStopSync","stopMetadataSyncKey","createVersionKey","subscriptions","sub","result","keyMetadataLastFailedTime","keyRemoteMetadataVersion","lastFailedVersion","keyMetadataFailedVersion","isSchedulerEnabled","keySchedTasks","isLastSyncValid","versions","metadataversions","a","b","created","version","importdate","toLocaleString","renderVersionList","inlineRight","float","visible","hidden","inlineProgressIcon","fieldGetter","x","rowIndex","Cell","RadioButtonGroup","defaultSelected","RadioButton","size","RaisedButton","marginRight","fontStyle","Table","rowHeight","rowsCount","headerHeight","Column","header","cell","str","localeAppendage","checkboxFields","MultiToggle","items","oldState","indexOf","splice","togglor","defaultChecked","text","labelPosition","arrayOf","shape","formFieldStyle","validateClientID","models","oAuth2Clients","list","paging","ClientForm","clientModel","onUpdate","onSave","onCancel","grantTypes","validator","message","cid","asyncValidators","secret","password","refresh_token","authorization_code","redirectUris","isUrlArray","headerText","cancelBtn","ClientsList","clients","onClientEdit","onClientDelete","TableHead","TableRowHead","TableCellHead","TableBody","client","TableRow","TableCell","editBtn","destructive","oa2Actions","oAuth2Client","order","oa2ClientCollection","yes","no","oa2Store","toArray","oa2c","delete","OAuth2ClientEditor","showForm","saving","alphabet","uid","charAt","Math","random","generateSecret","model","save","importReport","status","Error","forceUpdate","oa2ClientStore","wrapper","editAction","deleteAction","addClientBtn","newAction","formUpdateAction","saveAction","cancelAction","noHits","menuIcon","menuLabel","marginLeft","addConditionallyHiddenStyles","SettingsFields","shouldComponentUpdate","nextProps","currentSettings","Array","isArray","fieldForMapping","fieldBase","autoComplete","entries","option","Oauth2ClientEditor","children","LocalizedAppearance","warn","renderFields","wordToValidatorMap","f","userSettingsNoFallback","userSettingValue","valueLabel","labelText","settingName","nsSeparator","IconButton","iconClassName","tooltip","tooltipPosition","iconStyle","tooltipStyles","wrapUserSettingsOverride","opt","classes","card","category","AppComponent","showSnackbar","searchText","snackbarMessage","formValidator","sidebarRef","createRef","getChildContext","appTheme","arg","searchResult","current","clearSearchBox","pathname","search","encodeURIComponent","history","location","params","navigate","section","substr","decodeURIComponent","doSearch","replace","createHistory","unlisten","listen","sections","MuiThemeProvider","Snackbar","autoHideDuration","open","onRequestClose","closeSnackbar","contentWrap","Sidebar","onChangeSection","currentSection","showSearchField","searchFieldLabel","onChangeSearchText","contentArea","childContextTypes","addResources","enTranslations","query","indicatorGroups","resource","dataElementGroups","userGroups","organisationUnitLevels","userRoles","organisationUnits","apps","flags","dbLocales","useFallback","AppWrapper","useD2","loading","useDataQuery","startModules","modules","defaultAction","flag","unshift","path","Fragment","CssVariables","spacers","colors","App"],"mappings":"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","file":"static/js/app.f9c53bce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"replaceImageBtn\":\"FileUpload_replaceImageBtn__17HhQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelBtn\":\"ClientForm_cancelBtn__1iLWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editBtn\":\"ClientsList_editBtn__3Ak-n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"OAuth2ClientEditor_wrapper__331Ju\",\"addClientBtn\":\"OAuth2ClientEditor_addClientBtn__2romx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"SettingsFields_card__2_HSg\"};","import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import i18n from '@dhis2/d2-i18n';\nexport const categoryOrder = ['general', 'server', 'appearance', 'email', 'access', 'calendar', 'import', 'sync', 'monitoring', 'oauth2'];\nexport const categories = {\n  general: {\n    label: 'general',\n    icon: 'settings',\n    pageLabel: i18n.t('General settings'),\n    settings: ['keyAnalyticsMaxLimit', 'keySqlViewMaxLimit', 'infrastructuralIndicators', 'infrastructuralDataElements', 'infrastructuralPeriodType', 'keyAnalysisRelativePeriod', 'feedbackRecipients', 'offlineOrganisationUnitLevel', 'factorDeviation', 'phoneNumberAreaCode', 'multiOrganisationUnitForms', 'keyAcceptanceRequiredForApproval', 'keyGatherAnalyticalObjectStatisticsInDashboardViews', 'keyCountPassiveDashboardViewsInUsageAnalytics']\n  },\n  analytics: {\n    label: 'analytics',\n    icon: 'equalizer',\n    pageLabel: i18n.t('Analytics settings'),\n    settings: ['keyAnalysisRelativePeriod', 'keyHideDailyPeriods', 'keyHideWeeklyPeriods', 'keyHideMonthlyPeriods', 'keyHideBiMonthlyPeriods', 'analyticsFinancialYearStart', 'keyCacheStrategy', 'keyCacheability', 'keyAnalyticsCacheTtlMode', 'keyAnalyticsCacheProgressiveTtlFactor', 'keyIgnoreAnalyticsApprovalYearThreshold', 'keyRespectMetaDataStartEndDatesInAnalyticsTableExport', 'keyAnalyticsMaintenanceMode']\n  },\n  server: {\n    label: 'server',\n    icon: 'business',\n    pageLabel: i18n.t('Server settings'),\n    settings: ['keyDatabaseServerCpus', 'keySystemNotificationsEmail', 'googleAnalyticsUA', 'keyGoogleMapsApiKey', 'keyBingMapsApiKey']\n  },\n  appearance: {\n    label: 'appearance',\n    icon: 'looks',\n    pageLabel: i18n.t('Appearance settings'),\n    settings: ['localizedText', 'keyStyle', 'startModule', 'helpPageLink', 'keyFlag', 'keyUiLocale', 'keyDbLocale', 'keyAnalysisDisplayProperty', 'keyAnalysisDigitGroupSeparator', 'keyRequireAddToView', 'keyUseCustomLogoFront', 'keyUseCustomLogoBanner', 'keyDashboardContextMenuItemSwitchViewType', 'keyDashboardContextMenuItemOpenInRelevantApp', 'keyDashboardContextMenuItemShowInterpretationsAndDetails', 'keyDashboardContextMenuItemViewFullscreen']\n  },\n  email: {\n    label: 'email',\n    icon: 'email',\n    pageLabel: i18n.t('Email settings'),\n    settings: ['keyEmailHostName', 'keyEmailPort', 'keyEmailUsername', 'keyEmailPassword', 'keyEmailTls', 'keyEmailSender', 'emailTestButton']\n  },\n  access: {\n    label: 'access',\n    icon: 'lock_open',\n    pageLabel: i18n.t('Access settings'),\n    settings: ['selfRegistrationRole', 'selfRegistrationOrgUnit', 'keySelfRegistrationNoRecaptcha', 'keyAccountRecovery', 'keyLockMultipleFailedLogins', 'keyCanGrantOwnUserAuthorityGroups', 'keyAllowObjectAssignment', 'credentialsExpires', 'credentialsExpiryAlert', 'minPasswordLength', 'corsWhitelist', 'recaptchaSite', 'recaptchaSecret']\n  },\n  calendar: {\n    label: 'calendar',\n    icon: 'date_range',\n    pageLabel: i18n.t('Calendar settings'),\n    settings: ['keyCalendar', 'keyDateFormat']\n  },\n  import: {\n    label: 'import',\n    icon: 'system_update_alt',\n    pageLabel: i18n.t('Data import settings'),\n    settings: ['keyDataImportStrictPeriods', 'keyDataImportStrictDataElements', 'keyDataImportStrictCategoryOptionCombos', 'keyDataImportStrictOrganisationUnits', 'keyDataImportStrictAttributeOptionCombos', 'keyDataImportRequireCategoryOptionCombo', 'keyDataImportRequireAttributeOptionCombo']\n  },\n  sync: {\n    label: 'synchronization',\n    icon: 'sync',\n    pageLabel: i18n.t('Synchronization settings'),\n    settings: ['keyRemoteInstanceUrl', 'keyRemoteInstanceUsername', 'keyRemoteInstancePassword', 'keyMetadataDataVersioning']\n  },\n  oauth2: {\n    label: 'oauth2_clients',\n    icon: 'vpn_lock',\n    pageLabel: i18n.t('OAuth2 Clients'),\n    authority: 'F_OAUTH2_CLIENT_MANAGE',\n    settings: ['oauth2clients']\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst canBeOverridenLabel = i18n.t('This setting can be overridden by user settings');\n\nconst formatNumber = value => new Intl.NumberFormat(i18n.language).format(value);\n/**\n * This file provides information about DHIS2 system settings and configuration options that are not otherwise\n * available through the API.\n *\n * Each system settings key is mapped to an i18n label. In addition, certain special system\n * settings that are not actually saved as system settings but rather as system configuration options are described\n * here as well. This concerns any key that has a \"configuration\" property which is set to `true`.\n *\n * Settings that have an `appendLocale: true` property, are localizable settings. When these settings are saved, the\n * code of the specified locale, such as \"fr\" or \"ar_IQ\" is appended to the key name.\n */\n\n\nconst settingsKeyMapping = {\n  /* ============================================================================================================ */\n\n  /* Category: General                                                                                            */\n\n  /* ============================================================================================================ */\n  keyAnalyticsMaxLimit: {\n    // Analytics\n    label: i18n.t('Maximum number of analytics records'),\n    type: 'dropdown',\n    options: {\n      50000: formatNumber(50000),\n      100000: formatNumber(100000),\n      200000: formatNumber(200000),\n      0: i18n.t('Unlimited')\n    }\n  },\n  keySqlViewMaxLimit: {\n    label: i18n.t('Maximum number of SQL view records'),\n    type: 'dropdown',\n    options: {\n      '-1': i18n.t('Unlimited'),\n      50000: formatNumber(50000),\n      100000: formatNumber(100000),\n      200000: formatNumber(200000)\n    }\n  },\n  infrastructuralIndicators: {\n    label: i18n.t('Infrastructural indicators'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'indicatorGroups'\n  },\n  infrastructuralDataElements: {\n    label: i18n.t('Infrastructural data elements'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'dataElementGroups'\n  },\n  infrastructuralPeriodType: {\n    label: i18n.t('Infrastructural period type'),\n    configuration: true,\n    type: 'dropdown',\n    options: {\n      Daily: i18n.t('Daily'),\n      Weekly: i18n.t('Weekly'),\n      Monthly: i18n.t('Monthly'),\n      BiMonthly: i18n.t('Bi-monthly'),\n      Quarterly: i18n.t('Quarterly'),\n      SixMonthly: i18n.t('Six-monthly'),\n      SixMonthlyApril: i18n.t('Six-monthly April'),\n      Yearly: i18n.t('Yearly'),\n      FinancialApril: i18n.t('Financial-April'),\n      FinancialJuly: i18n.t('Financial-July'),\n      FinancialOct: i18n.t('Financial-Oct')\n    }\n  },\n  feedbackRecipients: {\n    label: i18n.t('Feedback recipients'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'userGroups',\n    includeEmpty: true,\n    emptyLabel: i18n.t('No message recipients')\n  },\n  offlineOrganisationUnitLevel: {\n    label: i18n.t('Max offline organisation unit levels'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnitLevels'\n  },\n  factorDeviation: {\n    label: i18n.t('Data analysis std dev factor'),\n    validators: ['positive_number']\n  },\n  phoneNumberAreaCode: {\n    label: i18n.t('Phone number area code'),\n    validators: ['number']\n  },\n  multiOrganisationUnitForms: {\n    label: i18n.t('Enable multi-organisation unit forms'),\n    type: 'checkbox'\n  },\n  keyAcceptanceRequiredForApproval: {\n    label: i18n.t('Acceptance required before approval'),\n    type: 'checkbox'\n  },\n  keyGatherAnalyticalObjectStatisticsInDashboardViews: {\n    label: i18n.t('Gather analytical object statistics in dashboard views'),\n    type: 'checkbox'\n  },\n  keyCountPassiveDashboardViewsInUsageAnalytics: {\n    label: i18n.t('Include passive dashboard views in usage analytics statistics'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Analytics                                                                                          */\n\n  /* ============================================================================================================ */\n  keyAnalysisRelativePeriod: {\n    label: i18n.t('Default relative period for analysis'),\n    type: 'dropdown',\n    options: {\n      THIS_MONTH: i18n.t('This month'),\n      LAST_MONTH: i18n.t('Last month'),\n      THIS_BIMONTH: i18n.t('This bi-month'),\n      LAST_BIMONTH: i18n.t('Last bi-month'),\n      THIS_QUARTER: i18n.t('This quarter'),\n      LAST_QUARTER: i18n.t('Last quarter'),\n      THIS_SIX_MONTH: i18n.t('This six-month'),\n      LAST_SIX_MONTH: i18n.t('Last six-month'),\n      MONTHS_THIS_YEAR: i18n.t('Months this year'),\n      QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n      THIS_YEAR: i18n.t('This year'),\n      MONTHS_LAST_YEAR: i18n.t('Months last year'),\n      QUARTERS_LAST_YEAR: i18n.t('Quarters last year'),\n      LAST_YEAR: i18n.t('Last year'),\n      LAST_5_YEARS: i18n.t('Last 5 years'),\n      LAST_12_MONTHS: i18n.t('Last 12 months'),\n      LAST_6_MONTHS: i18n.t('Last 6 months'),\n      LAST_3_MONTHS: i18n.t('Last 3 months'),\n      LAST_6_BIMONTHS: i18n.t('Last 6 bi-months'),\n      LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n      LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n      THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n      LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n      LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years'),\n      THIS_WEEK: i18n.t('This week'),\n      LAST_WEEK: i18n.t('Last week'),\n      LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n      LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n      LAST_52_WEEKS: i18n.t('Last 52 weeks')\n    }\n  },\n  keyHideDailyPeriods: {\n    label: i18n.t('Hide daily periods'),\n    sectionLabel: i18n.t('Hidden period types in analytics apps'),\n    type: 'checkbox'\n  },\n  keyHideWeeklyPeriods: {\n    label: i18n.t('Hide weekly periods'),\n    type: 'checkbox'\n  },\n  keyHideMonthlyPeriods: {\n    label: i18n.t('Hide monthly periods'),\n    type: 'checkbox'\n  },\n  keyHideBiMonthlyPeriods: {\n    label: i18n.t('Hide bimonthly periods'),\n    type: 'checkbox'\n  },\n  analyticsFinancialYearStart: {\n    label: i18n.t('Financial year relative period start month'),\n    type: 'dropdown',\n    options: {\n      FINANCIAL_YEAR_APRIL: i18n.t('April'),\n      FINANCIAL_YEAR_JULY: i18n.t('July'),\n      FINANCIAL_YEAR_OCTOBER: i18n.t('October')\n    }\n  },\n  keyCacheStrategy: {\n    label: i18n.t('Cache strategy'),\n    type: 'dropdown',\n    options: {\n      NO_CACHE: i18n.t('No cache'),\n      CACHE_15_MINUTES: i18n.t('Cache for 15 minutes'),\n      CACHE_30_MINUTES: i18n.t('Cache for 30 minutes'),\n      CACHE_1_HOUR: i18n.t('Cache for one hour'),\n      CACHE_6AM_TOMORROW: i18n.t('Cache until 6AM tomorrow'),\n      CACHE_TWO_WEEKS: i18n.t('Cache for two weeks')\n    }\n  },\n  keyCacheability: {\n    label: i18n.t('Cacheability'),\n    type: 'dropdown',\n    options: {\n      PUBLIC: i18n.t('Public'),\n      PRIVATE: i18n.t('Private')\n    }\n  },\n  keyAnalyticsCacheTtlMode: {\n    label: i18n.t('Analytics cache mode'),\n    type: 'dropdown',\n    options: {\n      PROGRESSIVE: i18n.t('Progressive'),\n      FIXED: i18n.t('Fixed')\n    }\n  },\n  keyIgnoreAnalyticsApprovalYearThreshold: {\n    label: i18n.t('Max number of years to hide unapproved data in analytics'),\n    type: 'dropdown',\n    options: {\n      '-1': i18n.t('Never check approval'),\n      0: i18n.t('Check approval for all data'),\n      1: i18n.t('Current year only'),\n      2: i18n.t('Last 2 years'),\n      3: i18n.t('Last 3 years'),\n      4: i18n.t('Last 4 years'),\n      5: i18n.t('Last 5 years'),\n      6: i18n.t('Last 6 years'),\n      7: i18n.t('Last 7 years'),\n      8: i18n.t('Last 8 years'),\n      9: i18n.t('Last 9 years'),\n      10: i18n.t('Last 10 years')\n    }\n  },\n  keyRespectMetaDataStartEndDatesInAnalyticsTableExport: {\n    label: i18n.t('Respect category option start and end date in analytics table export'),\n    type: 'checkbox'\n  },\n  keyAnalyticsMaintenanceMode: {\n    label: i18n.t('Put analytics in maintenance mode'),\n    type: 'checkbox'\n  },\n  keyAnalyticsCacheProgressiveTtlFactor: {\n    label: i18n.t('Caching factor'),\n    type: 'dropdown',\n    options: {\n      1: '1',\n      2: '2',\n      4: '4',\n      8: '8',\n      16: '16',\n      32: '32',\n      64: '64',\n      128: '128',\n      192: '192',\n      256: '256',\n      320: '320',\n      512: '512',\n      1024: '1024'\n    },\n    hideWhen: {\n      settingsKey: 'keyAnalyticsCacheTtlMode',\n      settingsValue: 'FIXED'\n    }\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Server                                                                                             */\n\n  /* ============================================================================================================ */\n  keyDatabaseServerCpus: {\n    label: i18n.t('Number of database server CPUs'),\n    type: 'dropdown',\n    options: {\n      0: i18n.t('Automatic (detect based on web server)'),\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      16: '16',\n      32: '32'\n    }\n  },\n  keySystemNotificationsEmail: {\n    label: i18n.t('System notifications email address'),\n    validators: ['email']\n  },\n  googleAnalyticsUA: {\n    label: i18n.t('Google Analytics (Universal Analytics) key')\n  },\n  keyGoogleMapsApiKey: {\n    label: i18n.t('Google Maps API key'),\n    type: 'password'\n  },\n  keyBingMapsApiKey: {\n    label: i18n.t('Bing Maps API key'),\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Appearance                                                                                         */\n\n  /* ============================================================================================================ */\n  localizedText: {\n    type: 'localizedAppearance',\n    searchLabels: [i18n.t('Application title'), i18n.t('Application introduction'), i18n.t('Application notification'), i18n.t('Application left-side footer'), i18n.t('Application right-side footer')]\n  },\n  applicationTitle: {\n    label: i18n.t('Application title'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationIntro: {\n    label: i18n.t('Application introduction'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationNotification: {\n    label: i18n.t('Application notification'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationFooter: {\n    label: i18n.t('Application left-side footer'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationRightFooter: {\n    label: i18n.t('Application right-side footer'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyStyle: {\n    label: i18n.t('Style'),\n    type: 'dropdown',\n    includeEmpty: false,\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'styles'\n  },\n  startModule: {\n    label: i18n.t('Start page'),\n    type: 'dropdown',\n    source: 'startModules'\n  },\n  helpPageLink: {\n    label: i18n.t('Help page link'),\n    validators: ['relative_url']\n  },\n  keyFlag: {\n    label: i18n.t('Flag'),\n    type: 'dropdown',\n    source: 'flags'\n  },\n  keyUiLocale: {\n    label: i18n.t('Interface language'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'uiLocales'\n  },\n  keyDbLocale: {\n    label: i18n.t('Database language'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'dbLocales'\n  },\n  keyAnalysisDisplayProperty: {\n    label: i18n.t('Property to display in analysis modules'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    options: {\n      name: i18n.t('Name'),\n      shortName: i18n.t('Short name')\n    }\n  },\n  keyAnalysisDigitGroupSeparator: {\n    label: i18n.t('Default digit group separator to display in analysis modules'),\n    type: 'dropdown',\n    options: {\n      SPACE: i18n.t('Space'),\n      COMMA: i18n.t('Comma'),\n      NONE: i18n.t('None')\n    }\n  },\n  keyRequireAddToView: {\n    label: i18n.t('Require authority to add to view object lists'),\n    type: 'checkbox'\n  },\n  keyUseCustomLogoFront: {\n    label: i18n.t('Custom login page logo'),\n    type: 'staticContent',\n    name: 'logo_front'\n  },\n  keyUseCustomLogoBanner: {\n    label: i18n.t('Custom top menu logo'),\n    type: 'staticContent',\n    name: 'logo_banner'\n  },\n  keyDashboardContextMenuItemSwitchViewType: {\n    label: i18n.t('Allow users to switch dashboard favorite view type'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemOpenInRelevantApp: {\n    label: i18n.t('Allow users to open dashboard favorite in relevant app'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemShowInterpretationsAndDetails: {\n    label: i18n.t('Allow users to show dashboard favorite interpretations and details'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemViewFullscreen: {\n    label: i18n.t('Allow users to view dashboard items in fullscreen'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Email                                                                                              */\n\n  /* ============================================================================================================ */\n  keyEmailHostName: {\n    label: i18n.t('Host name')\n  },\n  keyEmailPort: {\n    label: i18n.t('Port'),\n    type: 'dropdown',\n    options: {\n      587: '587',\n      465: '465',\n      25: '25'\n    }\n  },\n  keyEmailUsername: {\n    label: i18n.t('Username')\n  },\n  keyEmailPassword: {\n    label: i18n.t('Password'),\n    type: 'password'\n  },\n  keyEmailTls: {\n    label: i18n.t('TLS'),\n    type: 'checkbox'\n  },\n  keyEmailSender: {\n    label: i18n.t('Email sender'),\n    validators: ['email']\n  },\n  emailTestButton: {\n    label: i18n.t('Send me a test email'),\n    type: 'postButton',\n    uri: '/email/test'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Access                                                                                             */\n\n  /* ============================================================================================================ */\n  selfRegistrationRole: {\n    label: i18n.t('Self registration account user role'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'userRoles',\n    includeEmpty: true,\n    emptyLabel: i18n.t('Disable self registration')\n  },\n  selfRegistrationOrgUnit: {\n    label: i18n.t('Self registration account organisation unit'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnits',\n    includeEmpty: true,\n    emptyLabel: i18n.t('Disable self registration')\n  },\n  keySelfRegistrationNoRecaptcha: {\n    label: i18n.t('Do not require recaptcha for self registration'),\n    type: 'checkbox'\n  },\n  keyAccountRecovery: {\n    label: i18n.t('Enable user account recovery'),\n    type: 'checkbox'\n  },\n  keyLockMultipleFailedLogins: {\n    label: i18n.t('Lock user account temporarily after multiple failed login attempts'),\n    type: 'checkbox'\n  },\n  keyCanGrantOwnUserAuthorityGroups: {\n    label: i18n.t('Allow users to grant own user roles'),\n    type: 'checkbox'\n  },\n  keyAllowObjectAssignment: {\n    label: i18n.t('Allow assigning object to related objects during add or update'),\n    type: 'checkbox'\n  },\n  credentialsExpires: {\n    label: i18n.t('Require user account password change'),\n    type: 'dropdown',\n    options: {\n      0: i18n.t('Never'),\n      3: i18n.t('3 months'),\n      6: i18n.t('6 months'),\n      12: i18n.t('12 months')\n    }\n  },\n  credentialsExpiryAlert: {\n    label: i18n.t('Enable password expiry alerts'),\n    type: 'checkbox'\n  },\n  minPasswordLength: {\n    label: i18n.t('Minimum characters in password'),\n    type: 'dropdown',\n    options: {\n      8: '8',\n      10: '10',\n      12: '12',\n      14: '14'\n    }\n  },\n  corsWhitelist: {\n    label: i18n.t('CORS whitelist'),\n    configuration: true,\n    multiLine: true,\n    hintText: i18n.t('One URL per line'),\n    validators: ['url_array']\n  },\n  recaptchaSite: {\n    label: i18n.t('reCAPTCHA Site Key'),\n    type: 'password'\n  },\n  recaptchaSecret: {\n    label: i18n.t('reCAPTCHA Secret Key'),\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Calendar                                                                                           */\n\n  /* ============================================================================================================ */\n  keyCalendar: {\n    label: i18n.t('Calendar'),\n    type: 'dropdown',\n    options: {\n      coptic: i18n.t('Coptic'),\n      ethiopian: i18n.t('Ethiopian'),\n      gregorian: i18n.t('Gregorian'),\n      islamic: i18n.t('Islamic'),\n      iso8601: i18n.t('ISO 8601'),\n      julian: i18n.t('Julian'),\n      nepali: i18n.t('Nepali'),\n      thai: i18n.t('Thai'),\n      persian: i18n.t('Persian')\n    }\n  },\n  keyDateFormat: {\n    label: i18n.t('Date format'),\n    type: 'dropdown',\n    options: {\n      'yyyy-MM-dd': '1981-03-31 (yyyy-MM-dd)',\n      'dd-MM-yyyy': '31-03-1981 (dd-MM-yyyy)'\n    }\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Data Import                                                                                        */\n\n  /* ============================================================================================================ */\n  keyDataImportStrictPeriods: {\n    label: i18n.t('Require periods to match period type of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictDataElements: {\n    label: i18n.t('Require data elements to be part of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictCategoryOptionCombos: {\n    label: i18n.t('Require category option combos to match category combo of data element'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictOrganisationUnits: {\n    label: i18n.t('Require organisation units to match assignment of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictAttributeOptionCombos: {\n    label: i18n.t('Require attribute option combos to match category combo of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportRequireCategoryOptionCombo: {\n    label: i18n.t('Require category option combo to be specified'),\n    type: 'checkbox'\n  },\n  keyDataImportRequireAttributeOptionCombo: {\n    label: i18n.t('Require attribute option combo to be specified'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Synchronization                                                                                    */\n\n  /* ============================================================================================================ */\n  keyRemoteInstanceUrl: {\n    label: 'remote_server_url',\n    validators: ['url']\n  },\n  keyRemoteInstanceUsername: {\n    label: 'remote_server_username'\n  },\n  keyRemoteInstancePassword: {\n    label: 'remote_server_password',\n    type: 'password'\n  },\n  keyMetadataDataVersioning: {\n    label: 'keyVersionEnabled',\n    type: 'metadataSettings'\n  },\n  keyVersionEnabled: {\n    label: 'keyVersionEnabled',\n    type: 'checkbox'\n  },\n  keyStopMetadataSync: {\n    label: 'keyStopMetadataSync',\n    type: 'checkbox'\n  },\n  createVersionButton: {\n    label: 'create_metadata_version',\n    type: 'postButton',\n    uri: '/metadata/version/create'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: oAuth2 clients                                                                                     */\n\n  /* ============================================================================================================ */\n  oauth2clients: {\n    type: 'oauth2clients',\n    searchLabels: ['oauth2_clients', 'password', 'refresh_token', 'authorization_code']\n  }\n  /* ============================================================================================================ */\n  // The following keys are present in the demo database but are not managed by dhis-web-maintenance-settings\n  //\n  // 'sendMessageScheduled'\n  // 'timeSendingMessage'\n  // 'keyCustomCss'\n  // 'aggregationStrategy'\n  // 'zeroValueSaveMode'\n  // 'reportFramework'\n  // 'systemSettings'\n  // 'keyLastSuccessfulSynch'\n  // 'dataEntryFormCompleted'\n  // 'keyTrackerDashboardDefaultLayout'\n  // 'keyLastSuccessfulAnalyticsTablesUpdate'\n  // 'SMS_CONFIG'\n  // 'orgUnitGroupSetAggregationLevel'\n  // 'keyScheduledPeriodTypes'\n  // 'keyLastSuccessfulResourceTablesUpdate'\n  // 'keySchedTasks'\n  // 'applicationIntro'\n  // 'systemTitle'\n  // 'keyAccountInvite'\n  // 'flag'\n  // 'scheduleAggregateQueryBuilderTackStrategy'\n  // 'appBaseUrl'\n  // 'mysetting'\n  // 'appFolderPath'\n  // 'keySystemIdentifier'\n  // 'keyScheduledTasks'\n  // 'keyLastSuccessfulDataSynch'\n  // 'appStoreUrl'\n  // 'App_TabularData_SettingData'\n  // 'keyLastMonitoringRun'\n  // 'scheduleAggregateQueryBuilder'\n  // 'keyDataSetCompletenessTask'\n  // 'keyDataMartTask'\n\n};\nexport default settingsKeyMapping;","import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport { Observable } from 'rxjs';\nimport { categories } from './settingsCategories';\nimport settingsKeyMapping from './settingsKeyMapping';\nimport settingsStore from './settingsStore';\n/* eslint-disable max-params */\n\nconst settingsActions = Action.createActionsFromNames(['load', 'setCategory', 'saveKey', 'searchSettings', 'showSnackbarMessage']);\n\nconst saveLocalizedAppearanceSetting = (d2, key, value, locale) => {\n  const api = d2.Api.getApi();\n  const localeSuffix = locale ? `&locale=${locale}` : '';\n  const url = `/systemSettings/${key}?value=${value}${localeSuffix}`;\n  return api.post(url).then(() => {\n    settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n  }).catch(err => {\n    console.error('Failed to save localized setting:', err);\n  });\n};\n\nconst saveConfiguration = (d2, key, value) => d2.system.configuration.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n}).catch(err => {\n  console.error('Failed to save configuration:', err);\n});\n\nconst saveSetting = (d2, key, value) => d2.system.settings.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n}).catch(err => {\n  console.error('Failed to save setting:', err);\n});\n\nsettingsActions.saveKey.subscribe(args => {\n  const [key, value, locale] = args.data;\n  const mapping = settingsKeyMapping[key];\n  getD2().then(d2 => {\n    const isLocalisedAppearanceSetting = mapping.appendLocale && locale;\n\n    if (isLocalisedAppearanceSetting) {\n      saveLocalizedAppearanceSetting(d2, key, value, locale);\n    } else if (mapping.configuration) {\n      saveConfiguration(d2, key, value);\n    } else {\n      saveSetting(d2, key, value);\n    }\n\n    if (!isLocalisedAppearanceSetting) {\n      settingsStore.state[key] = value;\n      settingsStore.setState(settingsStore.state);\n    }\n  });\n});\nconst settingsSearchMap = Observable.fromPromise(new Promise(resolve => {\n  settingsActions.load.subscribe(args => {\n    getD2().then(d2 => {\n      // Get current settings and configuration\n      Promise.all([d2.system.settings.all(), d2.system.configuration.all(args.data === true)]).then(results => {\n        const cfg = Object.keys(results[1]).filter(key => key !== 'systemId').map(key => {\n          const value = results[1][key];\n          return {\n            key,\n            value\n          };\n        }).reduce((prev, curr) => {\n          let value = curr.value;\n\n          if (value === null || value === 'null' || value === undefined) {\n            value = 'null';\n          } else if (Object.hasOwnProperty.call(value, 'id')) {\n            value = value.id;\n          }\n\n          prev[curr.key] = value;\n          return prev;\n        }, {});\n        cfg.corsWhitelist = (results[1].corsWhitelist || []).filter(v => v.trim().length > 0).sort().join('\\n'); // Stupid fix for the fact that old controllers will save numbers as numbers,\n        // even though the API only allows string values, which creates a silly mismatch!\n\n        Object.keys(results[0]).forEach(key => {\n          const v = results[0][key];\n          results[0][key] = v !== null && !isNaN(v) ? v.toString() : v;\n        });\n        settingsStore.setState(Object.assign({}, results[0], cfg));\n      }, error => {\n        console.error('Failed to load system settings:', error);\n      }); // Build the search index\n\n      const searchMapping = Object.keys(categories).filter(categoryKey => !categories[categoryKey].authority || d2.currentUser.authorities.has(categories[categoryKey].authority)).map(categoryKey => categories[categoryKey].settings).reduce((searchArray, categoryKeys) => searchArray.concat(categoryKeys), []).reduce((translatedKeyValueMap, settingsKey) => {\n        if (!settingsKeyMapping[settingsKey]) {\n          return translatedKeyValueMap;\n        }\n\n        if (settingsKeyMapping[settingsKey].searchLabels) {\n          return translatedKeyValueMap.concat(settingsKeyMapping[settingsKey].searchLabels.filter(label => d2.i18n.isTranslated(label)).map(label => [d2.i18n.getTranslation(label), settingsKey]));\n        }\n\n        return translatedKeyValueMap.concat([[d2.i18n.getTranslation(settingsKeyMapping[settingsKey].label), settingsKey]]);\n      }, []);\n      resolve(searchMapping);\n    });\n  });\n}));\n\nfunction getSearchResultsFor(searchTerms) {\n  return settingsSearchMap.flatMap(val => Observable.from(val)).filter(keyValue => searchTerms.every(term => keyValue[0].toLowerCase().includes(term.toLowerCase()))).map(([, value]) => value).distinct().reduce((acc, value) => acc.concat(value), []).map(results => {\n    if (searchTerms.length === 1 && Object.hasOwnProperty.call(settingsKeyMapping, searchTerms[0])) {\n      results.push(searchTerms[0]);\n    }\n\n    return results;\n  });\n}\n\nlet searchTerms;\nsettingsActions.searchSettings.distinctUntilChanged().debounceTime(150).map(action => action.data.trim().split(/\\s+/).filter(t => t.length > 0)).do(searchValue => {\n  searchTerms = searchValue;\n\n  if (searchValue.length === 0) {\n    settingsActions.setCategory('general');\n  }\n}).filter(searchValue => searchValue.length).map(searchValue => getSearchResultsFor(searchValue)).concatAll().subscribe(searchResultSettings => {\n  settingsActions.setCategory({\n    key: 'search',\n    settings: searchResultSettings,\n    searchTerms\n  });\n});\nexport default settingsActions;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport CheckboxMaterial from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst sectionLabelStyle = {\n  color: 'rgba(0, 0, 0, 0.3)',\n  fontSize: '12px',\n  margin: '16px 0 6px 0'\n};\n\nclass Checkbox extends React.Component {\n  render() {\n    /* eslint-disable no-unused-vars */\n    const {\n      errorText,\n      errorStyle,\n      onChange,\n      sectionLabel,\n      value,\n      ...other\n    } = this.props;\n    /* eslint-enable no-unused-vars */\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12,\n        marginBottom: 12\n      }\n    }, sectionLabel && /*#__PURE__*/React.createElement(\"p\", {\n      style: sectionLabelStyle\n    }, sectionLabel), /*#__PURE__*/React.createElement(CheckboxMaterial, _extends({\n      onCheck: onChange,\n      checked: value === 'true'\n    }, other)));\n  }\n\n}\n\nCheckbox.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  errorStyle: PropTypes.object,\n  errorText: PropTypes.string,\n  sectionLabel: PropTypes.string,\n  value: PropTypes.string\n};\nCheckbox.defaultProps = {\n  value: 'false'\n};\nexport default Checkbox;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass DropDown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event, index, value) {\n    this.props.onChange({\n      target: {\n        value\n      }\n    });\n  }\n\n  renderMenuItems(menuItems) {\n    if (this.props.includeEmpty) {\n      menuItems = [{\n        id: 'null',\n        displayName: this.props.emptyLabel\n      }, ...menuItems];\n    }\n\n    return menuItems.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      primaryText: item.displayName\n    }));\n  }\n\n  render() {\n    const {\n      onFocus,\n      onBlur,\n      onChange,\n      value,\n      disabled,\n      menuItems,\n      // eslint-disable-line\n      includeEmpty,\n      emptyLabel,\n      noOptionsLabel,\n      isRequired,\n      // eslint-disable-line\n      ...other\n    } = this.props;\n    const hasOptions = menuItems.length > 0;\n    return /*#__PURE__*/React.createElement(SelectField, _extends({\n      value: hasOptions ? this.props.value : 1,\n      onChange: this.handleChange,\n      disabled: !hasOptions || disabled\n    }, other), hasOptions ? this.renderMenuItems(menuItems) : /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1,\n      primaryText: this.props.noOptionsLabel || '-'\n    }));\n  }\n\n}\n\n_defineProperty(DropDown, \"propTypes\", {\n  value: PropTypes.string.isRequired,\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  emptyLabel: PropTypes.string,\n  includeEmpty: PropTypes.bool,\n  menuItems: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  noOptionsLabel: PropTypes.string,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\n_defineProperty(DropDown, \"defaultProps\", {\n  defaultValue: '',\n  includeEmpty: false,\n  emptyLabel: '',\n  menuItems: [],\n  noOptionsLabel: '',\n  onFocus: undefined,\n  onBlur: undefined,\n  onChange: undefined\n});\n\nexport default DropDown;","import { blue100, blue500, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: blue500,\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default Object.assign({}, muiTheme, {\n  forms: {\n    minWidth: 350,\n    maxWidth: 750\n  },\n  formInput: {\n    fontWeight: 100\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, LinearLoader, CircularLoader, Modal, ModalTitle, ModalContent, CenteredContent } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport Checkbox from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AppTheme from '../theme';\nimport styles from './FileUpload.module.css';\n\nconst Upload = ({\n  isEnabled,\n  name,\n  showDialog,\n  onUpload,\n  onPreview\n}) => {\n  const dialogImgStyle = {\n    maxWidth: '100%',\n    maxHeight: '70vh',\n    backgroundColor: 'var(--colors-grey700)',\n    // Ensure image alt is visible against background if image fails to load\n    color: 'white'\n  };\n  const {\n    baseUrl,\n    apiVersion\n  } = useConfig();\n  const imgUrl = `${[baseUrl, 'api', apiVersion, 'staticContent', name].join('/')}?at=${new Date()}`;\n\n  if (isEnabled) {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n      secondary: true,\n      small: true,\n      className: styles.replaceImageBtn,\n      onClick: onUpload\n    }, i18n.t('Replace image')), /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      onClick: onPreview\n    }, i18n.t('Preview image')), showDialog && /*#__PURE__*/React.createElement(Modal, {\n      onClose: onPreview\n    }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Preview image')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"img\", {\n      style: dialogImgStyle,\n      src: imgUrl,\n      alt: i18n.t('Preview of image')\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    small: true,\n    onClick: onUpload\n  }, i18n.t('Upload image'));\n};\n\nUpload.propTypes = {\n  isEnabled: PropTypes.bool.isRequired,\n  name: PropTypes.oneOf(['logo_front', 'logo_banner']).isRequired,\n  showDialog: PropTypes.bool.isRequired,\n  onPreview: PropTypes.func.isRequired,\n  onUpload: PropTypes.func.isRequired\n};\n\nclass FileUpload extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isEnabled: this.props.isEnabled,\n      uploading: false,\n      progress: undefined,\n      showDialog: false\n    });\n\n    _defineProperty(this, \"onClick\", e => {\n      if (this.fileInput && !this.state.uploading) {\n        this.fileInput.click(e);\n      } else if (this.state.uploading) {\n        this.xhr.abort();\n        this.setState({\n          uploading: false,\n          progress: undefined\n        });\n      }\n    });\n\n    _defineProperty(this, \"onPreviewClick\", () => {\n      this.setState(state => ({\n        showDialog: !state.showDialog\n      }));\n    });\n\n    _defineProperty(this, \"onToggle\", e => {\n      this.props.onChange({\n        target: {\n          value: e.target.checked\n        }\n      });\n    });\n\n    _defineProperty(this, \"onUpload\", async e => {\n      if (e.target.files.length === 0) {\n        return;\n      }\n\n      this.setState({\n        uploading: true,\n        progress: undefined\n      });\n      const d2 = await getD2();\n      const api = d2.Api.getApi();\n      const xhr = new XMLHttpRequest();\n\n      xhr.upload.onprogress = progress => {\n        if (progress.lengthComputable) {\n          this.setState({\n            progress: progress.loaded / progress.total * 100\n          });\n        } else {\n          this.setState({\n            progress: undefined\n          });\n        }\n      };\n\n      this.xhr = xhr;\n      const data = new FormData();\n      data.append('file', e.target.files[0]);\n\n      try {\n        await api.post(['staticContent', this.props.name].join('/'), data);\n        this.props.onChange({\n          target: {\n            value: true\n          }\n        });\n        this.setState({\n          uploading: false,\n          progress: undefined,\n          isEnabled: true\n        });\n      } catch {\n        this.props.onChange({\n          target: {\n            value: false\n          }\n        });\n        this.setState({\n          uploading: false,\n          progress: undefined,\n          isEnabled: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"renderUploading\", () => {\n      const progressStyle = {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        zIndex: 1\n      };\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.onClick\n      }, i18n.t('Cancel upload')), /*#__PURE__*/React.createElement(\"div\", {\n        style: progressStyle\n      }, this.state.progress ? /*#__PURE__*/React.createElement(LinearLoader, {\n        amount: this.state.progress\n      }) : /*#__PURE__*/React.createElement(CircularLoader, null)));\n    });\n  }\n\n  render() {\n    const {\n      onFocus,\n      onBlur,\n      onChange,\n      ...other\n    } = this.props; // eslint-disable-line\n\n    const containerStyle = {\n      position: 'relative',\n      display: 'block',\n      whiteSpace: 'nowrap'\n    };\n    const checkStyle = {\n      display: 'inline-block',\n      whiteSpace: 'nowrap',\n      paddingRight: 8,\n      paddingTop: 8,\n      paddingBottom: 8\n    };\n    const btnStyle = {\n      display: 'inline-block',\n      position: 'absolute',\n      top: 2\n    };\n\n    const setRef = ref => {\n      this.fileInput = ref;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: checkStyle\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: this.props.label,\n      onCheck: this.onToggle,\n      disabled: !this.state.isEnabled,\n      labelStyle: {\n        color: AppTheme.rawTheme.palette.textColor\n      },\n      checked: this.props.value\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: btnStyle\n    }, this.state.uploading ? this.renderUploading() : /*#__PURE__*/React.createElement(Upload, {\n      isEnabled: this.state.isEnabled,\n      name: this.props.name,\n      showDialog: this.state.showDialog,\n      onUpload: this.onClick,\n      onPreview: this.onPreviewClick\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      style: {\n        visibility: 'hidden',\n        display: 'none'\n      },\n      ref: setRef,\n      onChange: this.onUpload\n    })));\n  }\n\n}\n\n_defineProperty(FileUpload, \"propTypes\", {\n  isEnabled: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.oneOf(['logo_front', 'logo_banner']).isRequired,\n  value: PropTypes.bool.isRequired,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\nexport default FileUpload;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport TextField from 'material-ui/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst helpTextStyle = {\n  fontSize: '12px',\n  color: 'rgba(0, 0, 0, 0.3)',\n  margin: '-4px 0 0'\n};\n\nclass TextFieldComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      value: this.props.value\n    });\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      value: props.value\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      changeEvent,\n      isRequired,\n      defaultValue,\n      helpText,\n      ...other\n    } = this.props; // eslint-disable-line\n\n    const errorStyle = {\n      lineHeight: this.props.multiLine ? '48px' : '12px',\n      marginTop: this.props.multiLine ? -16 : 0\n    };\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TextField, _extends({\n      errorStyle: errorStyle\n    }, other, {\n      value: this.state.value,\n      onChange: this.onChange\n    })), helpText && /*#__PURE__*/React.createElement(\"p\", {\n      style: helpTextStyle\n    }, helpText));\n  }\n\n}\n\n_defineProperty(TextFieldComponent, \"propTypes\", {\n  helpText: PropTypes.node,\n  multiLine: PropTypes.bool,\n  value: PropTypes.string\n});\n\n_defineProperty(TextFieldComponent, \"defaultProps\", {\n  value: '',\n  multiLine: false,\n  helpText: ''\n});\n\nexport default TextFieldComponent;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card } from '@dhis2/ui';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from '../configOptionStore';\nimport SelectField from '../form-fields/drop-down';\nimport TextField from '../form-fields/text-field';\nimport settingsActions from '../settingsActions';\nimport settingsKeyMapping from '../settingsKeyMapping';\nimport settingsStore from '../settingsStore';\nconst systemDefaultText = i18n.t('System default (fallback)');\n/**\n * To understand why this component works the way it does, some background knowledge is required:\n *\n * The default values of these appearance settings cannot be fetched via `/systemSettings/<key>`\n * because this keyed endpoint applies translation. However, the default values for the appearance\n * settings can be obtained when calling `/systemSettings`, because this endpoint doesn't apply\n * translations. As such, the default values are already present in the `settingsStore`.\n *\n * When posting settings for a specific locale, we need to add a `locale` query parameter like so:\n * `/systemSettings/<key>?locale=<locale>`. To make this work a dedicated function has been created\n * in `src/settingsActions.js` called `saveLocalizedAppearanceSetting`. However, when we want to\n * update a default value, we need to omit the `locale` query parameter. Effectively this means that\n * updating a default appearance setting is identical to updating a regular setting, so it can just\n * be handled by the `saveSetting` function.\n */\n\nconst styles = {\n  container: {\n    padding: '0 var(--spacers-dp16) var(--spacers-dp8)'\n  },\n  field: {\n    width: '100%'\n  },\n  loaderWrap: {\n    textAlign: 'center',\n    padding: 12\n  },\n  error: {\n    color: 'red',\n    padding: 12\n  },\n  clickableHelpText: {\n    color: '#3162C5',\n    textDecoration: 'underline',\n    cursor: 'pointer'\n  }\n};\nconst SYSTEM_DEFAULT = '@@__SYSTEM_DEFAULT__@@';\nconst LOCALIZED_SETTING_KEYS = ['applicationTitle', 'keyApplicationIntro', 'keyApplicationNotification', 'keyApplicationFooter', 'keyApplicationRightFooter'];\n\nclass LocalizedTextEditor extends React.Component {\n  static getLocaleName(code) {\n    return configOptionStore.state && configOptionStore.getState().uiLocales.filter(locale => locale.id === code).map(locale => locale.displayName).pop() || '';\n  }\n\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"switchToDefaultLocale\", () => {\n      this.handleChange({\n        target: {\n          value: SYSTEM_DEFAULT\n        }\n      });\n    });\n\n    _defineProperty(this, \"createFieldHelpTextProps\", fieldKey => {\n      const defaultValue = settingsStore.state[fieldKey];\n      const {\n        locale\n      } = this.state;\n\n      if (locale === SYSTEM_DEFAULT) {\n        return null;\n      }\n\n      if (defaultValue) {\n        return {\n          helpText: `${systemDefaultText}: ${defaultValue}`\n        };\n      }\n\n      return {\n        disabled: true,\n        helpText: /*#__PURE__*/React.createElement(\"span\", {\n          style: styles.clickableHelpText,\n          onClick: this.switchToDefaultLocale\n        }, i18n.t('Set the main field value before adding a translation'))\n      };\n    });\n\n    this.state = {\n      locale: settingsStore.state && settingsStore.state.keyUiLocale,\n      localeName: settingsStore.state && LocalizedTextEditor.getLocaleName(settingsStore.state.keyUiLocale),\n      settings: null,\n      error: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.saveSettingsKey = this.saveSettingsKey.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAppearanceSettings();\n    this.settingsStoreSubscription = settingsStore.subscribe(() => {\n      this.setState({\n        locale: settingsStore.state.keyUiLocale,\n        localeName: LocalizedTextEditor.getLocaleName(settingsStore.state.keyUiLocale)\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.settingsStoreSubscription) {\n      this.settingsStoreSubscription.unsubscribe();\n    }\n  }\n\n  getAppearanceSettings(code) {\n    const locale = code || this.state.locale;\n    const promise = locale === SYSTEM_DEFAULT ? Promise.resolve(LOCALIZED_SETTING_KEYS.map(key => settingsStore.state[key])) : this.fetchLocalizedAppearanceSettings(locale);\n    promise.then(values => {\n      const settings = LOCALIZED_SETTING_KEYS.reduce((acc, key, i) => {\n        acc[key] = values[i];\n        return acc;\n      }, {});\n      this.setState({\n        settings,\n        error: false\n      });\n    }).catch(() => {\n      this.setState({\n        error: true,\n        settings: null\n      });\n    });\n  }\n\n  fetchLocalizedAppearanceSettings(locale) {\n    const api = this.context.d2.Api.getApi();\n    return Promise.all(LOCALIZED_SETTING_KEYS.map(key => api.get(`systemSettings/${key}`, {\n      locale\n    }).then(json => json[key])));\n  }\n\n  handleChange(e) {\n    const code = e.target.value;\n    this.setState({\n      locale: code,\n      localeName: LocalizedTextEditor.getLocaleName(code),\n      settings: null\n    });\n    this.getAppearanceSettings(code);\n  }\n\n  saveSettingsKey(key, value) {\n    this.setState({\n      settings: { ...this.state.settings,\n        [key]: value\n      }\n    });\n    const locale = this.state.locale === SYSTEM_DEFAULT ? null : this.state.locale;\n    settingsActions.saveKey(key, value, locale);\n  }\n\n  renderLocalizedAppearanceFields() {\n    if (!this.state.settings && !this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.loaderWrap\n      }, /*#__PURE__*/React.createElement(CircularProgress, null));\n    }\n\n    if (this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.error\n      }, i18n.t('Could not fetch localized settings'));\n    }\n\n    const fields = LOCALIZED_SETTING_KEYS.map(key => ({\n      name: key,\n      value: this.state.settings[key] || '',\n      component: TextField,\n      props: {\n        floatingLabelText: `${settingsKeyMapping[key].label} – ${this.state.localeName || systemDefaultText}`,\n        changeEvent: 'onBlur',\n        style: styles.field,\n        multiLine: true,\n        ...this.createFieldHelpTextProps(key)\n      }\n    }));\n    return /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.saveSettingsKey\n    });\n  }\n\n  render() {\n    const systemDefaultOption = {\n      id: SYSTEM_DEFAULT,\n      displayName: systemDefaultText\n    };\n    const optionStoreState = configOptionStore.getState();\n    const uiLocales = optionStoreState && optionStoreState.uiLocales || [];\n    const options = [systemDefaultOption, ...uiLocales];\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.container\n    }, /*#__PURE__*/React.createElement(SelectField, {\n      menuItems: options,\n      value: this.state.locale || '',\n      floatingLabelText: i18n.t('Select language'),\n      onChange: this.handleChange\n    }), this.state.locale && this.renderLocalizedAppearanceFields()));\n  }\n\n}\n\nLocalizedTextEditor.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default LocalizedTextEditor;","import FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { Table, Column, Cell } from 'fixed-data-table';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport { RadioButtonGroup, RadioButton } from 'material-ui/RadioButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Checkbox from '../form-fields/check-box';\nimport settingsActions from '../settingsActions';\nimport settingsKeyMapping from '../settingsKeyMapping';\nimport settingsStore from '../settingsStore';\nimport 'fixed-data-table/dist/fixed-data-table.css';\n\nclass metadataSettings extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      metadataVersions: [],\n      selectedTransactionType: 'BEST_EFFORT',\n      masterVersionName: null,\n      lastFailedTime: null,\n      hqInstanceUrl: null,\n      isVersioningEnabled: false,\n      remoteVersionName: null,\n      isLocalInstance: false,\n      hasVersions: false,\n      isTaskRunning: false\n    };\n    this.d2 = context.d2;\n    this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    this.onSelectTransactionType = this.onSelectTransactionType.bind(this);\n    this.syncVersions = this.syncVersions.bind(this);\n    this.syncSettings = this.syncSettings.bind(this);\n    this.createVersion = this.createVersion.bind(this);\n    this.onToggleVersioning = this.onToggleVersioning.bind(this);\n    this.onToggleStopSync = this.onToggleStopSync.bind(this);\n    this.saveSettingsKey = 'keyVersionEnabled';\n    this.stopMetadataSyncKey = 'keyStopMetadataSync';\n    this.createVersionKey = 'createVersionButton';\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(settings => {\n      this.setState({\n        isVersioningEnabled: settings[this.saveSettingsKey] === 'true'\n      }, () => {\n        this.syncVersions();\n        this.syncVersions().then(this.syncSettings);\n      });\n    }));\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  onSelectTransactionType(event, value) {\n    this.setState({\n      selectedTransactionType: value\n    });\n  }\n\n  onToggleVersioning(e, v) {\n    settingsActions.saveKey(this.saveSettingsKey, v ? 'true' : 'false');\n  }\n\n  onToggleStopSync(e, v) {\n    settingsActions.saveKey(this.stopMetadataSyncKey, v ? 'true' : 'false');\n  }\n\n  createVersion() {\n    const mapping = settingsKeyMapping[this.createVersionKey];\n    this.setState({\n      isTaskRunning: true\n    });\n    this.d2.Api.getApi().post(`${mapping.uri}?type=${this.state.selectedTransactionType}`).then(() => {\n      this.setState({\n        isTaskRunning: false\n      });\n      settingsActions.load(true);\n      settingsActions.showSnackbarMessage(this.getTranslation('version_created'));\n      return Promise.resolve();\n    }).then(this.sync).catch(() => {\n      this.setState({\n        isTaskRunning: false\n      });\n      settingsActions.showSnackbarMessage(this.getTranslation('version_not_created'));\n      return Promise.resolve();\n    });\n  }\n\n  syncSettings() {\n    this.d2.Api.getApi().get('/systemSettings').then(result => {\n      this.setState({\n        lastFailedTime: result.keyMetadataLastFailedTime ? result.keyMetadataLastFailedTime : null,\n        isVersioningEnabled: result.keyVersionEnabled,\n        hqInstanceUrl: result.keyRemoteInstanceUrl,\n        remoteVersionName: result.keyRemoteMetadataVersion,\n        lastFailedVersion: result.keyMetadataFailedVersion ? result.keyMetadataFailedVersion : null,\n        isSchedulerEnabled: result.keySchedTasks !== undefined\n      });\n\n      if (this.state.hqInstanceUrl !== undefined && this.state.hqInstanceUrl.length !== 0) {\n        this.setState({\n          isLocalInstance: true,\n          masterVersionName: this.state.remoteVersionName,\n          isLastSyncValid: this.state.lastFailedTime != null\n        });\n      } else {\n        this.setState({\n          isLocalInstance: false,\n          masterVersionName: this.state.metadataVersions !== undefined && this.state.metadataVersions.length !== 0 ? this.state.metadataVersions[0].name : null\n        });\n      }\n\n      return Promise.resolve();\n    }).catch(() => {\n      settingsActions.showSnackbarMessage(this.getTranslation('error_fetching_settings'));\n      return Promise.resolve();\n    });\n  }\n\n  syncVersions() {\n    if (this.state.isVersioningEnabled === true) {\n      return this.d2.Api.getApi().get('/metadata/versions').then(result => {\n        const versions = result.metadataversions.sort((a, b) => {\n          if (a.created < b.created) {\n            return 1;\n          } else if (a.created > b.created) {\n            return -1;\n          }\n\n          return 0;\n        });\n        versions.forEach(version => {\n          version.importdate = version.importdate ? new Date(version.importdate).toLocaleString() : 'NA';\n        });\n        this.setState({\n          metadataVersions: versions,\n          hasVersions: versions !== undefined && versions.length !== 0\n        });\n        return Promise.resolve();\n      }).catch(() => {\n        this.setState({\n          hasVersions: false\n        });\n        return Promise.resolve();\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  renderVersionList() {\n    const styles = {\n      inlineRight: {\n        display: 'inline-block',\n        float: 'right'\n      },\n      visible: {\n        display: 'block',\n        paddingTop: '2rem'\n      },\n      hidden: {\n        display: 'none'\n      },\n      inlineProgressIcon: {\n        display: 'inline-block',\n        top: '-7px',\n        float: 'left'\n      }\n    };\n\n    const fieldGetter = (field, filter = x => x) => ({\n      rowIndex,\n      ...props\n    }) => /*#__PURE__*/React.createElement(Cell, props, filter(this.state.metadataVersions[rowIndex][field]));\n\n    const dateFmt = str => new Date(str).toLocaleString();\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, this.getTranslation('create_metadata_version')), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButtonGroup, {\n      name: \"version_types\",\n      onChange: this.onSelectTransactionType,\n      defaultSelected: \"BEST_EFFORT\",\n      style: {\n        display: 'flex'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"BEST_EFFORT\",\n      label: this.getTranslation('version_type_best_effort'),\n      disabled: this.state.isTaskRunning\n    }), /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"ATOMIC\",\n      label: this.getTranslation('version_type_atomic'),\n      disabled: this.state.isTaskRunning\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.inlineRight\n    }, this.state.isTaskRunning && /*#__PURE__*/React.createElement(CircularProgress, {\n      style: styles.inlineProgressIcon,\n      size: 0.5\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      label: this.getTranslation('create_metadata_version'),\n      onClick: this.createVersion,\n      disabled: this.state.isTaskRunning\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block',\n        float: 'left'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: '1.17em',\n        fontWeight: 'bold',\n        marginRight: 8\n      }\n    }, this.getTranslation('master_version'), \":\"), this.state.masterVersionName || this.getTranslation('none')), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.inlineRight : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLastSyncValid ? styles.inlineRight : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontStyle: 'italic'\n      }\n    }, this.getTranslation('last_sync_attempt'), \":\"), /*#__PURE__*/React.createElement(\"span\", null, this.state.lastFailedVersion), /*#__PURE__*/React.createElement(\"span\", null, ' ', \"|\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      }\n    }, this.getTranslation('failed')), \"|\", ' ', new Date(this.state.lastFailedTime).toLocaleString())))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 135\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created', dateFmt),\n      width: 205\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 145\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Last Sync\"),\n      cell: fieldGetter('importdate'),\n      width: 185\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 190\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created'),\n      width: 280\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 200\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(\"h4\", null, this.getTranslation('no_versions_exist'))));\n  }\n\n  render() {\n    const localeAppendage = this.state.locale === 'en' ? '' : this.state.locale;\n    const checkboxFields = [{\n      name: 'keyVersionEnabled',\n      value: settingsStore.state && settingsStore.state[this.saveSettingsKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: this.getTranslation('keyVersionEnabled'),\n        checked: (settingsStore.state && settingsStore.state[this.saveSettingsKey]) === 'true',\n        onCheck: this.onToggleVersioning,\n        disabled: this.state.isTaskRunning\n      }\n    }, {\n      name: 'keyStopMetadataSync',\n      value: settingsStore.state && settingsStore.state[this.stopMetadataSyncKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: this.getTranslation('keyStopMetadataSync'),\n        checked: (settingsStore.state && settingsStore.state[this.stopMetadataSyncKey]) === 'true',\n        onCheck: this.onToggleStopSync\n      }\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: '2rem'\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", null, this.getTranslation('metadata_versioning')), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: checkboxFields,\n      onUpdateField: settingsActions.saveKey\n    }), this.state.isVersioningEnabled === true ? this.renderVersionList() : null);\n  }\n\n}\n\nmetadataSettings.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default metadataSettings;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Checkbox from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass MultiToggle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      values: this.props.items.reduce((prev, curr) => {\n        if (curr.value) {\n          prev.push(curr.name);\n        }\n\n        return prev;\n      }, [])\n    });\n\n    this.onToggle = this.onToggle.bind(this);\n  }\n\n  onToggle(value, event, checked) {\n    this.setState(oldState => {\n      if (checked) {\n        if (oldState.values.indexOf(value) === -1) {\n          oldState.values.push(value);\n        }\n      } else if (oldState.values.indexOf(value) !== -1) {\n        oldState.values.splice(oldState.values.indexOf(value), 1);\n      }\n\n      return oldState;\n    }, () => {\n      this.props.onChange({\n        target: {\n          value: this.state.values\n        }\n      });\n    });\n  }\n\n  render() {\n    const style = Object.assign({}, this.context.muiTheme.forms, this.props.style);\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 16,\n        marginBottom: 8\n      }\n    }, this.props.label), this.props.items.map(item => {\n      const togglor = this.onToggle.bind(null, item.name); // eslint-disable-line\n\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        key: item.name,\n        name: item.name,\n        value: \"true\",\n        defaultChecked: item.value === true,\n        label: item.text,\n        onCheck: togglor,\n        style: style,\n        labelPosition: \"right\"\n      });\n    }));\n  }\n\n}\n\n_defineProperty(MultiToggle, \"propTypes\", {\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    value: PropTypes.bool\n  })),\n  style: PropTypes.object\n});\n\n_defineProperty(MultiToggle, \"defaultProps\", {\n  items: [],\n  style: {}\n});\n\nMultiToggle.contextTypes = {\n  muiTheme: PropTypes.object\n};\nexport default MultiToggle;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Modal, ModalTitle, ModalContent } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { isUrlArray, isRequired } from 'd2-ui/lib/forms/Validators';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport MultiToggle from '../form-fields/multi-toggle';\nimport TextField from '../form-fields/text-field';\nimport AppTheme from '../theme';\nimport styles from './ClientForm.module.css';\nconst formFieldStyle = AppTheme.forms;\nformFieldStyle.width = '100%';\n\nconst validateClientID = async v => {\n  const d2 = await getD2();\n  const list = await d2.models.oAuth2Clients.list({\n    paging: false,\n    filter: [`cid:eq:${v}`]\n  });\n\n  if (list.size > 0) {\n    throw i18n.t('This client ID is already taken');\n  }\n};\n\nconst ClientForm = ({\n  clientModel,\n  onUpdate,\n  onSave,\n  onCancel\n}) => {\n  const grantTypes = (clientModel && clientModel.grantTypes || []).reduce((curr, prev) => {\n    curr[prev] = true;\n    return curr;\n  }, {});\n  const fields = [{\n    name: 'name',\n    value: clientModel.name,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Name'),\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isRequired,\n      message: i18n.t('Required')\n    }]\n  }, {\n    name: 'cid',\n    value: clientModel.cid,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Client ID'),\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isRequired,\n      message: i18n.t('Required')\n    }, {\n      validator: v => v.toString().trim().length > 0,\n      message: i18n.t('Required')\n    }],\n    asyncValidators: [validateClientID]\n  }, {\n    name: 'secret',\n    value: clientModel && clientModel.secret,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Client Secret'),\n      disabled: true,\n      style: formFieldStyle\n    }\n  }, {\n    name: 'grantTypes',\n    component: MultiToggle,\n    style: formFieldStyle,\n    props: {\n      label: i18n.t('Grant Types'),\n      items: [{\n        name: 'password',\n        text: i18n.t('Password'),\n        value: grantTypes.password\n      }, {\n        name: 'refresh_token',\n        text: i18n.t('Refresh token'),\n        value: grantTypes.refresh_token\n      }, {\n        name: 'authorization_code',\n        text: i18n.t('Authorization code'),\n        value: grantTypes.authorization_code\n      }]\n    }\n  }, {\n    name: 'redirectUris',\n    value: (clientModel.redirectUris || []).join('\\n'),\n    component: TextField,\n    props: {\n      hintText: i18n.t('One URL per line'),\n      floatingLabelText: i18n.t('Redirect URIs'),\n      multiLine: true,\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isUrlArray,\n      message: i18n.t('This field should contain a list of URLs')\n    }]\n  }];\n  const headerText = clientModel.id === undefined ? i18n.t('Create new OAuth2 Client') : i18n.t('Edit OAuth2 Client');\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onCancel\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, headerText), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(FormBuilder, {\n    fields: fields,\n    onUpdateField: onUpdate\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '1rem'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSave\n  }, i18n.t('Save')), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onCancel,\n    className: styles.cancelBtn\n  }, i18n.t('Cancel')))));\n};\n\nClientForm.propTypes = {\n  clientModel: PropTypes.object.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onUpdate: PropTypes.func.isRequired\n};\nexport default ClientForm;","import i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './ClientsList.module.css';\n\nconst ClientsList = ({\n  clients,\n  onClientEdit,\n  onClientDelete\n}) => /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Password')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Refresh token')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Authorization code')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, clients.map(client => /*#__PURE__*/React.createElement(TableRow, {\n  key: client.authorization_code\n}, /*#__PURE__*/React.createElement(TableCell, null, client.name), /*#__PURE__*/React.createElement(TableCell, null, client.password), /*#__PURE__*/React.createElement(TableCell, null, client.refresh_token), /*#__PURE__*/React.createElement(TableCell, null, client.authorization_code), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  primary: true,\n  className: styles.editBtn,\n  onClick: () => onClientEdit(client)\n}, i18n.t('Edit')), /*#__PURE__*/React.createElement(Button, {\n  small: true,\n  destructive: true,\n  onClick: () => onClientDelete(client)\n}, i18n.t('Delete')))))));\n\nClientsList.propTypes = {\n  clients: PropTypes.array.isRequired,\n  onClientDelete: PropTypes.func.isRequired,\n  onClientEdit: PropTypes.func.isRequired\n};\nexport default ClientsList;","import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport settingsActions from '../settingsActions';\nimport oa2Store from './oauth2Client.store';\nconst oa2Actions = Action.createActionsFromNames(['load', 'delete']);\noa2Actions.load.subscribe(() => {\n  getD2().then(d2 => {\n    d2.models.oAuth2Client.list({\n      paging: false,\n      fields: ':all',\n      order: 'displayName'\n    }).then(oa2ClientCollection => {\n      const yes = d2.i18n.getTranslation('yes');\n      const no = d2.i18n.getTranslation('no'); // Map grant types to object props in order to display them in the data table\n\n      oa2Store.setState(oa2ClientCollection.toArray().map(oa2c => Object.assign(oa2c, {\n        password: oa2c.grantTypes.indexOf('password') !== -1 ? yes : no,\n        refresh_token: oa2c.grantTypes.indexOf('refresh_token') !== -1 ? yes : no,\n        authorization_code: oa2c.grantTypes.indexOf('authorization_code') !== -1 ? yes : no\n      })));\n    });\n  });\n});\noa2Actions.delete.subscribe(e => {\n  e.data.delete().then(() => {\n    oa2Actions.load();\n    getD2().then(d2 => {\n      settingsActions.showSnackbarMessage(d2.i18n.getTranslation('oauth2_client_deleted'));\n    });\n  }).catch(err => {\n    console.error('Error when deleting OAuth2 client:', err);\n    getD2().then(d2 => {\n      settingsActions.showSnackbarMessage(d2.i18n.getTranslation('failed_to_save_oauth2_client'));\n    });\n  });\n});\nexport default oa2Actions;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, CenteredContent, Button } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport React, { Component } from 'react';\nimport settingsActions from '../settingsActions';\nimport ClientForm from './ClientForm';\nimport ClientsList from './ClientsList';\nimport oa2Actions from './oauth2Client.actions';\nimport oa2ClientStore from './oauth2Client.store';\nimport styles from './OAuth2ClientEditor.module.css';\n\nfunction generateSecret() {\n  const alphabet = '0123456789abcdef';\n  let uid = '';\n\n  for (let i = 0; i < 32; i++) {\n    uid += alphabet.charAt(Math.random() * alphabet.length);\n\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      uid += '-';\n    }\n  }\n\n  return uid;\n}\n\nclass OAuth2ClientEditor extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      showForm: false,\n      saving: false\n    });\n\n    _defineProperty(this, \"cancelAction\", () => {\n      this.clientModel = undefined;\n      oa2Actions.load();\n      this.setState({\n        showForm: false\n      });\n    });\n\n    _defineProperty(this, \"newAction\", () => {\n      getD2().then(d2 => {\n        this.clientModel = d2.models.oAuth2Client.create();\n        this.clientModel.secret = generateSecret();\n        this.setState({\n          showForm: true\n        });\n      });\n    });\n\n    _defineProperty(this, \"editAction\", model => {\n      this.clientModel = model;\n      this.setState({\n        showForm: true\n      });\n    });\n\n    _defineProperty(this, \"deleteAction\", model => {\n      this.setState({\n        showForm: false,\n        saving: true\n      });\n      oa2Actions.delete(model.id ? model : this.clientModel);\n      this.clientModel = undefined;\n    });\n\n    _defineProperty(this, \"saveAction\", () => {\n      this.clientModel.name = this.clientModel.name || '';\n      this.clientModel.cid = this.clientModel.cid || '';\n      this.setState({\n        saving: true\n      });\n      this.clientModel.save().then(importReport => {\n        if (importReport.status !== 'OK') {\n          throw new Error(importReport);\n        }\n\n        settingsActions.showSnackbarMessage(i18n.t('OAuth2 client saved'));\n        oa2Actions.load();\n        this.setState({\n          showForm: false,\n          saving: false\n        });\n      }).catch(() => {\n        settingsActions.showSnackbarMessage(i18n.t('Failed to save OAuth2 client'));\n        this.setState({\n          saving: false\n        });\n      });\n    });\n\n    _defineProperty(this, \"formUpdateAction\", (field, v) => {\n      let value = v;\n\n      if (field === 'redirectUris') {\n        value = v.split('\\n').filter(a => a.trim().length > 0);\n      }\n\n      this.clientModel[field] = value;\n      this.forceUpdate();\n    });\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(oa2ClientStore.subscribe(() => {\n      this.forceUpdate();\n    }));\n    this.subscriptions.push(oa2Actions.delete.subscribe(() => {\n      this.setState({\n        saving: false\n      });\n    }));\n    oa2Actions.load();\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  render() {\n    const clients = oa2ClientStore.state;\n\n    if (!clients || this.state.saving) {\n      return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n    }\n\n    if (clients.length === 0) {\n      return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('There are currently no OAuth2 clients registered')));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrapper\n    }, /*#__PURE__*/React.createElement(ClientsList, {\n      clients: clients,\n      onClientEdit: this.editAction,\n      onClientDelete: this.deleteAction\n    }), /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      className: styles.addClientBtn,\n      onClick: this.newAction\n    }, i18n.t('Add OAuth2 client')), this.state.showForm && /*#__PURE__*/React.createElement(ClientForm, {\n      clientModel: this.clientModel,\n      onUpdate: this.formUpdateAction,\n      onSave: this.saveAction,\n      onCancel: this.cancelAction\n    }));\n  }\n\n}\n\nexport default OAuth2ClientEditor;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Card } from '@dhis2/ui';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators';\nimport IconButton from 'material-ui/IconButton';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from './configOptionStore';\nimport Checkbox from './form-fields/check-box';\nimport SelectField from './form-fields/drop-down';\nimport FileUpload from './form-fields/file-upload';\nimport TextField from './form-fields/text-field';\nimport LocalizedAppearance from './localized-text/LocalizedAppearanceEditor.component';\nimport metadataSettings from './metadata-settings/metadataSettings.component';\nimport Oauth2ClientEditor from './oauth2-client-editor/OAuth2ClientEditor.component';\nimport settingsActions from './settingsActions';\nimport { categories } from './settingsCategories';\nimport classes from './SettingsFields.module.css';\nimport settingsKeyMapping from './settingsKeyMapping';\nimport settingsStore from './settingsStore';\nimport AppTheme from './theme';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 500,\n    color: 'var(--colors-grey900)',\n    padding: '24px 0 12px 16px'\n  },\n  noHits: {\n    padding: '1rem',\n    marginTop: '1rem',\n    fontWeight: 300\n  },\n  userSettingsOverride: {\n    color: AppTheme.rawTheme.palette.primary1Color,\n    position: 'absolute',\n    right: 0,\n    top: 24\n  },\n  menuIcon: {\n    color: '#757575'\n  },\n  menuLabel: {\n    position: 'relative',\n    top: -6,\n    marginLeft: 16\n  }\n};\n\nfunction wrapUserSettingsOverride({\n  component,\n  valueLabel\n}) {\n  return class extends component {\n    render() {\n      const labelStyle = Object.assign({}, styles.userSettingsOverride);\n\n      if (component === Checkbox) {\n        labelStyle.top = -8;\n      }\n\n      const labelText = valueLabel ? `${i18n.t('This setting will be overridden by the current user setting: {{settingName}}', {\n        settingName: valueLabel,\n        nsSeparator: null\n      })}` : i18n.t('This setting can be overridden by user settings');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginRight: 48\n        }\n      }, super.render(), /*#__PURE__*/React.createElement(\"div\", {\n        style: labelStyle\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        iconClassName: \"material-icons\",\n        tooltip: labelText,\n        tooltipPosition: \"bottom-left\",\n        iconStyle: {\n          color: AppTheme.rawTheme.palette.primary1Color\n        },\n        tooltipStyles: {\n          fontSize: '.75rem',\n          marginRight: 32,\n          marginTop: -32\n        }\n      }, \"info_outline\")));\n    }\n\n  };\n}\n\nfunction addConditionallyHiddenStyles(mapping) {\n  if (!mapping || !mapping.hideWhen) {\n    return {};\n  }\n\n  const {\n    settingsKey,\n    settingsValue\n  } = mapping.hideWhen;\n  const currentValue = settingsStore.state && settingsStore.state[settingsKey];\n  return settingsValue === currentValue ? {\n    display: 'none'\n  } : {};\n}\n\nclass SettingsFields extends React.Component {\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(() => this.forceUpdate()));\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.currentSettings.join(',') !== this.props.currentSettings.join(',');\n  }\n\n  componentWillUnmount() {\n    if (Array.isArray(this.subscriptions)) {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n  }\n\n  fieldForMapping({\n    mapping,\n    fieldBase,\n    key,\n    d2\n  }) {\n    switch (mapping.type) {\n      case 'textfield':\n      case undefined:\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            changeEvent: 'onBlur',\n            multiLine: !!mapping.multiLine\n          })\n        });\n\n      case 'password':\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            type: 'password',\n            changeEvent: 'onBlur',\n            autoComplete: 'new-password'\n          })\n        });\n\n      case 'dropdown':\n        if (mapping.includeEmpty && fieldBase.value === '') {\n          fieldBase.value = 'null';\n        }\n\n        return Object.assign({}, fieldBase, {\n          component: SelectField,\n          props: Object.assign({}, fieldBase.props, {\n            menuItems: mapping.source ? configOptionStore.state && configOptionStore.state[mapping.source] || [] : Object.entries(mapping.options).map(([id, option]) => {\n              // TODO: Rename `option` param to `displayName` and remove below\n              const displayName = !isNaN(option) ? option : d2.i18n.getTranslation(option);\n              return {\n                id,\n                displayName\n              };\n            }),\n            includeEmpty: !!mapping.includeEmpty,\n            emptyLabel: mapping.includeEmpty && mapping.emptyLabel && d2.i18n.getTranslation(mapping.emptyLabel) || undefined,\n            noOptionsLabel: d2.i18n.getTranslation('no_options')\n          })\n        });\n\n      case 'checkbox':\n        return Object.assign({}, fieldBase, {\n          component: Checkbox,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            sectionLabel: mapping.sectionLabel && d2.i18n.getTranslation(mapping.sectionLabel) || undefined,\n            style: fieldBase.props.style,\n            onCheck: (e, v) => {\n              settingsActions.saveKey(key, v ? 'true' : 'false');\n            }\n          }\n        });\n\n      case 'staticContent':\n        if (!settingsStore.state) {\n          return null;\n        }\n\n        return Object.assign({}, fieldBase, {\n          component: FileUpload,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            name: mapping.name,\n            isEnabled: Object.hasOwnProperty.call(settingsStore.state, key),\n            value: fieldBase.value === 'true' || fieldBase.value === true\n          }\n        });\n\n      case 'oauth2clients':\n        return Object.assign({}, fieldBase, {\n          component: Oauth2ClientEditor\n        });\n\n      case 'postButton':\n        return Object.assign({}, fieldBase, {\n          component: Button,\n          props: {\n            children: fieldBase.props.floatingLabelText,\n            onClick: () => {\n              d2.Api.getApi().post(mapping.uri).then(result => {\n                settingsActions.load(true);\n                settingsActions.showSnackbarMessage(result.message);\n              }).catch(error => {\n                settingsActions.showSnackbarMessage(error.message);\n              });\n            }\n          }\n        });\n\n      case 'localizedAppearance':\n        return Object.assign({}, fieldBase, {\n          component: LocalizedAppearance\n        });\n\n      case 'metadataSettings':\n        return Object.assign({}, fieldBase, {\n          component: metadataSettings\n        });\n\n      default:\n        console.warn(`Unknown control type \"${mapping.type}\" encountered for field \"${key}\"`);\n        return {};\n    }\n  }\n\n  renderFields(settings) {\n    const d2 = this.context.d2;\n\n    if (settings.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.noHits\n      }, d2.i18n.getTranslation('no_settings_matched_the_search_term'));\n    }\n\n    const fields = settings.map(key => {\n      const mapping = settingsKeyMapping[key]; // Base config, common for all component types\n\n      const validators = [];\n\n      if (mapping.validators) {\n        mapping.validators.forEach(name => {\n          if (wordToValidatorMap.has(name)) {\n            validators.push({\n              validator: wordToValidatorMap.get(name),\n              message: d2.i18n.getTranslation(wordToValidatorMap.get(name).message)\n            });\n          }\n        });\n      }\n\n      const fieldBase = {\n        name: key,\n        value: settingsStore.state && settingsStore.state[key] || '',\n        component: TextField,\n        props: {\n          floatingLabelText: d2.i18n.getTranslation(mapping.label),\n          style: {\n            width: '100%',\n            ...addConditionallyHiddenStyles(mapping)\n          },\n          hintText: mapping.hintText && d2.i18n.getTranslation(mapping.hintText)\n        },\n        validators\n      };\n      return this.fieldForMapping({\n        mapping,\n        fieldBase,\n        key,\n        d2\n      });\n    }).filter(f => f && !!f.name).map(field => {\n      const mapping = settingsKeyMapping[field.name];\n      const options = configOptionStore.getState();\n\n      if (mapping.userSettingsOverride) {\n        const userSettingsNoFallback = options && options.userSettingsNoFallback || {};\n        const userSettingValue = userSettingsNoFallback && userSettingsNoFallback[field.name] !== null ? userSettingsNoFallback[field.name] : '';\n        const component = wrapUserSettingsOverride({\n          component: field.component,\n          valueLabel: mapping.source ? (options && options[mapping.source] || []).filter(opt => opt.id === userSettingValue).map(opt => opt.displayName).pop() : userSettingValue\n        });\n        return Object.assign(field, {\n          component\n        });\n      }\n\n      return field;\n    });\n    return /*#__PURE__*/React.createElement(Card, {\n      className: classes.card,\n      key: this.props.category\n    }, /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: settingsActions.saveKey\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header\n    }, categories[this.props.category] ? categories[this.props.category].pageLabel : i18n.t('Search results')), this.renderFields(this.props.currentSettings));\n  }\n\n}\n\nSettingsFields.propTypes = {\n  category: PropTypes.string.isRequired,\n  currentSettings: PropTypes.arrayOf(PropTypes.string).isRequired\n};\nSettingsFields.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default SettingsFields;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport Sidebar from 'd2-ui/lib/sidebar/Sidebar.component';\nimport createHistory from 'history/createHashHistory';\nimport Snackbar from 'material-ui/Snackbar';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './App.module.css';\nimport configOptionStore from './configOptionStore';\nimport settingsActions from './settingsActions';\nimport { categoryOrder, categories } from './settingsCategories';\nimport SettingsFields from './settingsFields.component';\nimport appTheme from './theme';\n\nclass AppComponent extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"closeSnackbar\", () => {\n      this.setState({\n        showSnackbar: false\n      });\n    });\n\n    _defineProperty(this, \"doSearch\", searchText => {\n      this.setState({\n        searchText\n      });\n      settingsActions.searchSettings(searchText);\n    });\n\n    this.state = {\n      category: categoryOrder[0],\n      currentSettings: categories[categoryOrder[0]].settings,\n      snackbarMessage: '',\n      showSnackbar: false,\n      formValidator: undefined\n    };\n    this.sidebarRef = /*#__PURE__*/React.createRef();\n  }\n\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      muiTheme: appTheme\n    };\n  }\n\n  componentDidMount() {\n    settingsActions.load();\n    this.subscriptions = [];\n    this.subscriptions.push(configOptionStore.subscribe(() => {\n      // Must force update here in order to redraw form fields that require config options\n      // TODO: Replace this with async select fields\n      this.forceUpdate();\n    }));\n    this.subscriptions.push(settingsActions.setCategory.subscribe(arg => {\n      const category = arg.data.key || arg.data || categoryOrder[0];\n      const searchResult = arg.data.settings || [];\n      const currentSettings = category === 'search' ? searchResult : categories[category].settings;\n\n      if (category !== 'search') {\n        this.sidebarRef.current.clearSearchBox();\n      }\n\n      const pathname = `/${category}`;\n      const search = category === 'search' ? `?${encodeURIComponent(arg.data.searchTerms.join(' '))}` : '';\n\n      if (pathname !== this.history.location.pathname || search !== this.history.location.search) {\n        this.history.push({\n          pathname,\n          search\n        });\n      }\n\n      this.setState({\n        category,\n        currentSettings,\n        searchText: category === 'search' ? this.state.searchText : ''\n      });\n    }));\n    this.subscriptions.push(settingsActions.showSnackbarMessage.subscribe(params => {\n      const message = params.data;\n      this.setState({\n        snackbarMessage: message,\n        showSnackbar: !!message\n      });\n    })); // Helper function for setting app state based on location\n\n    const navigate = location => {\n      const section = location.pathname.substr(1);\n\n      if (location.pathname === '/search') {\n        const search = decodeURIComponent(location.search.substr(1));\n        this.doSearch(search);\n      } else if (Object.keys(categories).includes(section)) {\n        settingsActions.setCategory(section);\n      } else {\n        this.history.replace(`/${categoryOrder[0]}`);\n        settingsActions.setCategory(categoryOrder[0]);\n      }\n    }; // Listen for location changes and update app state as necessary\n\n\n    this.history = createHistory();\n    this.unlisten = this.history.listen((location, action) => {\n      if (action === 'POP') {\n        navigate(location);\n      }\n    }); // Set initial app state based on current location\n\n    navigate(this.history.location);\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n\n    if (typeof this.unlisten === 'function') {\n      this.unlisten();\n    }\n  }\n\n  render() {\n    const sections = Object.keys(categories).map(category => {\n      const key = category;\n      const label = this.props.d2.i18n.getTranslation(categories[category].label);\n      const icon = categories[category].icon;\n      return {\n        key,\n        label,\n        icon\n      };\n    });\n    return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      muiTheme: appTheme\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Snackbar, {\n      message: this.state.snackbarMessage || '',\n      autoHideDuration: 1250,\n      open: this.state.showSnackbar,\n      onRequestClose: this.closeSnackbar\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentWrap\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sections,\n      onChangeSection: settingsActions.setCategory,\n      currentSection: this.state.category,\n      showSearchField: true,\n      searchFieldLabel: i18n.t('Search settings'),\n      ref: this.sidebarRef,\n      onChangeSearchText: this.doSearch,\n      searchText: this.state.searchText\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\",\n      className: styles.contentArea\n    }, /*#__PURE__*/React.createElement(SettingsFields, {\n      category: this.state.category,\n      currentSettings: this.state.currentSettings\n    })))));\n  }\n\n}\n\nAppComponent.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nAppComponent.contextTypes = {\n  muiTheme: PropTypes.object\n};\nAppComponent.childContextTypes = {\n  d2: PropTypes.object,\n  muiTheme: PropTypes.object\n};\nexport default AppComponent;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport enTranslations from './en/translations.json';\nconst namespace = 'default';\ni18n.addResources('en', namespace, enTranslations);\nexport default i18n;","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CssVariables, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport App from './app.component';\nimport 'material-design-icons-iconfont';\nimport configOptionStore from './configOptionStore';\nimport i18n from './locales';\nconst query = {\n  indicatorGroups: {\n    resource: 'indicatorGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  dataElementGroups: {\n    resource: 'dataElementGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  userGroups: {\n    resource: 'userGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnitLevels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      paging: false,\n      fields: 'id,level,displayName',\n      order: 'level:asc'\n    }\n  },\n  userRoles: {\n    resource: 'userRoles',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      filter: ['level:in:[1,2]']\n    }\n  },\n  apps: {\n    resource: 'action::menu/getModules'\n  },\n  flags: {\n    resource: 'system/flags'\n  },\n  styles: {\n    resource: 'system/styles'\n  },\n  uiLocales: {\n    resource: 'locales/ui'\n  },\n  dbLocales: {\n    resource: 'locales/db'\n  },\n  userSettingsNoFallback: {\n    resource: 'userSettings',\n    params: {\n      useFallback: false\n    }\n  }\n};\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Failed to load: {{error}}', {\n      error: error.message,\n      nsSeparator: null\n    })));\n  }\n\n  if (!d2 || loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const {\n    indicatorGroups,\n    dataElementGroups,\n    userGroups,\n    organisationUnitLevels,\n    userRoles,\n    organisationUnits,\n    userSettingsNoFallback\n  } = data;\n  const startModules = (data.apps.modules || []).map(module => ({\n    id: module.defaultAction.substr(0, 3) === '../' ? module.name : `app:${module.name}`,\n    displayName: module.displayName || module.name\n  }));\n  const flags = (data.flags || []).map(flag => ({\n    id: flag.key,\n    displayName: flag.name\n  }));\n  flags.unshift({\n    id: 'dhis2',\n    displayName: i18n.t('No flag')\n  });\n  const styles = (data.styles || []).map(style => ({\n    id: style.path,\n    displayName: style.name\n  }));\n  const uiLocales = (data.uiLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  const dbLocales = (data.dbLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  configOptionStore.setState({\n    indicatorGroups: indicatorGroups.indicatorGroups,\n    dataElementGroups: dataElementGroups.dataElementGroups,\n    userGroups: userGroups.userGroups,\n    organisationUnitLevels: organisationUnitLevels.organisationUnitLevels,\n    userRoles: userRoles.userRoles,\n    organisationUnits: organisationUnits.organisationUnits,\n    startModules,\n    flags,\n    styles,\n    uiLocales,\n    dbLocales,\n    userSettingsNoFallback\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  }));\n};\n\nexport default AppWrapper;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrap\":\"App_contentWrap__LkWn-\",\"contentArea\":\"App_contentArea__4AZNb\"};"],"sourceRoot":""}