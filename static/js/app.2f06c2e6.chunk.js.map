{"version":3,"sources":["D2App/configOptionStore.js","D2App/settingsCategories.js","D2App/settingsKeyMapping.js","D2App/settingsStore.js","D2App/settingsActions.js","D2App/form-fields/check-box.js","D2App/form-fields/drop-down.js","D2App/theme.js","D2App/Translate.HOC.js","D2App/lib/react/getDisplayName.js","D2App/form-fields/file-upload.js","D2App/form-fields/raised-button.js","D2App/form-fields/text-field.js","D2App/localized-text/LocalizedAppearanceEditor.component.js","D2App/metadata-settings/metadataSettings.component.js","D2App/form-fields/multi-toggle.js","D2App/oauth2-client-editor/oauth2Client.store.js","D2App/oauth2-client-editor/oauth2Client.actions.js","D2App/oauth2-client-editor/OAuth2ClientEditor.component.js","D2App/settingsFields.component.js","D2App/app.component.js","D2App/locales/index.js","D2App/App.js","D2App/App.module.css"],"names":["Store","create","categoryOrder","categories","general","label","icon","pageLabel","i18n","t","settings","analytics","server","appearance","email","access","calendar","import","sync","oauth2","authority","settingsKeyMapping","keyAnalyticsMaxLimit","type","options","50000","100000","200000","0","keySqlViewMaxLimit","infrastructuralIndicators","configuration","source","infrastructuralDataElements","infrastructuralPeriodType","Daily","Weekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","Yearly","FinancialApril","FinancialJuly","FinancialOct","feedbackRecipients","includeEmpty","emptyLabel","offlineOrganisationUnitLevel","description","factorDeviation","validators","phoneNumberAreaCode","helpPageLink","multiOrganisationUnitForms","omitIndicatorsZeroNumeratorDataMart","keyAnalyticsMaintenanceMode","keyHideUnapprovedDataInAnalytics","keyAcceptanceRequiredForApproval","recaptchaSecret","recaptchaSite","keyGatherAnalyticalObjectStatisticsInDashboardViews","keyCountPassiveDashboardViewsInUsageAnalytics","keyAnalysisRelativePeriod","THIS_MONTH","LAST_MONTH","THIS_BIMONTH","LAST_BIMONTH","THIS_QUARTER","LAST_QUARTER","THIS_SIX_MONTH","LAST_SIX_MONTH","MONTHS_THIS_YEAR","QUARTERS_THIS_YEAR","THIS_YEAR","MONTHS_LAST_YEAR","QUARTERS_LAST_YEAR","LAST_YEAR","LAST_5_YEARS","LAST_12_MONTHS","LAST_6_MONTHS","LAST_3_MONTHS","LAST_6_BIMONTHS","LAST_4_QUARTERS","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","keyHideDailyPeriods","sectionLabel","keyHideWeeklyPeriods","keyHideMonthlyPeriods","keyHideBiMonthlyPeriods","analyticsFinancialYearStart","FINANCIAL_YEAR_APRIL","FINANCIAL_YEAR_JULY","FINANCIAL_YEAR_OCTOBER","keyCacheability","PUBLIC","PRIVATE","keyAnalyticsCacheTtlMode","PROGRESSIVE","FIXED","keyAnalyticsCacheProgressiveTtlFactor","1","2","4","8","16","32","64","128","192","256","320","512","1024","hideWhen","settingsKey","settingsValue","keyCacheStrategy","NO_CACHE","CACHE_15_MINUTES","CACHE_30_MINUTES","CACHE_1_HOUR","CACHE_6AM_TOMORROW","CACHE_TWO_WEEKS","keyIgnoreAnalyticsApprovalYearThreshold","3","5","6","7","9","10","keySkipDataTypeValidationInAnalyticsTableExport","keyRespectMetaDataStartEndDatesInAnalyticsTableExport","keyDatabaseServerCpus","keySystemNotificationsEmail","googleAnalyticsUA","keyBingMapsApiKey","localizedText","searchLabels","applicationTitle","appendLocale","multiLine","keyApplicationIntro","keyApplicationNotification","keyApplicationFooter","keyApplicationRightFooter","keyStyle","userSettingsOverride","startModule","keyFlag","keyUiLocale","keyDbLocale","keyAnalysisDisplayProperty","name","shortName","keyAnalysisDigitGroupSeparator","SPACE","COMMA","NONE","keyRequireAddToView","keyUseCustomLogoFront","keyUseCustomLogoBanner","keyDashboardContextMenuItemSwitchViewType","keyDashboardContextMenuItemOpenInRelevantApp","keyDashboardContextMenuItemShowInterpretationsAndDetails","keyDashboardContextMenuItemViewFullscreen","keyEmailHostName","keyEmailPort","587","465","25","keyEmailUsername","keyEmailPassword","keyEmailTls","keyEmailSender","emailTestButton","uri","selfRegistrationRole","keySelfRegistrationNoRecaptcha","selfRegistrationOrgUnit","keyAccountRecovery","keyLockMultipleFailedLogins","keyCanGrantOwnUserAuthorityGroups","keyAllowObjectAssignment","credentialsExpiryAlert","credentialsExpires","12","minPasswordLength","14","corsWhitelist","hintText","keyGoogleMapsApiKey","keyCalendar","coptic","ethiopian","gregorian","islamic","iso8601","julian","nepali","thai","persian","keyDateFormat","keyRemoteInstanceUrl","keyRemoteInstanceUsername","keyRemoteInstancePassword","keyMetadataDataVersioning","keyVersionEnabled","keyStopMetadataSync","createVersionButton","keyDataImportStrictPeriods","keyDataImportStrictDataElements","keyDataImportStrictCategoryOptionCombos","keyDataImportStrictOrganisationUnits","keyDataImportStrictAttributeOptionCombos","keyDataImportRequireCategoryOptionCombo","keyDataImportRequireAttributeOptionCombo","oauth2clients","settingsActions","Action","createActionsFromNames","saveKey","subscribe","args","key","value","locale","data","mapping","getD2","then","d2","isLocalisedAppearanceSetting","url","Api","getApi","post","showSnackbarMessage","getTranslation","catch","err","console","error","saveLocalizedAppearanceSetting","system","set","saveConfiguration","saveSetting","settingsStore","state","setState","settingsSearchMap","Observable","fromPromise","Promise","resolve","load","all","results","cfg","Object","keys","filter","map","reduce","prev","curr","undefined","hasOwnProperty","call","id","v","trim","length","sort","join","forEach","isNaN","toString","assign","searchMapping","categoryKey","currentUser","authorities","has","searchArray","categoryKeys","concat","translatedKeyValueMap","isTranslated","searchTerms","searchSettings","distinctUntilChanged","debounceTime","action","split","do","searchValue","setCategory","getSearchResultsFor","flatMap","val","from","keyValue","every","term","toLowerCase","includes","distinct","acc","push","concatAll","searchResultSettings","_extends","target","i","arguments","prototype","apply","this","sectionLabelStyle","color","fontSize","margin","Checkbox","React","Component","render","errorText","errorStyle","onChange","other","props","createElement","style","marginTop","marginBottom","CheckboxMaterial","onCheck","checked","defaultProps","_defineProperty","obj","defineProperty","enumerable","configurable","writable","DropDown","constructor","super","handleChange","bind","event","index","renderMenuItems","menuItems","unshift","displayName","item","MenuItem","primaryText","onFocus","onBlur","disabled","noOptionsLabel","isRequired","menuItemArray","Array","isArray","toArray","hasOptions","SelectField","PropTypes","string","defaultValue","oneOfType","number","bool","array","object","func","theme","spacing","Spacing","fontFamily","palette","primary1Color","blue500","primary2Color","blue700","primary3Color","blue100","accent1Color","orange500","accent2Color","grey100","accent3Color","orangeA200","textColor","darkBlack","alternateTextColor","white","canvasColor","borderColor","grey400","disabledColor","fade","muiTheme","getMuiTheme","forms","minWidth","maxWidth","formInput","fontWeight","component","_class","_temp","WrappedComponent","context","contextTypes","FileUpload","isEnabled","uploading","progress","showDialog","onClick","onPreviewClick","onToggle","onUpload","e","fileInput","click","xhr","abort","log","info","files","api","XMLHttpRequest","upload","onprogress","lengthComputable","loaded","total","FormData","append","warn","renderUploading","FlatButton","position","left","right","zIndex","LinearProgress","mode","renderUpload","bodyStyle","backgroundColor","AppTheme","rawTheme","textAlign","overflow","padding","dialogImgStyle","maxHeight","imgUrl","baseUrl","Date","secondary","Dialog","open","onRequestClose","autoDetectWindowHeight","autoScrollBodyContent","src","alt","primary","display","whiteSpace","paddingRight","paddingTop","paddingBottom","labelStyle","top","visibility","ref","oneOf","FileUploadWithTranslation","applyTranslateContext","RaisedButtonWrapper","RaisedButton","helpTextStyle","TextFieldComponent","UNSAFE_componentWillReceiveProps","changeEvent","helpText","lineHeight","TextField","node","styles","inset","borderRadius","boxShadow","field","width","loaderWrap","clickableHelpText","textDecoration","cursor","SYSTEM_DEFAULT","LOCALIZED_SETTING_KEYS","LocalizedTextEditor","code","configOptionStore","getState","uiLocales","pop","fieldKey","switchToDefaultLocale","localeName","getLocaleName","saveSettingsKey","componentDidMount","getAppearanceSettings","settingsStoreSubscription","componentWillUnmount","unsubscribe","fetchLocalizedAppearanceSettings","values","get","json","renderLocalizedAppearanceFields","CircularProgress","fields","floatingLabelText","createFieldHelpTextProps","FormBuilder","onUpdateField","systemDefaultOption","optionStoreState","metadataSettings","metadataVersions","selectedTransactionType","masterVersionName","lastFailedTime","hqInstanceUrl","isVersioningEnabled","remoteVersionName","isLocalInstance","hasVersions","isTaskRunning","onSelectTransactionType","syncVersions","syncSettings","createVersion","onToggleVersioning","onToggleStopSync","stopMetadataSyncKey","createVersionKey","subscriptions","sub","result","keyMetadataLastFailedTime","keyRemoteMetadataVersion","lastFailedVersion","keyMetadataFailedVersion","isSchedulerEnabled","keySchedTasks","isLastSyncValid","versions","metadataversions","a","b","created","version","importdate","toLocaleString","renderVersionList","inlineRight","float","visible","hidden","inlineProgressIcon","fieldGetter","x","rowIndex","Cell","RadioButtonGroup","defaultSelected","RadioButton","size","marginRight","fontStyle","Table","rowHeight","rowsCount","headerHeight","Column","header","cell","str","localeAppendage","checkboxFields","MultiToggle","items","oldState","indexOf","splice","togglor","defaultChecked","text","labelPosition","arrayOf","shape","oa2Actions","models","oAuth2Client","list","paging","order","oa2ClientCollection","yes","no","oa2Store","oa2c","password","grantTypes","refresh_token","authorization_code","delete","wrapper","fab","loadingMask","bottom","empty","OAuth2ClientEditor","showForm","isEmpty","saving","formUpdateAction","editAction","saveAction","deleteAction","cancelAction","newAction","oa2ClientStore","clientModel","secret","alphabet","uid","charAt","Math","random","generateSecret","model","cid","save","importReport","status","Error","message","messages","response","errorReports","forceUpdate","renderForm","formFieldStyle","dialog","paddingLeft","dialogContent","dialogBody","overflowY","button","marginLeft","buttonRight","validator","asyncValidators","reject","oAuth2Clients","redirectUris","isUrlArray","headerText","modal","contentStyle","renderList","TableHead","TableRowHead","TableCellHead","TableBody","row","TableRow","TableCell","Button","small","destructive","FloatingActionButton","FontIcon","className","LoadingMask","OAuth2ClientEditorWithTranslation","card","cardTitle","background","height","cardTitleText","noHits","menuIcon","menuLabel","wrapUserSettingsOverride","valueLabel","labelText","IconButton","iconClassName","tooltip","tooltipPosition","iconStyle","tooltipStyles","addConditionallyHiddenStyles","SettingsFields","shouldComponentUpdate","nextProps","currentSettings","fieldForMapping","fieldBase","autoComplete","Oauth2ClientEditor","LocalizedAppearance","renderFields","wordToValidatorMap","f","userSettingsNoFallback","userSettingValue","userSettingLabel","opt","Card","category","CardText","AppComponent","showSnackbar","searchText","snackbarMessage","formValidator","sidebarRef","createRef","getChildContext","appTheme","arg","searchResult","current","clearSearchBox","pathname","search","encodeURIComponent","history","location","params","navigate","section","substr","decodeURIComponent","doSearch","replace","createHistory","unlisten","listen","sections","MuiThemeProvider","Snackbar","autoHideDuration","closeSnackbar","contentWrap","Sidebar","onChangeSection","currentSection","showSearchField","searchFieldLabel","onChangeSearchText","contentArea","childContextTypes","addResources","enTranslations","query","indicatorGroups","resource","dataElementGroups","userGroups","organisationUnitLevels","userRoles","organisationUnits","apps","flags","dbLocales","userSettings","AppWrapper","useD2","loading","useDataQuery","CenteredContent","nsSeparator","CircularLoader","startModules","modules","module","defaultAction","flag","path","App","exports"],"mappings":"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","file":"static/js/app.2f06c2e6.chunk.js","sourcesContent":["import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import i18n from '@dhis2/d2-i18n';\nexport const categoryOrder = ['general', 'server', 'appearance', 'email', 'access', 'calendar', 'import', 'sync', 'monitoring', 'oauth2'];\nexport const categories = {\n  general: {\n    label: 'general',\n    icon: 'settings',\n    pageLabel: i18n.t('General settings'),\n    settings: ['keyAnalyticsMaxLimit', 'keySqlViewMaxLimit', 'infrastructuralIndicators', 'infrastructuralDataElements', 'infrastructuralPeriodType', 'keyAnalysisRelativePeriod', 'feedbackRecipients', 'offlineOrganisationUnitLevel', 'factorDeviation', 'phoneNumberAreaCode', 'multiOrganisationUnitForms', 'keyAcceptanceRequiredForApproval', 'keyGatherAnalyticalObjectStatisticsInDashboardViews', 'keyCountPassiveDashboardViewsInUsageAnalytics']\n  },\n  analytics: {\n    label: 'analytics',\n    icon: 'equalizer',\n    pageLabel: i18n.t('analytics_settings'),\n    settings: ['keyAnalysisRelativePeriod', 'keyHideDailyPeriods', 'keyHideWeeklyPeriods', 'keyHideMonthlyPeriods', 'keyHideBiMonthlyPeriods', 'analyticsFinancialYearStart', 'keyCacheStrategy', 'keyCacheability', 'keyAnalyticsCacheTtlMode', 'keyAnalyticsCacheProgressiveTtlFactor', 'keyIgnoreAnalyticsApprovalYearThreshold', 'keyRespectMetaDataStartEndDatesInAnalyticsTableExport', 'keyAnalyticsMaintenanceMode']\n  },\n  server: {\n    label: 'server',\n    icon: 'business',\n    pageLabel: 'server_settings',\n    settings: ['keyDatabaseServerCpus', 'keySystemNotificationsEmail', 'googleAnalyticsUA', 'keyGoogleMapsApiKey', 'keyBingMapsApiKey']\n  },\n  appearance: {\n    label: 'appearance',\n    icon: 'looks',\n    pageLabel: 'appearance_settings',\n    settings: ['localizedText', 'keyStyle', 'startModule', 'helpPageLink', 'keyFlag', 'keyUiLocale', 'keyDbLocale', 'keyAnalysisDisplayProperty', 'keyAnalysisDigitGroupSeparator', 'keyRequireAddToView', 'keyUseCustomLogoFront', 'keyUseCustomLogoBanner', 'keyDashboardContextMenuItemSwitchViewType', 'keyDashboardContextMenuItemOpenInRelevantApp', 'keyDashboardContextMenuItemShowInterpretationsAndDetails', 'keyDashboardContextMenuItemViewFullscreen']\n  },\n  email: {\n    label: 'email',\n    icon: 'email',\n    pageLabel: 'email_settings',\n    settings: ['keyEmailHostName', 'keyEmailPort', 'keyEmailUsername', 'keyEmailPassword', 'keyEmailTls', 'keyEmailSender', 'emailTestButton']\n  },\n  access: {\n    label: 'access',\n    icon: 'lock_open',\n    pageLabel: 'access_settings',\n    settings: ['selfRegistrationRole', 'selfRegistrationOrgUnit', 'keySelfRegistrationNoRecaptcha', 'keyAccountRecovery', 'keyLockMultipleFailedLogins', 'keyCanGrantOwnUserAuthorityGroups', 'keyAllowObjectAssignment', 'credentialsExpires', 'credentialsExpiryAlert', 'minPasswordLength', 'corsWhitelist', 'recaptchaSite', 'recaptchaSecret']\n  },\n  calendar: {\n    label: 'calendar',\n    icon: 'date_range',\n    pageLabel: 'calendar_settings',\n    settings: ['keyCalendar', 'keyDateFormat']\n  },\n  import: {\n    label: 'import',\n    icon: 'system_update_alt',\n    pageLabel: 'import_settings',\n    settings: ['keyDataImportStrictPeriods', 'keyDataImportStrictDataElements', 'keyDataImportStrictCategoryOptionCombos', 'keyDataImportStrictOrganisationUnits', 'keyDataImportStrictAttributeOptionCombos', 'keyDataImportRequireCategoryOptionCombo', 'keyDataImportRequireAttributeOptionCombo']\n  },\n  sync: {\n    label: 'synchronization',\n    icon: 'sync',\n    pageLabel: 'synchronization_settings',\n    settings: ['keyRemoteInstanceUrl', 'keyRemoteInstanceUsername', 'keyRemoteInstancePassword', 'keyMetadataDataVersioning']\n  },\n  oauth2: {\n    label: 'oauth2_clients',\n    icon: 'vpn_lock',\n    pageLabel: 'oauth2_clients',\n    authority: 'F_OAUTH2_CLIENT_MANAGE',\n    settings: ['oauth2clients']\n  }\n};","/**\n * This file provides information about DHIS2 system settings and configuration options that are not otherwise\n * available through the API.\n * </p>\n * Each system settings key is mapped to an I18N label and (optional) description. In addition, certain special system\n * settings that are not actually saved as system settings but rather as system configuration options are described\n * here as well. This concerns any key that has a \"configuration\" property which is set to `true`.\n * </p>\n * Settings that have an `appendLocale: true` property, are localizable settings. When these settings are saved, the\n * code of the specified locale, such as \"fr\" or \"ar_IQ\" is appended to the key name.\n *\n * @type {{settingsKey: {label: string, description: string, configuration: boolean, appendLocale: boolean}}}\n */\nconst settingsKeyMapping = {\n  /* ============================================================================================================ */\n\n  /* Category: General                                                                                            */\n\n  /* ============================================================================================================ */\n  keyAnalyticsMaxLimit: {\n    // Analytics\n    label: 'analytics_max_limit',\n    type: 'dropdown',\n    options: {\n      50000: 50000,\n      100000: 100000,\n      200000: 200000,\n      0: 'unlimited'\n    }\n  },\n  keySqlViewMaxLimit: {\n    label: 'sql_view_max_limit',\n    type: 'dropdown',\n    options: {\n      '-1': 'sql_view_max_limit_unlimited',\n      50000: 'sql_view_max_limit_50000',\n      100000: 'sql_view_max_limit_100000',\n      200000: 'sql_view_max_limit_200000'\n    }\n  },\n  infrastructuralIndicators: {\n    label: 'infrastructural_indicators',\n    configuration: true,\n    type: 'dropdown',\n    source: 'indicatorGroups'\n  },\n  infrastructuralDataElements: {\n    label: 'infrastructural_data_elements',\n    configuration: true,\n    type: 'dropdown',\n    source: 'dataElementGroups'\n  },\n  infrastructuralPeriodType: {\n    label: 'infrastructural_period_type',\n    configuration: true,\n    type: 'dropdown',\n    options: {\n      Daily: 'Daily',\n      Weekly: 'Weekly',\n      Monthly: 'Monthly',\n      BiMonthly: 'BiMonthly',\n      Quarterly: 'Quarterly',\n      SixMonthly: 'SixMonthly',\n      SixMonthlyApril: 'SixMonthlyApril',\n      Yearly: 'yearly',\n      FinancialApril: 'FinancialApril',\n      FinancialJuly: 'FinancialJuly',\n      FinancialOct: 'FinancialOct'\n    }\n  },\n  feedbackRecipients: {\n    label: 'feedback_recipients',\n    configuration: true,\n    type: 'dropdown',\n    source: 'userGroups',\n    includeEmpty: true,\n    emptyLabel: 'no_feedback_recipients'\n  },\n  offlineOrganisationUnitLevel: {\n    label: 'max_levels_to_offline',\n    description: 'relative_to_current_user',\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnitLevels'\n  },\n  factorDeviation: {\n    label: 'data_analysis_factor',\n    validators: ['positive_number']\n  },\n  phoneNumberAreaCode: {\n    label: 'phone_number_area_code',\n    validators: ['number']\n  },\n  helpPageLink: {\n    label: 'help_page_link',\n    validators: ['relative_url']\n  },\n  multiOrganisationUnitForms: {\n    label: 'multi_organisation_unit_forms',\n    type: 'checkbox'\n  },\n  omitIndicatorsZeroNumeratorDataMart: {\n    label: 'omit_indicators_zero_numerator_data_mart',\n    type: 'checkbox'\n  },\n  keyAnalyticsMaintenanceMode: {\n    // Analytics\n    label: 'put_analytics_in_maintenance_mode',\n    type: 'checkbox'\n  },\n  keyHideUnapprovedDataInAnalytics: {\n    label: 'hide_unapproved_data_in_analytics',\n    type: 'checkbox'\n  },\n  keyAcceptanceRequiredForApproval: {\n    label: 'acceptance_required_before_approval',\n    type: 'checkbox'\n  },\n  recaptchaSecret: {\n    label: 'recaptcha_secret_label',\n    type: 'password'\n  },\n  recaptchaSite: {\n    type: 'password',\n    label: 'recaptcha_site_label'\n  },\n  keyGatherAnalyticalObjectStatisticsInDashboardViews: {\n    label: 'gather_analytical_object_statistics_in_dashboard_views',\n    type: 'checkbox'\n  },\n  keyCountPassiveDashboardViewsInUsageAnalytics: {\n    label: 'count_passive_dashboard_views_in_usage_analytics',\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Analytics                                                                                          */\n\n  /* ============================================================================================================ */\n  keyAnalysisRelativePeriod: {\n    label: 'default_analysis_relative_period',\n    type: 'dropdown',\n    options: {\n      THIS_MONTH: 'THIS_MONTH',\n      LAST_MONTH: 'LAST_MONTH',\n      THIS_BIMONTH: 'THIS_BIMONTH',\n      LAST_BIMONTH: 'LAST_BIMONTH',\n      THIS_QUARTER: 'THIS_QUARTER',\n      LAST_QUARTER: 'LAST_QUARTER',\n      THIS_SIX_MONTH: 'THIS_SIX_MONTH',\n      LAST_SIX_MONTH: 'LAST_SIX_MONTH',\n      MONTHS_THIS_YEAR: 'MONTHS_THIS_YEAR',\n      QUARTERS_THIS_YEAR: 'QUARTERS_THIS_YEAR',\n      THIS_YEAR: 'THIS_YEAR',\n      MONTHS_LAST_YEAR: 'MONTHS_LAST_YEAR',\n      QUARTERS_LAST_YEAR: 'QUARTERS_LAST_YEAR',\n      LAST_YEAR: 'LAST_YEAR',\n      LAST_5_YEARS: 'LAST_5_YEARS',\n      LAST_12_MONTHS: 'LAST_12_MONTHS',\n      LAST_6_MONTHS: 'LAST_6_MONTHS',\n      LAST_3_MONTHS: 'LAST_3_MONTHS',\n      LAST_6_BIMONTHS: 'LAST_6_BIMONTHS',\n      LAST_4_QUARTERS: 'LAST_4_QUARTERS',\n      LAST_2_SIXMONTHS: 'LAST_2_SIXMONTHS',\n      THIS_FINANCIAL_YEAR: 'THIS_FINANCIAL_YEAR',\n      LAST_FINANCIAL_YEAR: 'LAST_FINANCIAL_YEAR',\n      LAST_5_FINANCIAL_YEARS: 'LAST_5_FINANCIAL_YEARS',\n      THIS_WEEK: 'THIS_WEEK',\n      LAST_WEEK: 'LAST_WEEK',\n      LAST_4_WEEKS: 'LAST_4_WEEKS',\n      LAST_12_WEEKS: 'LAST_12_WEEKS',\n      LAST_52_WEEKS: 'LAST_52_WEEKS'\n    }\n  },\n  keyHideDailyPeriods: {\n    label: 'key_hide_daily_periods',\n    sectionLabel: 'hidden_period_types_in_analytics_apps',\n    type: 'checkbox'\n  },\n  keyHideWeeklyPeriods: {\n    label: 'key_hide_weekly_periods',\n    type: 'checkbox'\n  },\n  keyHideMonthlyPeriods: {\n    label: 'key_hide_monthly_periods',\n    type: 'checkbox'\n  },\n  keyHideBiMonthlyPeriods: {\n    label: 'key_hide_bi_monthly_periods',\n    type: 'checkbox'\n  },\n  analyticsFinancialYearStart: {\n    label: 'analytics_financial_year_start',\n    type: 'dropdown',\n    options: {\n      FINANCIAL_YEAR_APRIL: 'APRIL',\n      FINANCIAL_YEAR_JULY: 'JULY',\n      FINANCIAL_YEAR_OCTOBER: 'OCTOBER'\n    }\n  },\n  keyCacheability: {\n    label: 'cacheability',\n    type: 'dropdown',\n    options: {\n      PUBLIC: 'public',\n      PRIVATE: 'private'\n    }\n  },\n  keyAnalyticsCacheTtlMode: {\n    label: 'key_analytics_cache_ttl_mode',\n    type: 'dropdown',\n    options: {\n      PROGRESSIVE: 'progressive',\n      FIXED: 'fixed'\n    }\n  },\n  keyAnalyticsCacheProgressiveTtlFactor: {\n    label: 'key_analytics_cache_progressive_ttl_factor',\n    type: 'dropdown',\n    options: {\n      1: '1',\n      2: '2',\n      4: '4',\n      8: '8',\n      16: '16',\n      32: '32',\n      64: '64',\n      128: '128',\n      192: '192',\n      256: '256',\n      320: '320',\n      512: '512',\n      1024: '1024'\n    },\n    hideWhen: {\n      settingsKey: 'keyAnalyticsCacheTtlMode',\n      settingsValue: 'FIXED'\n    }\n  },\n  keyCacheStrategy: {\n    label: 'cache_strategy',\n    type: 'dropdown',\n    options: {\n      NO_CACHE: 'no_cache',\n      CACHE_15_MINUTES: 'cache_for_15_minutes',\n      CACHE_30_MINUTES: 'cache_for_30_minutes',\n      CACHE_1_HOUR: 'cache_for_one_hour',\n      CACHE_6AM_TOMORROW: 'cache_until_6am_tomorrow',\n      CACHE_TWO_WEEKS: 'cache_for_two_weeks'\n    }\n  },\n  keyIgnoreAnalyticsApprovalYearThreshold: {\n    label: 'max_number_of_years_to_hide_unapproved_data_in_analytics',\n    type: 'dropdown',\n    options: {\n      '-1': 'never_check_approval',\n      0: 'check_approval_for_all_data',\n      1: 'current_year_only',\n      2: 'last_2_years',\n      3: 'last_3_years',\n      4: 'last_4_years',\n      5: 'last_5_years',\n      6: 'last_6_years',\n      7: 'last_7_years',\n      8: 'last_8_years',\n      9: 'last_9_years',\n      10: 'last_10_years'\n    }\n  },\n  keySkipDataTypeValidationInAnalyticsTableExport: {\n    label: 'skip_data_type_validation_in_analytics_table_export',\n    type: 'checkbox'\n  },\n  keyRespectMetaDataStartEndDatesInAnalyticsTableExport: {\n    label: 'respect_category_option_start_and_end_date_in_analytics_table_export',\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Server                                                                                             */\n\n  /* ============================================================================================================ */\n  keyDatabaseServerCpus: {\n    label: 'no_of_database_server_cpus',\n    type: 'dropdown',\n    options: {\n      0: 'detect_based_on_web_server',\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      16: '16',\n      32: '32'\n    }\n  },\n  keySystemNotificationsEmail: {\n    label: 'system_notifications_email_address',\n    validators: ['email']\n  },\n  googleAnalyticsUA: {\n    label: 'google_analytics_ua_key'\n  },\n  keyBingMapsApiKey: {\n    label: 'key_bing_maps_api_key',\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Appearance                                                                                         */\n\n  /* ============================================================================================================ */\n  localizedText: {\n    type: 'localizedAppearance',\n    searchLabels: ['application_title', 'application_introduction', 'application_notification', 'application_left_footer', 'application_right_footer']\n  },\n  applicationTitle: {\n    label: 'application_title',\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationIntro: {\n    label: 'application_introduction',\n    description: 'allows_html',\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationNotification: {\n    label: 'application_notification',\n    description: 'allows_html',\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationFooter: {\n    label: 'application_left_footer',\n    description: 'allows_html',\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationRightFooter: {\n    label: 'application_right_footer',\n    description: 'allows_html',\n    appendLocale: true,\n    multiLine: true\n  },\n  keyStyle: {\n    label: 'style',\n    type: 'dropdown',\n    includeEmpty: false,\n    userSettingsOverride: true,\n    searchLabels: ['style', 'can_be_overridden_by_user_settings'],\n    source: 'styles'\n  },\n  startModule: {\n    label: 'start_page',\n    type: 'dropdown',\n    source: 'startModules'\n  },\n  keyFlag: {\n    label: 'flag',\n    type: 'dropdown',\n    source: 'flags'\n  },\n  keyUiLocale: {\n    label: 'ui_locale',\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: ['style', 'can_be_overridden_by_user_settings'],\n    source: 'uiLocales'\n  },\n  keyDbLocale: {\n    label: 'db_locale',\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: ['style', 'can_be_overridden_by_user_settings'],\n    source: 'dbLocales'\n  },\n  keyAnalysisDisplayProperty: {\n    label: 'analysis_display_property',\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: ['style', 'can_be_overridden_by_user_settings'],\n    options: {\n      name: 'name',\n      shortName: 'short_name'\n    }\n  },\n  keyAnalysisDigitGroupSeparator: {\n    label: 'analysis_digit_group_separator',\n    type: 'dropdown',\n    options: {\n      SPACE: 'space',\n      COMMA: 'comma',\n      NONE: 'none'\n    }\n  },\n  keyRequireAddToView: {\n    label: 'require_authority_to_add_to_view_object_lists',\n    type: 'checkbox'\n  },\n  keyUseCustomLogoFront: {\n    label: 'custom_login_page_logo',\n    type: 'staticContent',\n    name: 'logo_front'\n  },\n  keyUseCustomLogoBanner: {\n    label: 'custom_top_menu_logo',\n    type: 'staticContent',\n    name: 'logo_banner'\n  },\n  keyDashboardContextMenuItemSwitchViewType: {\n    label: 'dashboard_context_menu_item_switch_view_type',\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemOpenInRelevantApp: {\n    label: 'dashboard_context_menu_open_in_relevant_app',\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemShowInterpretationsAndDetails: {\n    label: 'dashboard_context_menu_item_show_interpretations_and_details',\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemViewFullscreen: {\n    label: 'dashboard_context_menu_item_view_full_screen',\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Email                                                                                              */\n\n  /* ============================================================================================================ */\n  keyEmailHostName: {\n    label: 'host_name'\n  },\n  keyEmailPort: {\n    label: 'port',\n    type: 'dropdown',\n    options: {\n      587: 587,\n      465: 465,\n      25: 25\n    }\n  },\n  keyEmailUsername: {\n    label: 'username'\n  },\n  keyEmailPassword: {\n    label: 'password',\n    type: 'password'\n  },\n  keyEmailTls: {\n    label: 'tls',\n    type: 'checkbox'\n  },\n  keyEmailSender: {\n    label: 'email_sender',\n    validators: ['email']\n  },\n  emailTestButton: {\n    label: 'send_test_email',\n    type: 'postButton',\n    uri: '/email/test'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Access                                                                                             */\n\n  /* ============================================================================================================ */\n  selfRegistrationRole: {\n    label: 'self_registration_account_user_role',\n    configuration: true,\n    type: 'dropdown',\n    source: 'userRoles',\n    includeEmpty: true,\n    emptyLabel: 'disable_self_registration'\n  },\n  keySelfRegistrationNoRecaptcha: {\n    label: 'do_not_require_recaptcha_for_self_registration',\n    type: 'checkbox'\n  },\n  selfRegistrationOrgUnit: {\n    label: 'self_registration_account_organisation_unit',\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnits',\n    includeEmpty: true,\n    emptyLabel: 'disable_self_registration'\n  },\n  keyAccountRecovery: {\n    label: 'enable_user_account_recovery',\n    type: 'checkbox'\n  },\n  keyLockMultipleFailedLogins: {\n    label: 'lock_user_account_temporarily_after_multiple_failed_login_attempts',\n    type: 'checkbox'\n  },\n  keyCanGrantOwnUserAuthorityGroups: {\n    label: 'allow_users_to_grant_own_user_roles',\n    type: 'checkbox'\n  },\n  keyAllowObjectAssignment: {\n    label: 'allow_assigning_object_to_related_objects_during_add_or_update',\n    type: 'checkbox'\n  },\n  credentialsExpiryAlert: {\n    label: 'enable_password_expiry_alerts',\n    type: 'checkbox'\n  },\n  credentialsExpires: {\n    label: 'user_credentials_expires',\n    type: 'dropdown',\n    options: {\n      0: 'never',\n      3: '3_months',\n      6: '6_months',\n      12: '12_months'\n    }\n  },\n  minPasswordLength: {\n    label: 'min_chars_in_password',\n    type: 'dropdown',\n    options: {\n      8: 8,\n      10: 10,\n      12: 12,\n      14: 14\n    }\n  },\n  corsWhitelist: {\n    label: 'cors_whitelist',\n    configuration: true,\n    multiLine: true,\n    hintText: 'one_url_per_line',\n    validators: ['url_array']\n  },\n  keyGoogleMapsApiKey: {\n    label: 'google_maps_api_key',\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Calendar                                                                                           */\n\n  /* ============================================================================================================ */\n  keyCalendar: {\n    label: 'calendar',\n    type: 'dropdown',\n    options: {\n      coptic: 'coptic',\n      ethiopian: 'ethiopian',\n      gregorian: 'gregorian',\n      islamic: 'islamic',\n      iso8601: 'iso8601',\n      julian: 'julian',\n      nepali: 'nepali',\n      thai: 'thai',\n      persian: 'persian'\n    }\n  },\n  keyDateFormat: {\n    label: 'date_format',\n    type: 'dropdown',\n    options: {\n      'yyyy-MM-dd': 'yyyy-MM-dd',\n      'dd-MM-yyyy': 'dd-MM-yyyy'\n    }\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Synchronization                                                                                    */\n\n  /* ============================================================================================================ */\n  keyRemoteInstanceUrl: {\n    label: 'remote_server_url',\n    validators: ['url']\n  },\n  keyRemoteInstanceUsername: {\n    label: 'remote_server_username'\n  },\n  keyRemoteInstancePassword: {\n    label: 'remote_server_password',\n    type: 'password'\n  },\n  keyMetadataDataVersioning: {\n    label: 'keyVersionEnabled',\n    type: 'metadataSettings'\n  },\n  keyVersionEnabled: {\n    label: 'keyVersionEnabled',\n    type: 'checkbox'\n  },\n  keyStopMetadataSync: {\n    label: 'keyStopMetadataSync',\n    type: 'checkbox'\n  },\n  createVersionButton: {\n    label: 'create_metadata_version',\n    type: 'postButton',\n    uri: '/metadata/version/create'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Data Import                                                                                        */\n\n  /* ============================================================================================================ */\n  keyDataImportStrictPeriods: {\n    label: 'require_periods_to_match_period_type',\n    type: 'checkbox'\n  },\n  keyDataImportStrictDataElements: {\n    label: 'require_data_elements_to_be_part_of_data_set',\n    type: 'checkbox'\n  },\n  keyDataImportStrictCategoryOptionCombos: {\n    label: 'require_category_option_combos_to_match',\n    type: 'checkbox'\n  },\n  keyDataImportStrictOrganisationUnits: {\n    label: 'require_organisation_units_to_match_assignment',\n    type: 'checkbox'\n  },\n  keyDataImportStrictAttributeOptionCombos: {\n    label: 'require_attribute_option_combos_to_match',\n    type: 'checkbox'\n  },\n  keyDataImportRequireCategoryOptionCombo: {\n    label: 'require_category_option_combo_to_be_specified',\n    type: 'checkbox'\n  },\n  keyDataImportRequireAttributeOptionCombo: {\n    label: 'require_attribute_option_combo_to_be_specified',\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: oAuth2 clients                                                                                     */\n\n  /* ============================================================================================================ */\n  oauth2clients: {\n    type: 'oauth2clients',\n    searchLabels: ['oauth2_clients', 'password', 'refresh_token', 'authorization_code']\n  }\n  /* ============================================================================================================ */\n  // The following keys are present in the demo database but are not managed by dhis-web-maintenance-settings\n  //\n  // 'sendMessageScheduled'\n  // 'timeSendingMessage'\n  // 'keyCustomCss'\n  // 'aggregationStrategy'\n  // 'zeroValueSaveMode'\n  // 'reportFramework'\n  // 'systemSettings'\n  // 'keyLastSuccessfulSynch'\n  // 'dataEntryFormCompleted'\n  // 'keyTrackerDashboardDefaultLayout'\n  // 'keyLastSuccessfulAnalyticsTablesUpdate'\n  // 'SMS_CONFIG'\n  // 'orgUnitGroupSetAggregationLevel'\n  // 'keyScheduledPeriodTypes'\n  // 'keyLastSuccessfulResourceTablesUpdate'\n  // 'keySchedTasks'\n  // 'applicationIntro'\n  // 'systemTitle'\n  // 'keyAccountInvite'\n  // 'flag'\n  // 'scheduleAggregateQueryBuilderTackStrategy'\n  // 'appBaseUrl'\n  // 'mysetting'\n  // 'appFolderPath'\n  // 'keySystemIdentifier'\n  // 'keyScheduledTasks'\n  // 'keyLastSuccessfulDataSynch'\n  // 'appStoreUrl'\n  // 'App_TabularData_SettingData'\n  // 'keyLastMonitoringRun'\n  // 'scheduleAggregateQueryBuilder'\n  // 'keyDataSetCompletenessTask'\n  // 'keyDataMartTask'\n\n};\nexport default settingsKeyMapping;","import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport { Observable } from 'rxjs';\nimport { categories } from './settingsCategories';\nimport settingsKeyMapping from './settingsKeyMapping';\nimport settingsStore from './settingsStore';\n/* eslint-disable max-params */\n\nconst settingsActions = Action.createActionsFromNames(['load', 'setCategory', 'saveKey', 'searchSettings', 'showSnackbarMessage']);\n\nconst saveLocalizedAppearanceSetting = (d2, key, value, locale) => {\n  const api = d2.Api.getApi();\n  const localeSuffix = locale ? `&locale=${locale}` : '';\n  const url = `/systemSettings/${key}?value=${value}${localeSuffix}`;\n  return api.post(url).then(() => {\n    settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n  }).catch(err => {\n    console.error('Failed to save localized setting:', err);\n  });\n};\n\nconst saveConfiguration = (d2, key, value) => d2.system.configuration.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n}).catch(err => {\n  console.error('Failed to save configuration:', err);\n});\n\nconst saveSetting = (d2, key, value) => d2.system.settings.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(d2.i18n.getTranslation('settings_updated'));\n}).catch(err => {\n  console.error('Failed to save setting:', err);\n});\n\nsettingsActions.saveKey.subscribe(args => {\n  const [key, value, locale] = args.data;\n  const mapping = settingsKeyMapping[key];\n  getD2().then(d2 => {\n    const isLocalisedAppearanceSetting = mapping.appendLocale && locale;\n\n    if (isLocalisedAppearanceSetting) {\n      saveLocalizedAppearanceSetting(d2, key, value, locale);\n    } else if (mapping.configuration) {\n      saveConfiguration(d2, key, value);\n    } else {\n      saveSetting(d2, key, value);\n    }\n\n    if (!isLocalisedAppearanceSetting) {\n      settingsStore.state[key] = value;\n      settingsStore.setState(settingsStore.state);\n    }\n  });\n});\nconst settingsSearchMap = Observable.fromPromise(new Promise(resolve => {\n  settingsActions.load.subscribe(args => {\n    getD2().then(d2 => {\n      // Get current settings and configuration\n      Promise.all([d2.system.settings.all(), d2.system.configuration.all(args.data === true)]).then(results => {\n        const cfg = Object.keys(results[1]).filter(key => key !== 'systemId').map(key => {\n          const value = results[1][key];\n          return {\n            key,\n            value\n          };\n        }).reduce((prev, curr) => {\n          let value = curr.value;\n\n          if (value === null || value === 'null' || value === undefined) {\n            value = 'null';\n          } else if (Object.hasOwnProperty.call(value, 'id')) {\n            value = value.id;\n          }\n\n          prev[curr.key] = value;\n          return prev;\n        }, {});\n        cfg.corsWhitelist = (results[1].corsWhitelist || []).filter(v => v.trim().length > 0).sort().join('\\n'); // Stupid fix for the fact that old controllers will save numbers as numbers,\n        // even though the API only allows string values, which creates a silly mismatch!\n\n        Object.keys(results[0]).forEach(key => {\n          const v = results[0][key];\n          results[0][key] = v !== null && !isNaN(v) ? v.toString() : v;\n        });\n        settingsStore.setState(Object.assign({}, results[0], cfg));\n      }, error => {\n        console.error('Failed to load system settings:', error);\n      }); // Build the search index\n\n      const searchMapping = Object.keys(categories).filter(categoryKey => !categories[categoryKey].authority || d2.currentUser.authorities.has(categories[categoryKey].authority)).map(categoryKey => categories[categoryKey].settings).reduce((searchArray, categoryKeys) => searchArray.concat(categoryKeys), []).reduce((translatedKeyValueMap, settingsKey) => {\n        if (!settingsKeyMapping[settingsKey]) {\n          return translatedKeyValueMap;\n        }\n\n        if (settingsKeyMapping[settingsKey].searchLabels) {\n          return translatedKeyValueMap.concat(settingsKeyMapping[settingsKey].searchLabels.filter(label => d2.i18n.isTranslated(label)).map(label => [d2.i18n.getTranslation(label), settingsKey]));\n        }\n\n        return translatedKeyValueMap.concat([[d2.i18n.getTranslation(settingsKeyMapping[settingsKey].label), settingsKey]]);\n      }, []);\n      resolve(searchMapping);\n    });\n  });\n}));\n\nfunction getSearchResultsFor(searchTerms) {\n  return settingsSearchMap.flatMap(val => Observable.from(val)).filter(keyValue => searchTerms.every(term => keyValue[0].toLowerCase().includes(term.toLowerCase()))).map(([, value]) => value).distinct().reduce((acc, value) => acc.concat(value), []).map(results => {\n    if (searchTerms.length === 1 && Object.hasOwnProperty.call(settingsKeyMapping, searchTerms[0])) {\n      results.push(searchTerms[0]);\n    }\n\n    return results;\n  });\n}\n\nlet searchTerms;\nsettingsActions.searchSettings.distinctUntilChanged().debounceTime(150).map(action => action.data.trim().split(/\\s+/).filter(t => t.length > 0)).do(searchValue => {\n  searchTerms = searchValue;\n\n  if (searchValue.length === 0) {\n    settingsActions.setCategory('general');\n  }\n}).filter(searchValue => searchValue.length).map(searchValue => getSearchResultsFor(searchValue)).concatAll().subscribe(searchResultSettings => {\n  settingsActions.setCategory({\n    key: 'search',\n    settings: searchResultSettings,\n    searchTerms\n  });\n});\nexport default settingsActions;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport CheckboxMaterial from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst sectionLabelStyle = {\n  color: 'rgba(0, 0, 0, 0.3)',\n  fontSize: '12px',\n  margin: '16px 0 6px 0'\n};\n\nclass Checkbox extends React.Component {\n  render() {\n    /* eslint-disable no-unused-vars */\n    const {\n      errorText,\n      errorStyle,\n      onChange,\n      sectionLabel,\n      value,\n      ...other\n    } = this.props;\n    /* eslint-enable no-unused-vars */\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12,\n        marginBottom: 12\n      }\n    }, sectionLabel && /*#__PURE__*/React.createElement(\"p\", {\n      style: sectionLabelStyle\n    }, sectionLabel), /*#__PURE__*/React.createElement(CheckboxMaterial, _extends({\n      onCheck: onChange,\n      checked: value === 'true'\n    }, other)));\n  }\n\n}\n\nCheckbox.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  errorStyle: PropTypes.object,\n  errorText: PropTypes.string,\n  sectionLabel: PropTypes.string,\n  value: PropTypes.string\n};\nCheckbox.defaultProps = {\n  value: 'false'\n};\nexport default Checkbox;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass DropDown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event, index, value) {\n    this.props.onChange({\n      target: {\n        value\n      }\n    });\n  }\n\n  renderMenuItems(menuItems) {\n    if (this.props.includeEmpty) {\n      menuItems.unshift({\n        id: 'null',\n        displayName: this.props.emptyLabel\n      });\n    }\n\n    return menuItems.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      primaryText: item.displayName\n    }));\n  }\n\n  render() {\n    const {\n      onFocus,\n      onBlur,\n      onChange,\n      value,\n      disabled,\n      menuItems,\n      // eslint-disable-line\n      includeEmpty,\n      emptyLabel,\n      noOptionsLabel,\n      isRequired,\n      // eslint-disable-line\n      ...other\n    } = this.props;\n    const menuItemArray = Array.isArray(menuItems) && menuItems || menuItems.toArray();\n    const hasOptions = menuItemArray.length > 0;\n    return /*#__PURE__*/React.createElement(SelectField, _extends({\n      value: hasOptions ? this.props.value : 1,\n      onChange: this.handleChange,\n      disabled: !hasOptions || disabled\n    }, other), hasOptions ? this.renderMenuItems(menuItemArray) : /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1,\n      primaryText: this.props.noOptionsLabel || '-'\n    }));\n  }\n\n}\n\n_defineProperty(DropDown, \"propTypes\", {\n  value: PropTypes.string.isRequired,\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  emptyLabel: PropTypes.string,\n  includeEmpty: PropTypes.bool,\n  menuItems: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  noOptionsLabel: PropTypes.string,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\n_defineProperty(DropDown, \"defaultProps\", {\n  defaultValue: '',\n  includeEmpty: false,\n  emptyLabel: '',\n  menuItems: [],\n  noOptionsLabel: '',\n  onFocus: undefined,\n  onBlur: undefined,\n  onChange: undefined\n});\n\nexport default DropDown;","import { blue100, blue500, blue700, grey100, grey400, orange500, orangeA200, darkBlack, white } from 'material-ui/styles/colors';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport Spacing from 'material-ui/styles/spacing';\nimport { fade } from 'material-ui/utils/colorManipulator';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: blue500,\n    primary2Color: blue700,\n    primary3Color: blue100,\n    accent1Color: orange500,\n    accent2Color: grey100,\n    accent3Color: orangeA200,\n    textColor: darkBlack,\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey400,\n    disabledColor: fade(darkBlack, 0.3)\n  }\n};\nconst muiTheme = getMuiTheme(theme);\nexport default Object.assign({}, muiTheme, {\n  forms: {\n    minWidth: 350,\n    maxWidth: 750\n  },\n  formInput: {\n    fontWeight: 100\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport getDisplayName from './lib/react/getDisplayName';\nexport default (component => {\n  var _class, _temp;\n\n  const WrappedComponent = (_temp = _class = class WrappedComponent extends component {\n    getTranslation(key) {\n      return this.context.d2.i18n.getTranslation(key);\n    }\n\n  }, _defineProperty(_class, \"contextTypes\", { ...(component.contextTypes || {}),\n    d2: PropTypes.object.isRequired\n  }), _temp);\n  WrappedComponent.displayName = `WithTranslation(${getDisplayName(component)})`;\n  return WrappedComponent;\n});","export default function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport log from 'loglevel';\nimport Checkbox from 'material-ui/Checkbox';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport LinearProgress from 'material-ui/LinearProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AppTheme from '../theme';\nimport applyTranslateContext from '../Translate.HOC';\n\nclass FileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      isEnabled: this.props.isEnabled,\n      uploading: false,\n      progress: undefined,\n      showDialog: false\n    });\n\n    this.onClick = this.onClick.bind(this);\n    this.onPreviewClick = this.onPreviewClick.bind(this);\n    this.onToggle = this.onToggle.bind(this);\n    this.onUpload = this.onUpload.bind(this);\n  }\n\n  onClick(e) {\n    if (this.fileInput && !this.state.uploading) {\n      this.fileInput.click(e);\n    } else if (this.state.uploading) {\n      this.xhr.abort();\n      this.setState({\n        uploading: false,\n        progress: undefined\n      });\n      log.info('File upload cancelled');\n    }\n  }\n\n  onPreviewClick() {\n    this.setState(state => ({\n      showDialog: !state.showDialog\n    }));\n  }\n\n  onToggle(e) {\n    this.props.onChange({\n      target: {\n        value: e.target.checked\n      }\n    });\n  }\n\n  onUpload(e) {\n    if (e.target.files.length === 0) {\n      return;\n    }\n\n    this.setState({\n      uploading: true,\n      progress: undefined\n    });\n    const api = this.context.d2.Api.getApi();\n    const xhr = new XMLHttpRequest();\n\n    xhr.upload.onprogress = progress => {\n      if (progress.lengthComputable) {\n        this.setState({\n          progress: progress.loaded / progress.total * 100\n        });\n      } else {\n        this.setState({\n          progress: undefined\n        });\n      }\n    };\n\n    this.xhr = xhr;\n    const data = new FormData();\n    data.append('file', e.target.files[0]);\n    api.post(['staticContent', this.props.name].join('/'), data).then(() => {\n      log.info('File uploaded successfully');\n      this.props.onChange({\n        target: {\n          value: true\n        }\n      });\n      this.setState({\n        uploading: false,\n        progress: undefined,\n        isEnabled: true\n      });\n    }).catch(err => {\n      log.warn('File upload failed:', err);\n      this.props.onChange({\n        target: {\n          value: false\n        }\n      });\n      this.setState({\n        uploading: false,\n        progress: undefined,\n        isEnabled: false\n      });\n    });\n  }\n\n  renderUploading() {\n    const progressStyle = {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      zIndex: 1\n    };\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FlatButton, {\n      label: this.getTranslation('cancel_upload'),\n      onClick: this.onClick\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: progressStyle\n    }, /*#__PURE__*/React.createElement(LinearProgress, {\n      mode: this.state.progress ? 'determinate' : 'indeterminate',\n      value: this.state.progress\n    })));\n  }\n\n  renderUpload() {\n    const bodyStyle = {\n      backgroundColor: AppTheme.rawTheme.palette.primary1Color,\n      textAlign: 'center',\n      overflow: 'auto',\n      padding: 48\n    };\n    const dialogImgStyle = {\n      maxWidth: '100%',\n      maxHeight: '70vh'\n    };\n    const apiBase = this.context.d2.Api.getApi().baseUrl;\n    const imgUrl = `${[apiBase, 'staticContent', this.props.name].join('/')}?at=${new Date()}`;\n\n    if (this.state.isEnabled) {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FlatButton, {\n        label: this.getTranslation('replace_image'),\n        secondary: true,\n        onClick: this.onClick\n      }), /*#__PURE__*/React.createElement(FlatButton, {\n        label: this.getTranslation('preview_image'),\n        onClick: this.onPreviewClick\n      }), /*#__PURE__*/React.createElement(Dialog, {\n        open: this.state.showDialog,\n        onRequestClose: this.onPreviewClick,\n        autoDetectWindowHeight: true,\n        autoScrollBodyContent: true,\n        bodyStyle: bodyStyle\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: dialogImgStyle,\n        src: imgUrl,\n        alt: \"preview\"\n      })));\n    }\n\n    return /*#__PURE__*/React.createElement(FlatButton, {\n      label: this.getTranslation('upload_image'),\n      primary: true,\n      onClick: this.onClick\n    });\n  }\n\n  render() {\n    const {\n      onFocus,\n      onBlur,\n      onChange,\n      ...other\n    } = this.props; // eslint-disable-line\n\n    const containerStyle = {\n      position: 'relative',\n      display: 'block',\n      whiteSpace: 'nowrap'\n    };\n    const checkStyle = {\n      display: 'inline-block',\n      whiteSpace: 'nowrap',\n      paddingRight: 8,\n      paddingTop: 8,\n      paddingBottom: 8\n    };\n    const btnStyle = {\n      display: 'inline-block',\n      position: 'absolute',\n      top: 2\n    };\n\n    const setRef = ref => {\n      this.fileInput = ref;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: checkStyle\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: this.props.label,\n      onCheck: this.onToggle,\n      disabled: !this.state.isEnabled,\n      labelStyle: {\n        color: AppTheme.rawTheme.palette.textColor\n      },\n      checked: this.props.value\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: btnStyle\n    }, this.state.uploading ? this.renderUploading() : this.renderUpload(), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      style: {\n        visibility: 'hidden',\n        display: 'none'\n      },\n      ref: setRef,\n      onChange: this.onUpload\n    })));\n  }\n\n}\n\n_defineProperty(FileUpload, \"propTypes\", {\n  isEnabled: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.oneOf(['logo_front', 'logo_banner']).isRequired,\n  value: PropTypes.bool.isRequired,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\n_defineProperty(FileUpload, \"defaultProps\", {\n  onFocus: undefined,\n  onBlur: undefined,\n  onChange: undefined\n});\n\nconst FileUploadWithTranslation = applyTranslateContext(FileUpload);\nexport default FileUploadWithTranslation;","import RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react'; // Simple wrapper component that removes invalid props in order to stop React from complaining\n\nconst RaisedButtonWrapper = props => {\n  const {\n    errorStyle,\n    errorText,\n    ...other\n  } = props; // eslint-disable-line\n\n  return /*#__PURE__*/React.createElement(RaisedButton, other);\n};\n\nexport default RaisedButtonWrapper;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport TextField from 'material-ui/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst helpTextStyle = {\n  fontSize: '12px',\n  color: 'rgba(0, 0, 0, 0.3)',\n  margin: '-4px 0 0'\n};\n\nclass TextFieldComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      value: this.props.value\n    });\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      value: props.value\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      changeEvent,\n      isRequired,\n      defaultValue,\n      helpText,\n      ...other\n    } = this.props; // eslint-disable-line\n\n    const errorStyle = {\n      lineHeight: this.props.multiLine ? '48px' : '12px',\n      marginTop: this.props.multiLine ? -16 : 0\n    };\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TextField, _extends({\n      errorStyle: errorStyle\n    }, other, {\n      value: this.state.value,\n      onChange: this.onChange\n    })), helpText && /*#__PURE__*/React.createElement(\"p\", {\n      style: helpTextStyle\n    }, helpText));\n  }\n\n}\n\n_defineProperty(TextFieldComponent, \"propTypes\", {\n  helpText: PropTypes.node,\n  multiLine: PropTypes.bool,\n  value: PropTypes.string\n});\n\n_defineProperty(TextFieldComponent, \"defaultProps\", {\n  value: '',\n  multiLine: false,\n  helpText: ''\n});\n\nexport default TextFieldComponent;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from '../configOptionStore';\nimport SelectField from '../form-fields/drop-down';\nimport TextField from '../form-fields/text-field';\nimport settingsActions from '../settingsActions';\nimport settingsKeyMapping from '../settingsKeyMapping';\nimport settingsStore from '../settingsStore';\n/**\n * To understand why this component works the way it does, some background knowledge is required:\n *\n * The default values of these appearance settings cannot be fetched via `/systemSettings/<key>`\n * because this keyed endpoint applies translation. However, the default values for the appearance\n * settings can be obtained when calling `/systemSettings`, because this endpoint doesn't apply\n * translations. As such, the default values are already present in the `settingsStore`.\n *\n * When posting settings for a specific locale, we need to add a `locale` query parameter like so:\n * `/systemSettings/<key>?locale=<locale>`. To make this work a dedicated function has been created\n * in `src/settingsActions.js` called `saveLocalizedAppearanceSetting`. However, when we want to\n * update a default value, we need to omit the `locale` query parameter. Effectively this means that\n * updating a default appearance setting is identical to updating a regular setting, so it can just\n * be handled by the `saveSetting` function.\n */\n\nconst styles = {\n  inset: {\n    padding: '0 16px 8px',\n    borderRadius: 2,\n    boxShadow: '0px 0px 5px rgba(0,0,0,0.15), 0px 2px 3px rgba(0,0,0,0.15)',\n    margin: '8px -12px 4px'\n  },\n  field: {\n    width: '100%'\n  },\n  loaderWrap: {\n    textAlign: 'center',\n    padding: 12\n  },\n  error: {\n    color: 'red',\n    padding: 12\n  },\n  clickableHelpText: {\n    color: '#3162C5',\n    textDecoration: 'underline',\n    cursor: 'pointer'\n  }\n};\nconst SYSTEM_DEFAULT = '@@__SYSTEM_DEFAULT__@@';\nconst LOCALIZED_SETTING_KEYS = ['applicationTitle', 'keyApplicationIntro', 'keyApplicationNotification', 'keyApplicationFooter', 'keyApplicationRightFooter'];\n\nclass LocalizedTextEditor extends React.Component {\n  static getLocaleName(code) {\n    return configOptionStore.state && configOptionStore.getState().uiLocales.filter(locale => locale.id === code).map(locale => locale.displayName).pop() || '';\n  }\n\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"switchToDefaultLocale\", () => {\n      this.handleChange({\n        target: {\n          value: SYSTEM_DEFAULT\n        }\n      });\n    });\n\n    _defineProperty(this, \"createFieldHelpTextProps\", fieldKey => {\n      const defaultValue = settingsStore.state[fieldKey];\n      const {\n        locale\n      } = this.state;\n\n      if (locale === SYSTEM_DEFAULT) {\n        return null;\n      }\n\n      if (defaultValue) {\n        return {\n          helpText: `${this.getTranslation('default_value')}: ${defaultValue}`\n        };\n      }\n\n      return {\n        disabled: true,\n        helpText: /*#__PURE__*/React.createElement(\"span\", {\n          style: styles.clickableHelpText,\n          onClick: this.switchToDefaultLocale\n        }, this.getTranslation('set_main_value_first'))\n      };\n    });\n\n    this.state = {\n      locale: settingsStore.state && settingsStore.state.keyUiLocale,\n      localeName: settingsStore.state && LocalizedTextEditor.getLocaleName(settingsStore.state.keyUiLocale),\n      settings: null,\n      error: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.saveSettingsKey = this.saveSettingsKey.bind(this);\n    this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n  }\n\n  componentDidMount() {\n    this.getAppearanceSettings();\n    this.settingsStoreSubscription = settingsStore.subscribe(() => {\n      this.setState({\n        locale: settingsStore.state.keyUiLocale,\n        localeName: LocalizedTextEditor.getLocaleName(settingsStore.state.keyUiLocale)\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.settingsStoreSubscription) {\n      this.settingsStoreSubscription.unsubscribe();\n    }\n  }\n\n  getAppearanceSettings(code) {\n    const locale = code || this.state.locale;\n    const promise = locale === SYSTEM_DEFAULT ? Promise.resolve(LOCALIZED_SETTING_KEYS.map(key => settingsStore.state[key])) : this.fetchLocalizedAppearanceSettings(locale);\n    promise.then(values => {\n      const settings = LOCALIZED_SETTING_KEYS.reduce((acc, key, i) => {\n        acc[key] = values[i];\n        return acc;\n      }, {});\n      this.setState({\n        settings,\n        error: false\n      });\n    }).catch(() => {\n      this.setState({\n        error: true,\n        settings: null\n      });\n    });\n  }\n\n  fetchLocalizedAppearanceSettings(locale) {\n    const api = this.context.d2.Api.getApi();\n    return Promise.all(LOCALIZED_SETTING_KEYS.map(key => api.get(`systemSettings/${key}`, {\n      locale\n    }).then(json => json[key])));\n  }\n\n  handleChange(e) {\n    const code = e.target.value;\n    this.setState({\n      locale: code,\n      localeName: LocalizedTextEditor.getLocaleName(code),\n      settings: null\n    });\n    this.getAppearanceSettings(code);\n  }\n\n  saveSettingsKey(key, value) {\n    this.setState({\n      settings: { ...this.state.settings,\n        [key]: value\n      }\n    });\n    const locale = this.state.locale === SYSTEM_DEFAULT ? null : this.state.locale;\n    settingsActions.saveKey(key, value, locale);\n  }\n\n  renderLocalizedAppearanceFields() {\n    if (!this.state.settings && !this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.loaderWrap\n      }, /*#__PURE__*/React.createElement(CircularProgress, null));\n    }\n\n    if (this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.error\n      }, this.getTranslation('could_not_fetch_localized_settings'));\n    }\n\n    const fields = LOCALIZED_SETTING_KEYS.map(key => ({\n      name: key,\n      value: this.state.settings[key] || '',\n      component: TextField,\n      props: {\n        floatingLabelText: `${this.getTranslation(settingsKeyMapping[key].label)} - ${this.state.localeName || this.getTranslation('system_default')}`,\n        changeEvent: 'onBlur',\n        style: styles.field,\n        multiLine: true,\n        ...this.createFieldHelpTextProps(key)\n      }\n    }));\n    return /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.saveSettingsKey\n    });\n  }\n\n  render() {\n    const systemDefaultOption = {\n      id: SYSTEM_DEFAULT,\n      displayName: this.getTranslation('system_default')\n    };\n    const optionStoreState = configOptionStore.getState();\n    const uiLocales = optionStoreState && optionStoreState.uiLocales || [];\n    const options = [systemDefaultOption, ...uiLocales];\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.inset\n    }, /*#__PURE__*/React.createElement(SelectField, {\n      menuItems: options,\n      value: this.state.locale || '',\n      floatingLabelText: i18n.t('Select language'),\n      onChange: this.handleChange\n    }), this.state.locale && this.renderLocalizedAppearanceFields()));\n  }\n\n}\n\nLocalizedTextEditor.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default LocalizedTextEditor;","import FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { Table, Column, Cell } from 'fixed-data-table';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport { RadioButtonGroup, RadioButton } from 'material-ui/RadioButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Checkbox from '../form-fields/check-box';\nimport settingsActions from '../settingsActions';\nimport settingsKeyMapping from '../settingsKeyMapping';\nimport settingsStore from '../settingsStore';\nimport 'fixed-data-table/dist/fixed-data-table.css';\n\nclass metadataSettings extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      metadataVersions: [],\n      selectedTransactionType: 'BEST_EFFORT',\n      masterVersionName: null,\n      lastFailedTime: null,\n      hqInstanceUrl: null,\n      isVersioningEnabled: false,\n      remoteVersionName: null,\n      isLocalInstance: false,\n      hasVersions: false,\n      isTaskRunning: false\n    };\n    this.d2 = context.d2;\n    this.getTranslation = context.d2.i18n.getTranslation.bind(context.d2.i18n);\n    this.onSelectTransactionType = this.onSelectTransactionType.bind(this);\n    this.syncVersions = this.syncVersions.bind(this);\n    this.syncSettings = this.syncSettings.bind(this);\n    this.createVersion = this.createVersion.bind(this);\n    this.onToggleVersioning = this.onToggleVersioning.bind(this);\n    this.onToggleStopSync = this.onToggleStopSync.bind(this);\n    this.saveSettingsKey = 'keyVersionEnabled';\n    this.stopMetadataSyncKey = 'keyStopMetadataSync';\n    this.createVersionKey = 'createVersionButton';\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(settings => {\n      this.setState({\n        isVersioningEnabled: settings[this.saveSettingsKey] === 'true'\n      }, () => {\n        this.syncVersions();\n        this.syncVersions().then(this.syncSettings);\n      });\n    }));\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  onSelectTransactionType(event, value) {\n    this.setState({\n      selectedTransactionType: value\n    });\n  }\n\n  onToggleVersioning(e, v) {\n    settingsActions.saveKey(this.saveSettingsKey, v ? 'true' : 'false');\n  }\n\n  onToggleStopSync(e, v) {\n    settingsActions.saveKey(this.stopMetadataSyncKey, v ? 'true' : 'false');\n  }\n\n  createVersion() {\n    const mapping = settingsKeyMapping[this.createVersionKey];\n    this.setState({\n      isTaskRunning: true\n    });\n    this.d2.Api.getApi().post(`${mapping.uri}?type=${this.state.selectedTransactionType}`).then(() => {\n      this.setState({\n        isTaskRunning: false\n      });\n      settingsActions.load(true);\n      settingsActions.showSnackbarMessage(this.getTranslation('version_created'));\n      return Promise.resolve();\n    }).then(this.sync).catch(() => {\n      this.setState({\n        isTaskRunning: false\n      });\n      settingsActions.showSnackbarMessage(this.getTranslation('version_not_created'));\n      return Promise.resolve();\n    });\n  }\n\n  syncSettings() {\n    this.d2.Api.getApi().get('/systemSettings').then(result => {\n      this.setState({\n        lastFailedTime: result.keyMetadataLastFailedTime ? result.keyMetadataLastFailedTime : null,\n        isVersioningEnabled: result.keyVersionEnabled,\n        hqInstanceUrl: result.keyRemoteInstanceUrl,\n        remoteVersionName: result.keyRemoteMetadataVersion,\n        lastFailedVersion: result.keyMetadataFailedVersion ? result.keyMetadataFailedVersion : null,\n        isSchedulerEnabled: result.keySchedTasks !== undefined\n      });\n\n      if (this.state.hqInstanceUrl !== undefined && this.state.hqInstanceUrl.length !== 0) {\n        this.setState({\n          isLocalInstance: true,\n          masterVersionName: this.state.remoteVersionName,\n          isLastSyncValid: this.state.lastFailedTime != null\n        });\n      } else {\n        this.setState({\n          isLocalInstance: false,\n          masterVersionName: this.state.metadataVersions !== undefined && this.state.metadataVersions.length !== 0 ? this.state.metadataVersions[0].name : null\n        });\n      }\n\n      return Promise.resolve();\n    }).catch(() => {\n      settingsActions.showSnackbarMessage(this.getTranslation('error_fetching_settings'));\n      return Promise.resolve();\n    });\n  }\n\n  syncVersions() {\n    if (this.state.isVersioningEnabled === true) {\n      return this.d2.Api.getApi().get('/metadata/versions').then(result => {\n        const versions = result.metadataversions.sort((a, b) => {\n          if (a.created < b.created) {\n            return 1;\n          } else if (a.created > b.created) {\n            return -1;\n          }\n\n          return 0;\n        });\n        versions.forEach(version => {\n          version.importdate = version.importdate ? new Date(version.importdate).toLocaleString() : 'NA';\n        });\n        this.setState({\n          metadataVersions: versions,\n          hasVersions: versions !== undefined && versions.length !== 0\n        });\n        return Promise.resolve();\n      }).catch(() => {\n        this.setState({\n          hasVersions: false\n        });\n        return Promise.resolve();\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  renderVersionList() {\n    const styles = {\n      inlineRight: {\n        display: 'inline-block',\n        float: 'right'\n      },\n      visible: {\n        display: 'block',\n        paddingTop: '2rem'\n      },\n      hidden: {\n        display: 'none'\n      },\n      inlineProgressIcon: {\n        display: 'inline-block',\n        top: '-7px',\n        float: 'left'\n      }\n    };\n\n    const fieldGetter = (field, filter = x => x) => ({\n      rowIndex,\n      ...props\n    }) => /*#__PURE__*/React.createElement(Cell, props, filter(this.state.metadataVersions[rowIndex][field]));\n\n    const dateFmt = str => new Date(str).toLocaleString();\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", null, this.getTranslation('create_metadata_version')), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButtonGroup, {\n      name: \"version_types\",\n      onChange: this.onSelectTransactionType,\n      defaultSelected: \"BEST_EFFORT\",\n      style: {\n        display: 'flex'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"BEST_EFFORT\",\n      label: this.getTranslation('version_type_best_effort'),\n      disabled: this.state.isTaskRunning\n    }), /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"ATOMIC\",\n      label: this.getTranslation('version_type_atomic'),\n      disabled: this.state.isTaskRunning\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.inlineRight\n    }, this.state.isTaskRunning && /*#__PURE__*/React.createElement(CircularProgress, {\n      style: styles.inlineProgressIcon,\n      size: 0.5\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      label: this.getTranslation('create_metadata_version'),\n      onClick: this.createVersion,\n      disabled: this.state.isTaskRunning\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block',\n        float: 'left'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: '1.17em',\n        fontWeight: 'bold',\n        marginRight: 8\n      }\n    }, this.getTranslation('master_version'), \":\"), this.state.masterVersionName || this.getTranslation('none')), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.inlineRight : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLastSyncValid ? styles.inlineRight : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontStyle: 'italic'\n      }\n    }, this.getTranslation('last_sync_attempt'), \":\"), /*#__PURE__*/React.createElement(\"span\", null, this.state.lastFailedVersion), /*#__PURE__*/React.createElement(\"span\", null, ' ', \"|\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      }\n    }, this.getTranslation('failed')), \"|\", ' ', new Date(this.state.lastFailedTime).toLocaleString())))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 135\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created', dateFmt),\n      width: 205\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 145\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Last Sync\"),\n      cell: fieldGetter('importdate'),\n      width: 185\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 190\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created'),\n      width: 280\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 200\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(\"h4\", null, this.getTranslation('no_versions_exist'))));\n  }\n\n  render() {\n    const localeAppendage = this.state.locale === 'en' ? '' : this.state.locale;\n    const checkboxFields = [{\n      name: 'keyVersionEnabled',\n      value: settingsStore.state && settingsStore.state[this.saveSettingsKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: this.getTranslation('keyVersionEnabled'),\n        checked: (settingsStore.state && settingsStore.state[this.saveSettingsKey]) === 'true',\n        onCheck: this.onToggleVersioning,\n        disabled: this.state.isTaskRunning\n      }\n    }, {\n      name: 'keyStopMetadataSync',\n      value: settingsStore.state && settingsStore.state[this.stopMetadataSyncKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: this.getTranslation('keyStopMetadataSync'),\n        checked: (settingsStore.state && settingsStore.state[this.stopMetadataSyncKey]) === 'true',\n        onCheck: this.onToggleStopSync\n      }\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: '2rem'\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", null, this.getTranslation('metadata_versioning')), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: checkboxFields,\n      onUpdateField: settingsActions.saveKey\n    }), this.state.isVersioningEnabled === true ? this.renderVersionList() : null);\n  }\n\n}\n\nmetadataSettings.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default metadataSettings;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Checkbox from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass MultiToggle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      values: this.props.items.reduce((prev, curr) => {\n        if (curr.value) {\n          prev.push(curr.name);\n        }\n\n        return prev;\n      }, [])\n    });\n\n    this.onToggle = this.onToggle.bind(this);\n  }\n\n  onToggle(value, event, checked) {\n    this.setState(oldState => {\n      if (checked) {\n        if (oldState.values.indexOf(value) === -1) {\n          oldState.values.push(value);\n        }\n      } else if (oldState.values.indexOf(value) !== -1) {\n        oldState.values.splice(oldState.values.indexOf(value), 1);\n      }\n\n      return oldState;\n    }, () => {\n      this.props.onChange({\n        target: {\n          value: this.state.values\n        }\n      });\n    });\n  }\n\n  render() {\n    const style = Object.assign({}, this.context.muiTheme.forms, this.props.style);\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 16,\n        marginBottom: 8\n      }\n    }, this.props.label), this.props.items.map(item => {\n      const togglor = this.onToggle.bind(null, item.name); // eslint-disable-line\n\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        key: item.name,\n        name: item.name,\n        value: \"true\",\n        defaultChecked: item.value === true,\n        label: item.text,\n        onCheck: togglor,\n        style: style,\n        labelPosition: \"right\"\n      });\n    }));\n  }\n\n}\n\n_defineProperty(MultiToggle, \"propTypes\", {\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    value: PropTypes.bool\n  })),\n  style: PropTypes.object\n});\n\n_defineProperty(MultiToggle, \"defaultProps\", {\n  items: [],\n  style: {}\n});\n\nMultiToggle.contextTypes = {\n  muiTheme: PropTypes.object\n};\nexport default MultiToggle;","import Store from 'd2-ui/lib/store/Store';\nexport default Store.create();","import { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action';\nimport settingsActions from '../settingsActions';\nimport oa2Store from './oauth2Client.store';\nconst oa2Actions = Action.createActionsFromNames(['load', 'delete']);\noa2Actions.load.subscribe(() => {\n  getD2().then(d2 => {\n    d2.models.oAuth2Client.list({\n      paging: false,\n      fields: ':all',\n      order: 'displayName'\n    }).then(oa2ClientCollection => {\n      const yes = d2.i18n.getTranslation('yes');\n      const no = d2.i18n.getTranslation('no'); // Map grant types to object props in order to display them in the data table\n\n      oa2Store.setState(oa2ClientCollection.toArray().map(oa2c => Object.assign(oa2c, {\n        password: oa2c.grantTypes.indexOf('password') !== -1 ? yes : no,\n        refresh_token: oa2c.grantTypes.indexOf('refresh_token') !== -1 ? yes : no,\n        authorization_code: oa2c.grantTypes.indexOf('authorization_code') !== -1 ? yes : no\n      })));\n    });\n  });\n});\noa2Actions.delete.subscribe(e => {\n  e.data.delete().then(() => {\n    oa2Actions.load();\n    getD2().then(d2 => {\n      settingsActions.showSnackbarMessage(d2.i18n.getTranslation('oauth2_client_deleted'));\n    });\n  }).catch(err => {\n    console.error('Error when deleting OAuth2 client:', err);\n    getD2().then(d2 => {\n      settingsActions.showSnackbarMessage(d2.i18n.getTranslation('failed_to_save_oauth2_client'));\n    });\n  });\n});\nexport default oa2Actions;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead, Button } from '@dhis2/ui';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { isUrlArray, isRequired } from 'd2-ui/lib/forms/Validators';\nimport LoadingMask from 'd2-ui/lib/loading-mask/LoadingMask.component';\nimport log from 'loglevel';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport FloatingActionButton from 'material-ui/FloatingActionButton';\nimport FontIcon from 'material-ui/FontIcon';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport React from 'react';\nimport MultiToggle from '../form-fields/multi-toggle';\nimport TextField from '../form-fields/text-field';\nimport settingsActions from '../settingsActions';\nimport AppTheme from '../theme';\nimport applyTranslateContext from '../Translate.HOC';\nimport oa2Actions from './oauth2Client.actions';\nimport oa2ClientStore from './oauth2Client.store';\nconst styles = {\n  wrapper: {\n    position: 'relative',\n    marginTop: 24\n  },\n  fab: {\n    position: 'absolute',\n    top: -28,\n    right: 0\n  },\n  loadingMask: {\n    position: 'fixed',\n    left: 256,\n    top: '3rem',\n    right: 0,\n    bottom: 0,\n    zIndex: 1000,\n    backgroundColor: 'rgba(243,243,243,0.4)'\n  },\n  empty: {\n    padding: '24px 0'\n  }\n};\n\nfunction generateSecret() {\n  const alphabet = '0123456789abcdef';\n  let uid = '';\n\n  for (let i = 0; i < 32; i++) {\n    uid += alphabet.charAt(Math.random() * alphabet.length);\n\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      uid += '-';\n    }\n  }\n\n  return uid;\n}\n\nclass OAuth2ClientEditor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      showForm: false,\n      isEmpty: true,\n      saving: false\n    });\n\n    this.formUpdateAction = this.formUpdateAction.bind(this);\n    this.editAction = this.editAction.bind(this);\n    this.saveAction = this.saveAction.bind(this);\n    this.deleteAction = this.deleteAction.bind(this);\n    this.cancelAction = this.cancelAction.bind(this);\n    this.newAction = this.newAction.bind(this);\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(oa2ClientStore.subscribe(() => {\n      this.setState({\n        isEmpty: oa2ClientStore.state.length === 0\n      });\n    }));\n    this.subscriptions.push(oa2Actions.delete.subscribe(() => {\n      this.setState({\n        saving: false\n      });\n    }));\n    oa2Actions.load();\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  cancelAction() {\n    this.clientModel = undefined;\n    oa2Actions.load();\n    this.setState({\n      showForm: false\n    });\n  }\n\n  newAction() {\n    this.clientModel = this.context.d2.models.oAuth2Client.create();\n    this.clientModel.secret = generateSecret();\n    this.setState({\n      showForm: true\n    });\n  }\n\n  editAction(model) {\n    this.clientModel = model;\n    this.setState({\n      showForm: true\n    });\n  }\n\n  deleteAction(model) {\n    this.setState({\n      showForm: false,\n      saving: true\n    });\n    oa2Actions.delete(model.id ? model : this.clientModel);\n    this.clientModel = undefined;\n  }\n\n  saveAction() {\n    this.clientModel.name = this.clientModel.name || '';\n    this.clientModel.cid = this.clientModel.cid || '';\n    this.setState({\n      saving: true\n    });\n    this.clientModel.save().then(importReport => {\n      if (importReport.status !== 'OK') {\n        throw new Error(importReport);\n      }\n\n      settingsActions.showSnackbarMessage(this.getTranslation('oauth2_client_saved'));\n      oa2Actions.load();\n      this.setState({\n        showForm: false,\n        saving: false\n      });\n    }).catch(error => {\n      settingsActions.showSnackbarMessage(this.getTranslation('failed_to_save_oauth2_client'));\n      this.setState({\n        saving: false\n      });\n      const message = (error.messages || error.response) && error.response.errorReports ? `\\n - ${(error.messages || error.response.errorReports).map(e => e.message).join('\\n - ')}` : error.message || error;\n      log.warn(`Error when saving OAuth2 client: ${message}`);\n    });\n  }\n\n  formUpdateAction(field, v) {\n    let value = v;\n\n    if (field === 'redirectUris') {\n      value = v.split('\\n').filter(a => a.trim().length > 0);\n    }\n\n    this.clientModel[field] = value;\n    this.forceUpdate();\n  }\n\n  renderForm() {\n    const d2 = this.context.d2;\n    const formFieldStyle = AppTheme.forms;\n    formFieldStyle.width = '100%';\n    const grantTypes = (this.clientModel && this.clientModel.grantTypes || []).reduce((curr, prev) => {\n      curr[prev] = true;\n      return curr;\n    }, {});\n    const styles = {\n      dialog: {\n        paddingLeft: 128\n      },\n      dialogContent: {\n        maxWidth: 400,\n        minWidth: 400\n      },\n      dialogBody: {\n        overflowY: 'auto'\n      },\n      button: {\n        marginLeft: 16\n      },\n      buttonRight: {\n        float: 'right'\n      }\n    };\n\n    function validateClientID(v) {\n      return new Promise((resolve, reject) => {\n        d2.models.oAuth2Clients.list({\n          paging: false,\n          filter: [`cid:eq:${v}`]\n        }).then(list => {\n          if (list.size === 0) {\n            resolve();\n          } else {\n            reject(d2.i18n.getTranslation('cid_already_taken'));\n          }\n        });\n      });\n    }\n\n    const fields = [{\n      name: 'name',\n      value: this.clientModel.name,\n      component: TextField,\n      props: {\n        floatingLabelText: this.getTranslation('name'),\n        style: formFieldStyle,\n        changeEvent: 'onBlur'\n      },\n      validators: [{\n        validator: isRequired,\n        message: this.context.d2.i18n.getTranslation(isRequired.message)\n      }]\n    }, {\n      name: 'cid',\n      value: this.clientModel.cid,\n      component: TextField,\n      props: {\n        floatingLabelText: this.getTranslation('client_id'),\n        style: formFieldStyle,\n        changeEvent: 'onBlur'\n      },\n      validators: [{\n        validator: isRequired,\n        message: this.context.d2.i18n.getTranslation(isRequired.message)\n      }, {\n        validator: v => v.toString().trim().length > 0,\n        message: this.context.d2.i18n.getTranslation(isRequired.message)\n      }],\n      asyncValidators: [validateClientID]\n    }, {\n      name: 'secret',\n      value: this.clientModel && this.clientModel.secret,\n      component: TextField,\n      props: {\n        floatingLabelText: this.getTranslation('client_secret'),\n        disabled: true,\n        style: formFieldStyle\n      }\n    }, {\n      name: 'grantTypes',\n      component: MultiToggle,\n      style: formFieldStyle,\n      props: {\n        label: this.getTranslation('grant_types'),\n        items: [{\n          name: 'password',\n          text: this.getTranslation('password'),\n          value: grantTypes.password\n        }, {\n          name: 'refresh_token',\n          text: this.getTranslation('refresh_token'),\n          value: grantTypes.refresh_token\n        }, {\n          name: 'authorization_code',\n          text: this.getTranslation('authorization_code'),\n          value: grantTypes.authorization_code\n        }]\n      }\n    }, {\n      name: 'redirectUris',\n      value: (this.clientModel.redirectUris || []).join('\\n'),\n      component: TextField,\n      props: {\n        hintText: this.getTranslation('one_url_per_line'),\n        floatingLabelText: this.getTranslation('redirect_uris'),\n        multiLine: true,\n        style: formFieldStyle,\n        changeEvent: 'onBlur'\n      },\n      validators: [{\n        validator: isUrlArray,\n        message: this.context.d2.i18n.getTranslation(isUrlArray.message)\n      }]\n    }];\n    const headerText = this.clientModel.id === undefined ? this.getTranslation('create_new_oauth2_client') : this.getTranslation('edit_oauth2_client');\n    return /*#__PURE__*/React.createElement(Dialog, {\n      open: true,\n      modal: true,\n      style: styles.dialog,\n      contentStyle: styles.dialogContent,\n      bodyStyle: styles.dialogBody\n    }, /*#__PURE__*/React.createElement(\"h2\", null, headerText), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.formUpdateAction\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: '1rem'\n      }\n    }, /*#__PURE__*/React.createElement(RaisedButton, {\n      onClick: this.saveAction,\n      primary: true,\n      label: this.getTranslation('save')\n    }), this.clientModel.id !== undefined ? /*#__PURE__*/React.createElement(FlatButton, {\n      onClick: this.deleteAction,\n      primary: true,\n      style: styles.button,\n      label: this.getTranslation('delete')\n    }) : undefined, /*#__PURE__*/React.createElement(FlatButton, {\n      onClick: this.cancelAction,\n      style: styles.buttonRight,\n      label: this.getTranslation('cancel')\n    })));\n  }\n\n  renderList() {\n    return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Password')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Refresh token')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Authorization code')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, oa2ClientStore.state.map(row => /*#__PURE__*/React.createElement(TableRow, {\n      key: row.authorization_code\n    }, /*#__PURE__*/React.createElement(TableCell, null, row.name), /*#__PURE__*/React.createElement(TableCell, null, row.password), /*#__PURE__*/React.createElement(TableCell, null, row.refresh_token), /*#__PURE__*/React.createElement(TableCell, null, row.authorization_code), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      primary: true,\n      onClick: this.editAction\n    }, i18n.t('Edit')), /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      destructive: true,\n      onClick: this.deleteAction\n    }, i18n.t('Delete')))))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.wrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.fab\n    }, /*#__PURE__*/React.createElement(FloatingActionButton, {\n      onClick: this.newAction\n    }, /*#__PURE__*/React.createElement(FontIcon, {\n      className: \"material-icons\"\n    }, \"add\"))), this.state.saving && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.loadingMask\n    }, /*#__PURE__*/React.createElement(LoadingMask, null)), this.state.isEmpty ? /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.empty\n    }, this.getTranslation('no_oauth2_clients_registered')) : this.renderList(), this.state.showForm && this.renderForm());\n  }\n\n}\n\nconst OAuth2ClientEditorWithTranslation = applyTranslateContext(OAuth2ClientEditor);\nexport default OAuth2ClientEditorWithTranslation;","import i18n from '@dhis2/d2-i18n';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators';\nimport { Card, CardText } from 'material-ui/Card';\nimport IconButton from 'material-ui/IconButton';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from './configOptionStore';\nimport Checkbox from './form-fields/check-box';\nimport SelectField from './form-fields/drop-down';\nimport FileUpload from './form-fields/file-upload';\nimport RaisedButton from './form-fields/raised-button';\nimport TextField from './form-fields/text-field';\nimport LocalizedAppearance from './localized-text/LocalizedAppearanceEditor.component';\nimport metadataSettings from './metadata-settings/metadataSettings.component';\nimport Oauth2ClientEditor from './oauth2-client-editor/OAuth2ClientEditor.component';\nimport settingsActions from './settingsActions';\nimport { categories } from './settingsCategories';\nimport settingsKeyMapping from './settingsKeyMapping';\nimport settingsStore from './settingsStore';\nimport AppTheme from './theme';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 300,\n    color: AppTheme.rawTheme.palette.textColor,\n    padding: '24px 0 12px 16px'\n  },\n  card: {\n    marginTop: 8,\n    marginRight: '1rem',\n    padding: '0 1rem'\n  },\n  cardTitle: {\n    background: AppTheme.rawTheme.palette.primary2Color,\n    height: 62\n  },\n  cardTitleText: {\n    fontSize: 28,\n    fontWeight: 100,\n    color: AppTheme.rawTheme.palette.alternateTextColor\n  },\n  noHits: {\n    padding: '1rem',\n    marginTop: '1rem',\n    fontWeight: 300\n  },\n  userSettingsOverride: {\n    color: AppTheme.rawTheme.palette.primary1Color,\n    position: 'absolute',\n    right: 0,\n    top: 24\n  },\n  menuIcon: {\n    color: '#757575'\n  },\n  menuLabel: {\n    position: 'relative',\n    top: -6,\n    marginLeft: 16\n  }\n};\n\nfunction wrapUserSettingsOverride(d2, component, valueLabel) {\n  return class extends component {\n    render() {\n      const labelStyle = Object.assign({}, styles.userSettingsOverride);\n\n      if (component === Checkbox) {\n        labelStyle.top = -8;\n      }\n\n      const labelText = valueLabel !== undefined ? `${d2.i18n.getTranslation('will_be_overridden_by_current_user_setting')}: ${valueLabel}` : d2.i18n.getTranslation('can_be_overridden_by_user_settings');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginRight: 48\n        }\n      }, super.render(), /*#__PURE__*/React.createElement(\"div\", {\n        style: labelStyle\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        iconClassName: \"material-icons\",\n        tooltip: labelText,\n        tooltipPosition: \"bottom-left\",\n        iconStyle: {\n          color: AppTheme.rawTheme.palette.primary1Color\n        },\n        tooltipStyles: {\n          fontSize: '.75rem',\n          marginRight: 32,\n          marginTop: -32\n        }\n      }, \"info_outline\")));\n    }\n\n  };\n}\n\nfunction addConditionallyHiddenStyles(mapping) {\n  if (!mapping || !mapping.hideWhen) {\n    return {};\n  }\n\n  const {\n    settingsKey,\n    settingsValue\n  } = mapping.hideWhen;\n  const currentValue = settingsStore.state[settingsKey];\n  return settingsValue === currentValue ? {\n    display: 'none'\n  } : {};\n}\n\nclass SettingsFields extends React.Component {\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(() => this.forceUpdate()));\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.currentSettings.join(',') !== this.props.currentSettings.join(',');\n  }\n\n  componentWillUnmount() {\n    if (Array.isArray(this.subscriptions)) {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n  }\n\n  fieldForMapping({\n    mapping,\n    fieldBase,\n    key,\n    d2\n  }) {\n    switch (mapping.type) {\n      case 'textfield':\n      case undefined:\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            changeEvent: 'onBlur',\n            multiLine: !!mapping.multiLine\n          })\n        });\n\n      case 'password':\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            type: 'password',\n            changeEvent: 'onBlur',\n            autoComplete: 'new-password'\n          })\n        });\n\n      case 'dropdown':\n        if (mapping.includeEmpty && fieldBase.value === '') {\n          fieldBase.value = 'null';\n        }\n\n        return Object.assign({}, fieldBase, {\n          component: SelectField,\n          props: Object.assign({}, fieldBase.props, {\n            menuItems: mapping.source ? configOptionStore.state && configOptionStore.state[mapping.source] || [] : Object.keys(mapping.options).map(id => {\n              const displayName = !isNaN(mapping.options[id]) ? mapping.options[id] : d2.i18n.getTranslation(mapping.options[id]);\n              return {\n                id,\n                displayName\n              };\n            }),\n            includeEmpty: !!mapping.includeEmpty,\n            emptyLabel: mapping.includeEmpty && mapping.emptyLabel && d2.i18n.getTranslation(mapping.emptyLabel) || undefined,\n            noOptionsLabel: d2.i18n.getTranslation('no_options')\n          })\n        });\n\n      case 'checkbox':\n        return Object.assign({}, fieldBase, {\n          component: Checkbox,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            sectionLabel: mapping.sectionLabel && d2.i18n.getTranslation(mapping.sectionLabel) || undefined,\n            style: fieldBase.props.style,\n            onCheck: (e, v) => {\n              settingsActions.saveKey(key, v ? 'true' : 'false');\n            }\n          }\n        });\n\n      case 'staticContent':\n        return Object.assign({}, fieldBase, {\n          component: FileUpload,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            name: mapping.name,\n            isEnabled: settingsStore.state && Object.hasOwnProperty.call(settingsStore.state, key),\n            value: fieldBase.value === 'true' || fieldBase.value === true\n          }\n        });\n\n      case 'oauth2clients':\n        return Object.assign({}, fieldBase, {\n          component: Oauth2ClientEditor\n        });\n\n      case 'postButton':\n        return Object.assign({}, fieldBase, {\n          component: RaisedButton,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            onClick: () => {\n              d2.Api.getApi().post(mapping.uri).then(result => {\n                settingsActions.load(true);\n                settingsActions.showSnackbarMessage(result.message);\n              }).catch(error => {\n                settingsActions.showSnackbarMessage(error.message);\n              });\n            },\n            style: {\n              minWidth: 'initial',\n              maxWidth: 'initial',\n              marginTop: '1em'\n            }\n          }\n        });\n\n      case 'localizedAppearance':\n        return Object.assign({}, fieldBase, {\n          component: LocalizedAppearance\n        });\n\n      case 'metadataSettings':\n        return Object.assign({}, fieldBase, {\n          component: metadataSettings\n        });\n\n      default:\n        console.warn(`Unknown control type \"${mapping.type}\" encountered for field \"${key}\"`);\n        return {};\n    }\n  }\n\n  renderFields(settings) {\n    const d2 = this.context.d2;\n\n    if (settings.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.noHits\n      }, d2.i18n.getTranslation('no_settings_matched_the_search_term'));\n    }\n\n    const fields = settings.map(key => {\n      const mapping = settingsKeyMapping[key]; // Base config, common for all component types\n\n      const validators = [];\n\n      if (mapping.validators) {\n        mapping.validators.forEach(name => {\n          if (wordToValidatorMap.has(name)) {\n            validators.push({\n              validator: wordToValidatorMap.get(name),\n              message: d2.i18n.getTranslation(wordToValidatorMap.get(name).message)\n            });\n          }\n        });\n      }\n\n      const fieldBase = {\n        name: key,\n        value: settingsStore.state && settingsStore.state[key] || '',\n        component: TextField,\n        props: {\n          floatingLabelText: d2.i18n.getTranslation(mapping.label),\n          style: {\n            width: '100%',\n            ...addConditionallyHiddenStyles(mapping)\n          },\n          hintText: mapping.hintText && d2.i18n.getTranslation(mapping.hintText)\n        },\n        validators\n      };\n      return this.fieldForMapping({\n        mapping,\n        fieldBase,\n        key,\n        d2\n      });\n    }).filter(f => !!f.name).map(field => {\n      const mapping = settingsKeyMapping[field.name];\n      const options = configOptionStore.getState();\n\n      if (mapping.userSettingsOverride) {\n        const userSettingsNoFallback = options && options.userSettingsNoFallback || {};\n        const userSettingValue = userSettingsNoFallback && userSettingsNoFallback[field.name] !== null ? userSettingsNoFallback[field.name] : '';\n        let component = field.component;\n\n        if (userSettingValue === '') {\n          component = wrapUserSettingsOverride(d2, component);\n        } else if (mapping.source) {\n          const userSettingLabel = (options && options[mapping.source] || []).filter(opt => opt.id === userSettingValue).map(opt => opt.displayName).pop();\n          component = wrapUserSettingsOverride(d2, component, userSettingLabel);\n        } else {\n          component = wrapUserSettingsOverride(d2, component, d2.i18n.getTranslation(userSettingValue));\n        }\n\n        return Object.assign(field, {\n          component\n        });\n      }\n\n      return field;\n    });\n    return /*#__PURE__*/React.createElement(Card, {\n      style: styles.card,\n      key: this.props.category\n    }, /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: settingsActions.saveKey\n    })));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header\n    }, categories[this.props.category] ? categories[this.props.category].pageLabel : i18n.t('Search results')), this.renderFields(this.props.currentSettings));\n  }\n\n}\n\nSettingsFields.propTypes = {\n  category: PropTypes.string.isRequired,\n  currentSettings: PropTypes.arrayOf(PropTypes.string).isRequired\n};\nSettingsFields.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default SettingsFields;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport Sidebar from 'd2-ui/lib/sidebar/Sidebar.component';\nimport createHistory from 'history/createHashHistory';\nimport Snackbar from 'material-ui/Snackbar';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './App.module.css';\nimport configOptionStore from './configOptionStore';\nimport settingsActions from './settingsActions';\nimport { categoryOrder, categories } from './settingsCategories';\nimport SettingsFields from './settingsFields.component';\nimport appTheme from './theme';\n\nclass AppComponent extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"closeSnackbar\", () => {\n      this.setState({\n        showSnackbar: false\n      });\n    });\n\n    _defineProperty(this, \"doSearch\", searchText => {\n      this.setState({\n        searchText\n      });\n      settingsActions.searchSettings(searchText);\n    });\n\n    this.state = {\n      category: categoryOrder[0],\n      currentSettings: categories[categoryOrder[0]].settings,\n      snackbarMessage: '',\n      showSnackbar: false,\n      formValidator: undefined\n    };\n    this.sidebarRef = /*#__PURE__*/React.createRef();\n  }\n\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      muiTheme: appTheme\n    };\n  }\n\n  componentDidMount() {\n    settingsActions.load();\n    this.subscriptions = [];\n    this.subscriptions.push(configOptionStore.subscribe(() => {\n      // Must force update here in order to redraw form fields that require config options\n      // TODO: Replace this with async select fields\n      this.forceUpdate();\n    }));\n    this.subscriptions.push(settingsActions.setCategory.subscribe(arg => {\n      const category = arg.data.key || arg.data || categoryOrder[0];\n      const searchResult = arg.data.settings || [];\n      const currentSettings = category === 'search' ? searchResult : categories[category].settings;\n\n      if (category !== 'search') {\n        this.sidebarRef.current.clearSearchBox();\n      }\n\n      const pathname = `/${category}`;\n      const search = category === 'search' ? `?${encodeURIComponent(arg.data.searchTerms.join(' '))}` : '';\n\n      if (pathname !== this.history.location.pathname || search !== this.history.location.search) {\n        this.history.push({\n          pathname,\n          search\n        });\n      }\n\n      this.setState({\n        category,\n        currentSettings,\n        searchText: category === 'search' ? this.state.searchText : ''\n      });\n    }));\n    this.subscriptions.push(settingsActions.showSnackbarMessage.subscribe(params => {\n      const message = params.data;\n      this.setState({\n        snackbarMessage: message,\n        showSnackbar: !!message\n      });\n    })); // Helper function for setting app state based on location\n\n    const navigate = location => {\n      const section = location.pathname.substr(1);\n\n      if (location.pathname === '/search') {\n        const search = decodeURIComponent(location.search.substr(1));\n        this.doSearch(search);\n      } else if (Object.keys(categories).includes(section)) {\n        settingsActions.setCategory(section);\n      } else {\n        this.history.replace(`/${categoryOrder[0]}`);\n        settingsActions.setCategory(categoryOrder[0]);\n      }\n    }; // Listen for location changes and update app state as necessary\n\n\n    this.history = createHistory();\n    this.unlisten = this.history.listen((location, action) => {\n      if (action === 'POP') {\n        navigate(location);\n      }\n    }); // Set initial app state based on current location\n\n    navigate(this.history.location);\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n\n    if (typeof this.unlisten === 'function') {\n      this.unlisten();\n    }\n  }\n\n  render() {\n    const sections = Object.keys(categories).map(category => {\n      const key = category;\n      const label = this.props.d2.i18n.getTranslation(categories[category].label);\n      const icon = categories[category].icon;\n      return {\n        key,\n        label,\n        icon\n      };\n    });\n    return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      muiTheme: appTheme\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Snackbar, {\n      message: this.state.snackbarMessage || '',\n      autoHideDuration: 1250,\n      open: this.state.showSnackbar,\n      onRequestClose: this.closeSnackbar\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentWrap\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sections,\n      onChangeSection: settingsActions.setCategory,\n      currentSection: this.state.category,\n      showSearchField: true,\n      searchFieldLabel: i18n.t('Search settings'),\n      ref: this.sidebarRef,\n      onChangeSearchText: this.doSearch,\n      searchText: this.state.searchText\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\",\n      className: styles.contentArea\n    }, /*#__PURE__*/React.createElement(SettingsFields, {\n      category: this.state.category,\n      currentSettings: this.state.currentSettings\n    })))));\n  }\n\n}\n\nAppComponent.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nAppComponent.contextTypes = {\n  muiTheme: PropTypes.object\n};\nAppComponent.childContextTypes = {\n  d2: PropTypes.object,\n  muiTheme: PropTypes.object\n};\nexport default AppComponent;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport enTranslations from './en/translations.json';\nconst namespace = 'default';\ni18n.addResources('en', namespace, enTranslations);\nexport default i18n;","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport App from './app.component';\nimport 'material-design-icons-iconfont';\nimport configOptionStore from './configOptionStore';\nimport i18n from './locales';\nconst query = {\n  indicatorGroups: {\n    resource: 'indicatorGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  dataElementGroups: {\n    resource: 'dataElementGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  userGroups: {\n    resource: 'userGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnitLevels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      paging: false,\n      fields: 'id,level,displayName',\n      order: 'level:asc'\n    }\n  },\n  userRoles: {\n    resource: 'userRoles',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      filter: ['level:in:[1,2]']\n    }\n  },\n  apps: {\n    resource: 'action::menu/getModules'\n  },\n  flags: {\n    resource: 'system/flags'\n  },\n  styles: {\n    resource: 'system/styles'\n  },\n  uiLocales: {\n    resource: 'locales/ui'\n  },\n  dbLocales: {\n    resource: 'locales/db'\n  },\n  userSettings: {\n    resource: 'userSettings'\n  }\n};\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Failed to load: {{error}}', {\n      error: error.message,\n      nsSeparator: null\n    })));\n  }\n\n  if (!d2 || loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const {\n    indicatorGroups,\n    dataElementGroups,\n    userGroups,\n    organisationUnitLevels,\n    userRoles,\n    organisationUnits,\n    userSettings\n  } = data;\n  const startModules = (data.apps.modules || []).map(module => ({\n    id: module.defaultAction.substr(0, 3) === '../' ? module.name : `app:${module.name}`,\n    displayName: module.displayName || module.name\n  }));\n  const flags = (data.flags || []).map(flag => ({\n    id: flag.key,\n    displayName: flag.name\n  }));\n  flags.unshift({\n    id: 'dhis2',\n    displayName: d2.i18n.getTranslation('no_flag')\n  });\n  const styles = (data.styles || []).map(style => ({\n    id: style.path,\n    displayName: style.name\n  }));\n  const uiLocales = (data.uiLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  const dbLocales = (data.dbLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  configOptionStore.setState({\n    indicatorGroups: indicatorGroups.indicatorGroups,\n    dataElementGroups: dataElementGroups.dataElementGroups,\n    userGroups: userGroups.userGroups,\n    organisationUnitLevels: organisationUnitLevels.organisationUnitLevels,\n    userRoles: userRoles.userRoles,\n    organisationUnits: organisationUnits.organisationUnits,\n    startModules,\n    flags,\n    styles,\n    uiLocales,\n    dbLocales,\n    userSettingsNoFallback: userSettings\n  });\n  return /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  });\n};\n\nexport default AppWrapper;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrap\":\"App_contentWrap__LkWn-\",\"contentArea\":\"App_contentArea__4AZNb\"};"],"sourceRoot":""}