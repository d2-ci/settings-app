{"version":3,"sources":["D2App/App.module.css","D2App/form-fields/FileUpload.module.css","D2App/oauth2-client-editor/ClientForm.module.css","D2App/oauth2-client-editor/ClientsList.module.css","D2App/oauth2-client-editor/OAuth2ClientEditor.module.css","D2App/SettingsFields.module.css","D2App/locales/index.js","D2App/configOptionStore.js","D2App/settingsCategories.js","D2App/settingsKeyMapping.js","D2App/settingsStore.js","D2App/settingsActions.js","D2App/form-fields/check-box.js","D2App/form-fields/drop-down.js","D2App/theme.js","D2App/form-fields/file-upload.js","D2App/form-fields/text-field.js","D2App/localized-text/LocalizedAppearanceEditor.component.js","D2App/metadata-settings/metadataSettings.component.js","D2App/form-fields/multi-toggle.js","D2App/oauth2-client-editor/ClientForm.js","D2App/oauth2-client-editor/ClientsList.js","D2App/oauth2-client-editor/oauth2Client.store.js","D2App/oauth2-client-editor/oauth2Client.actions.js","D2App/oauth2-client-editor/OAuth2ClientEditor.component.js","D2App/settingsFields.component.js","D2App/app.component.js","D2App/App.js"],"names":["module","exports","namespace","i18n","addResources","arTranslations","ar_EGTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","hi_INTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","Store","create","categoryOrder","categories","general","label","t","icon","pageLabel","settings","analytics","server","appearance","email","access","calendar","import","sync","oauth2","authority","canBeOverridenLabel","parsedLocale","localeString","language","country","split","parseLocale","formatNumber","value","Intl","NumberFormat","format","settingsKeyMapping","keyAnalyticsMaxLimit","type","options","keySqlViewMaxLimit","infrastructuralIndicators","configuration","source","infrastructuralDataElements","infrastructuralPeriodType","Daily","Weekly","Monthly","BiMonthly","Quarterly","SixMonthly","SixMonthlyApril","Yearly","FinancialApril","FinancialJuly","FinancialOct","feedbackRecipients","includeEmpty","emptyLabel","systemUpdateNotificationRecipients","offlineOrganisationUnitLevel","factorDeviation","validators","phoneNumberAreaCode","multiOrganisationUnitForms","keyAcceptanceRequiredForApproval","keyGatherAnalyticalObjectStatisticsInDashboardViews","keyCountPassiveDashboardViewsInUsageAnalytics","keyAnalysisRelativePeriod","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","THIS_MONTH","LAST_MONTH","MONTHS_THIS_YEAR","MONTHS_LAST_YEAR","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BIMONTHS","THIS_QUARTER","LAST_QUARTER","QUARTERS_THIS_YEAR","QUARTERS_LAST_YEAR","LAST_4_QUARTERS","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIXMONTHS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","LAST_10_YEARS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","keyHideDailyPeriods","sectionLabel","keyHideWeeklyPeriods","keyHideBiWeeklyPeriods","keyHideMonthlyPeriods","keyHideBiMonthlyPeriods","analyticsFinancialYearStart","FINANCIAL_YEAR_APRIL","FINANCIAL_YEAR_JULY","FINANCIAL_YEAR_OCTOBER","keyCacheStrategy","NO_CACHE","CACHE_15_MINUTES","CACHE_30_MINUTES","CACHE_1_HOUR","CACHE_6AM_TOMORROW","CACHE_TWO_WEEKS","keyCacheability","PUBLIC","PRIVATE","keyAnalyticsCacheTtlMode","PROGRESSIVE","FIXED","keyIgnoreAnalyticsApprovalYearThreshold","keyRespectMetaDataStartEndDatesInAnalyticsTableExport","keyAnalyticsMaintenanceMode","keyIncludeZeroValuesInAnalytics","keyAnalyticsCacheProgressiveTtlFactor","hideWhen","settingsKey","settingsValue","facilityOrgUnitGroupSet","facilityOrgUnitLevel","keyDefaultBaseMap","osmLight","openStreetMap","bingLight","bingDark","bingAerial","bingHybrid","keyDatabaseServerCpus","keySystemNotificationsEmail","googleAnalyticsUA","keyGoogleMapsApiKey","keyBingMapsApiKey","localizedText","searchLabels","applicationTitle","appendLocale","multiLine","keyApplicationIntro","keyApplicationNotification","keyApplicationFooter","keyApplicationRightFooter","keyStyle","userSettingsOverride","startModule","startModuleEnableLightweight","helpPageLink","keyFlag","keyUiLocale","keyDbLocale","keyAnalysisDisplayProperty","name","shortName","keyAnalysisDigitGroupSeparator","SPACE","COMMA","NONE","keyRequireAddToView","keyUseCustomLogoFront","keyUseCustomLogoBanner","keyDashboardContextMenuItemSwitchViewType","keyDashboardContextMenuItemOpenInRelevantApp","keyDashboardContextMenuItemShowInterpretationsAndDetails","keyDashboardContextMenuItemViewFullscreen","keyEmailHostName","keyEmailPort","keyEmailUsername","keyEmailPassword","keyEmailTls","keyEmailSender","emailTestButton","uri","selfRegistrationRole","selfRegistrationOrgUnit","keySelfRegistrationNoRecaptcha","keyAccountRecovery","keyLockMultipleFailedLogins","keyCanGrantOwnUserAuthorityGroups","keyAllowObjectAssignment","credentialsExpires","credentialsExpiryAlert","credentialsExpiresReminderInDays","inputType","minValue","maxValue","minPasswordLength","corsWhitelist","hintText","recaptchaSite","recaptchaSecret","keyCalendar","coptic","ethiopian","gregorian","islamic","iso8601","julian","nepali","thai","persian","showWarning","warning","title","body","cancel","proceed","keyDateFormat","keyDataImportStrictPeriods","keyDataImportStrictDataElements","keyDataImportStrictCategoryOptionCombos","keyDataImportStrictOrganisationUnits","keyDataImportStrictAttributeOptionCombos","keyDataImportRequireCategoryOptionCombo","keyDataImportRequireAttributeOptionCombo","keyRemoteInstanceUrl","keyRemoteInstanceUsername","keyRemoteInstancePassword","keyMetadataDataVersioning","oauth2clients","settingsActions","Action","createActionsFromNames","saveKey","subscribe","args","key","locale","data","mapping","getD2","then","d2","isLocalisedAppearanceSetting","url","Api","getApi","post","showSnackbarMessage","catch","err","console","error","saveLocalizedAppearanceSetting","system","set","saveConfiguration","saveSetting","settingsStore","state","setState","settingsSearchMap","Observable","fromPromise","Promise","resolve","load","all","results","cfg","Object","keys","filter","map","reduce","prev","curr","undefined","hasOwnProperty","call","id","v","trim","length","sort","join","forEach","isNaN","toString","assign","searchMapping","categoryKey","currentUser","authorities","has","searchArray","categoryKeys","concat","translatedKeyValueMap","searchTerms","searchSettings","distinctUntilChanged","debounceTime","action","do","searchValue","setCategory","getSearchResultsFor","flatMap","val","from","keyValue","every","term","toLowerCase","includes","distinct","acc","push","concatAll","searchResultSettings","_extends","target","i","arguments","prototype","apply","this","sectionLabelStyle","color","fontSize","margin","Checkbox","React","Component","render","errorText","errorStyle","onChange","other","props","createElement","style","marginTop","marginBottom","CheckboxMaterial","onCheck","checked","defaultProps","_defineProperty","obj","defineProperty","enumerable","configurable","writable","DropDown","constructor","super","warningModalOpen","pendingValue","handleChange","bind","closeWarningModal","confirmProceedAfterWarning","event","index","renderMenuItems","menuItems","displayName","item","MenuItem","primaryText","onFocus","onBlur","disabled","noOptionsLabel","isRequired","hasOptions","Fragment","Modal","onClose","ModalTitle","ModalContent","ModalActions","ButtonStrip","end","Button","onClick","destructive","SelectField","PropTypes","string","defaultValue","oneOfType","number","bool","array","object","func","theme","spacing","Spacing","fontFamily","palette","primary1Color","colors","blue500","primary2Color","blue700","primary3Color","blue200","accent1Color","accent2Color","grey200","textColor","grey900","disabledColor","grey700","borderColor","grey400","getMuiTheme","Upload","isEnabled","showDialog","onUpload","onPreview","dialogImgStyle","maxWidth","maxHeight","backgroundColor","baseUrl","apiVersion","useConfig","imgUrl","Date","secondary","small","className","styles","replaceImageBtn","CenteredContent","src","alt","primary","FileUpload","uploading","progress","e","fileInput","click","xhr","abort","async","files","api","XMLHttpRequest","upload","onprogress","lengthComputable","loaded","total","FormData","append","alert","show","message","httpStatus","nsSeparator","critical","position","left","right","zIndex","LinearLoader","amount","CircularLoader","display","whiteSpace","paddingRight","paddingTop","paddingBottom","onToggle","labelStyle","AppTheme","rawTheme","top","renderUploading","onPreviewClick","visibility","ref","oneOf","withAlerts","useAlert","helpTextStyle","TextFieldComponent","UNSAFE_componentWillReceiveProps","changeEvent","helpText","lineHeight","TextField","node","container","padding","field","width","loaderWrap","textAlign","clickableHelpText","textDecoration","cursor","SYSTEM_DEFAULT","LOCALIZED_SETTING_KEYS","LocalizedTextEditor","code","getLocaleName","configOptionStore","getState","uiLocales","pop","context","fieldKey","switchToDefaultLocale","localeName","saveSettingsKey","componentDidMount","getAppearanceSettings","settingsStoreSubscription","componentWillUnmount","unsubscribe","fetchLocalizedAppearanceSettings","values","get","json","renderLocalizedAppearanceFields","CircularProgress","fields","component","floatingLabelText","createFieldHelpTextProps","FormBuilder","onUpdateField","systemDefaultOption","optionStoreState","Card","contextTypes","MetadataSettings","isTaskRunning","selectedTransactionType","result","lastFailedTime","keyMetadataLastFailedTime","isVersioningEnabled","keyVersionEnabled","hqInstanceUrl","remoteVersionName","keyRemoteMetadataVersion","lastFailedVersion","keyMetadataFailedVersion","isSchedulerEnabled","keySchedTasks","isLocalInstance","masterVersionName","isLastSyncValid","metadataVersions","versions","metadataversions","a","b","created","version","importdate","toLocaleString","hasVersions","stopMetadataSyncKey","createVersionKey","onSelectTransactionType","onToggleVersioning","onToggleStopSync","subscriptions","syncVersions","syncSettings","sub","renderVersionList","inlineRight","float","visible","hidden","inlineProgressIcon","fieldGetter","x","rowIndex","Cell","RadioButtonGroup","defaultSelected","RadioButton","size","createVersion","fontWeight","fontStyle","Table","rowHeight","rowsCount","headerHeight","Column","header","cell","str","localeAppendage","checkboxFields","MultiToggle","items","oldState","indexOf","splice","muiTheme","forms","togglor","defaultChecked","text","labelPosition","arrayOf","shape","formFieldStyle","validateClientID","models","oAuth2Clients","list","paging","ClientForm","clientModel","onUpdate","onSave","onCancel","grantTypes","validator","cid","asyncValidators","secret","password","refresh_token","authorization_code","redirectUris","isUrlArray","headerText","cancelBtn","ClientsList","clients","onClientEdit","onClientDelete","TableHead","TableRowHead","TableCellHead","TableBody","client","TableRow","TableCell","editBtn","oa2Actions","oAuth2Client","order","oa2ClientCollection","yes","no","oa2Store","toArray","oa2c","delete","OAuth2ClientEditor","showForm","saving","alphabet","uid","charAt","Math","random","generateSecret","model","save","importReport","status","Error","forceUpdate","oa2ClientStore","wrapper","editAction","deleteAction","addClientBtn","newAction","formUpdateAction","saveAction","cancelAction","noHits","menuIcon","menuLabel","marginLeft","translateValidatorMessage","validatorMessage","addConditionallyHiddenStyles","getMenuItems","sourceMenuItems","entries","SettingsFields","shouldComponentUpdate","nextProps","currentSettings","Array","isArray","fieldForMapping","fieldBase","autoComplete","Oauth2ClientEditor","children","LocalizedAppearance","metadataSettings","warn","renderFields","classes","card","category","wordToValidatorMap","min","max","f","userSettingsNoFallback","userSettingValue","valueLabel","labelText","settingName","marginRight","Tooltip","content","IconInfo24","wrapUserSettingsOverride","opt","AppComponent","showSnackbar","searchText","snackbarMessage","formValidator","sidebarRef","createRef","getChildContext","appTheme","arg","searchResult","current","clearSearchBox","pathname","search","encodeURIComponent","history","location","params","navigate","section","substr","decodeURIComponent","doSearch","replace","createHistory","unlisten","listen","sections","MuiThemeProvider","Snackbar","autoHideDuration","open","onRequestClose","closeSnackbar","contentWrap","Sidebar","onChangeSection","currentSection","showSearchField","searchFieldLabel","onChangeSearchText","contentArea","childContextTypes","query","indicatorGroups","resource","dataElementGroups","userGroups","organisationUnitLevels","organisationUnitGroupSets","basemaps","userRoles","organisationUnits","apps","flags","dbLocales","useFallback","AppWrapper","useD2","loading","useDataQuery","startModules","modules","defaultAction","flag","unshift","path","externalMapLayers","CssVariables","spacers","App"],"mappings":"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","file":"static/js/app.8e2b77b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrap\":\"App_contentWrap__LkWn-\",\"contentArea\":\"App_contentArea__4AZNb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"replaceImageBtn\":\"FileUpload_replaceImageBtn__17HhQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cancelBtn\":\"ClientForm_cancelBtn__1iLWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editBtn\":\"ClientsList_editBtn__3Ak-n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"OAuth2ClientEditor_wrapper__331Ju\",\"addClientBtn\":\"OAuth2ClientEditor_addClientBtn__2romx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"SettingsFields_card__2_HSg\"};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_EGTranslations from './ar_EG/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport hi_INTranslations from './hi_IN/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_EG', namespace, ar_EGTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('hi_IN', namespace, hi_INTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import i18n from '@dhis2/d2-i18n';\nexport const categoryOrder = ['general', 'analytics', 'server', 'appearance', 'email', 'access', 'calendar', 'import', 'sync', 'oauth2'];\nexport const categories = {\n  general: {\n    label: i18n.t('General'),\n    icon: 'settings',\n    pageLabel: i18n.t('General settings'),\n    settings: ['keyAnalyticsMaxLimit', 'keySqlViewMaxLimit', 'infrastructuralIndicators', 'infrastructuralDataElements', 'infrastructuralPeriodType', 'feedbackRecipients', 'systemUpdateNotificationRecipients', 'offlineOrganisationUnitLevel', 'factorDeviation', 'phoneNumberAreaCode', 'multiOrganisationUnitForms', 'keyAcceptanceRequiredForApproval', 'keyGatherAnalyticalObjectStatisticsInDashboardViews', 'keyCountPassiveDashboardViewsInUsageAnalytics']\n  },\n  analytics: {\n    label: i18n.t('Analytics'),\n    icon: 'equalizer',\n    pageLabel: i18n.t('Analytics settings'),\n    settings: ['keyAnalysisRelativePeriod', 'keyAnalysisDisplayProperty', 'keyAnalysisDigitGroupSeparator', 'keyHideDailyPeriods', 'keyHideWeeklyPeriods', 'keyHideBiWeeklyPeriods', 'keyHideMonthlyPeriods', 'keyHideBiMonthlyPeriods', 'analyticsFinancialYearStart', 'keyCacheStrategy', 'keyCacheability', 'keyAnalyticsCacheTtlMode', 'keyAnalyticsCacheProgressiveTtlFactor', 'keyIgnoreAnalyticsApprovalYearThreshold', 'keyRespectMetaDataStartEndDatesInAnalyticsTableExport', 'keyAnalyticsMaintenanceMode', 'keyIncludeZeroValuesInAnalytics', 'keyDashboardContextMenuItemSwitchViewType', 'keyDashboardContextMenuItemOpenInRelevantApp', 'keyDashboardContextMenuItemShowInterpretationsAndDetails', 'keyDashboardContextMenuItemViewFullscreen', 'facilityOrgUnitGroupSet', 'facilityOrgUnitLevel', 'keyDefaultBaseMap']\n  },\n  server: {\n    label: i18n.t('Server'),\n    icon: 'business',\n    pageLabel: i18n.t('Server settings'),\n    settings: ['keyDatabaseServerCpus', 'keySystemNotificationsEmail', 'googleAnalyticsUA', 'keyGoogleMapsApiKey', 'keyBingMapsApiKey']\n  },\n  appearance: {\n    label: i18n.t('Appearance'),\n    icon: 'looks',\n    pageLabel: i18n.t('Appearance settings'),\n    settings: ['localizedText', 'keyStyle', 'startModule', 'startModuleEnableLightweight', 'helpPageLink', 'keyFlag', 'keyUiLocale', 'keyDbLocale', 'keyRequireAddToView', 'keyUseCustomLogoFront', 'keyUseCustomLogoBanner']\n  },\n  email: {\n    label: i18n.t('Email'),\n    icon: 'email',\n    pageLabel: i18n.t('Email settings'),\n    settings: ['keyEmailHostName', 'keyEmailPort', 'keyEmailUsername', 'keyEmailPassword', 'keyEmailTls', 'keyEmailSender', 'emailTestButton']\n  },\n  access: {\n    label: i18n.t('Access'),\n    icon: 'lock_open',\n    pageLabel: i18n.t('Access settings'),\n    settings: ['selfRegistrationRole', 'selfRegistrationOrgUnit', 'keySelfRegistrationNoRecaptcha', 'keyAccountRecovery', 'keyLockMultipleFailedLogins', 'keyCanGrantOwnUserAuthorityGroups', 'keyAllowObjectAssignment', 'credentialsExpires', 'credentialsExpiryAlert', 'credentialsExpiresReminderInDays', 'minPasswordLength', 'corsWhitelist', 'recaptchaSite', 'recaptchaSecret']\n  },\n  calendar: {\n    label: i18n.t('Calendar'),\n    icon: 'date_range',\n    pageLabel: i18n.t('Calendar settings'),\n    settings: ['keyCalendar', 'keyDateFormat']\n  },\n  import: {\n    label: i18n.t('Data Import'),\n    icon: 'system_update_alt',\n    pageLabel: i18n.t('Data import settings'),\n    settings: ['keyDataImportStrictPeriods', 'keyDataImportStrictDataElements', 'keyDataImportStrictCategoryOptionCombos', 'keyDataImportStrictOrganisationUnits', 'keyDataImportStrictAttributeOptionCombos', 'keyDataImportRequireCategoryOptionCombo', 'keyDataImportRequireAttributeOptionCombo']\n  },\n  sync: {\n    label: i18n.t('Synchronization'),\n    icon: 'sync',\n    pageLabel: i18n.t('Synchronization settings'),\n    settings: ['keyRemoteInstanceUrl', 'keyRemoteInstanceUsername', 'keyRemoteInstancePassword', 'keyMetadataDataVersioning']\n  },\n  oauth2: {\n    label: i18n.t('OAuth2 Clients'),\n    icon: 'vpn_lock',\n    pageLabel: i18n.t('OAuth2 Clients'),\n    authority: 'F_OAUTH2_CLIENT_MANAGE',\n    settings: ['oauth2clients']\n  }\n};","import i18n from '@dhis2/d2-i18n';\nconst canBeOverridenLabel = i18n.t('This setting can be overridden by user settings');\n\nconst parseLocale = localeString => {\n  const [language, country] = (localeString !== null && localeString !== void 0 ? localeString : 'en').split(/[-_]/);\n  return `${language}${country ? `-${country}` : ''}`;\n};\n\nconst parsedLocale = parseLocale(i18n.language);\n\nconst formatNumber = value => new Intl.NumberFormat(parsedLocale).format(value);\n/**\n * This file provides information about DHIS2 system settings and configuration options that are not otherwise\n * available through the API.\n *\n * Each system settings key is mapped to an i18n label. In addition, certain special system\n * settings that are not actually saved as system settings but rather as system configuration options are described\n * here as well. This concerns any key that has a \"configuration\" property which is set to `true`.\n *\n * Settings that have an `appendLocale: true` property, are localizable settings. When these settings are saved, the\n * code of the specified locale, such as \"fr\" or \"ar_IQ\" is appended to the key name.\n */\n\n\nconst settingsKeyMapping = {\n  /* ============================================================================================================ */\n\n  /* Category: General                                                                                            */\n\n  /* ============================================================================================================ */\n  keyAnalyticsMaxLimit: {\n    // Analytics\n    label: i18n.t('Maximum number of analytics records'),\n    type: 'dropdown',\n    options: {\n      50000: formatNumber(50000),\n      100000: formatNumber(100000),\n      200000: formatNumber(200000),\n      500000: formatNumber(500000),\n      1000000: formatNumber(1000000),\n      0: i18n.t('Unlimited')\n    }\n  },\n  keySqlViewMaxLimit: {\n    label: i18n.t('Maximum number of SQL view records'),\n    type: 'dropdown',\n    options: {\n      '-1': i18n.t('Unlimited'),\n      50000: formatNumber(50000),\n      100000: formatNumber(100000),\n      200000: formatNumber(200000),\n      500000: formatNumber(500000),\n      1000000: formatNumber(1000000)\n    }\n  },\n  infrastructuralIndicators: {\n    label: i18n.t('Infrastructural indicators'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'indicatorGroups'\n  },\n  infrastructuralDataElements: {\n    label: i18n.t('Infrastructural data elements'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'dataElementGroups'\n  },\n  infrastructuralPeriodType: {\n    label: i18n.t('Infrastructural period type'),\n    configuration: true,\n    type: 'dropdown',\n    options: {\n      Daily: i18n.t('Daily'),\n      Weekly: i18n.t('Weekly'),\n      Monthly: i18n.t('Monthly'),\n      BiMonthly: i18n.t('Bi-monthly'),\n      Quarterly: i18n.t('Quarterly'),\n      SixMonthly: i18n.t('Six-monthly'),\n      SixMonthlyApril: i18n.t('Six-monthly April'),\n      Yearly: i18n.t('Yearly'),\n      FinancialApril: i18n.t('Financial-April'),\n      FinancialJuly: i18n.t('Financial-July'),\n      FinancialOct: i18n.t('Financial-Oct')\n    }\n  },\n  feedbackRecipients: {\n    label: i18n.t('Feedback recipients'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'userGroups',\n    includeEmpty: true,\n    emptyLabel: i18n.t('No message recipients')\n  },\n  systemUpdateNotificationRecipients: {\n    label: i18n.t('System update notification recipients'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'userGroups',\n    includeEmpty: true,\n    emptyLabel: i18n.t('No update notification recipients')\n  },\n  offlineOrganisationUnitLevel: {\n    label: i18n.t('Max offline organisation unit levels'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnitLevels'\n  },\n  factorDeviation: {\n    label: i18n.t('Data analysis std dev factor'),\n    validators: ['positive_number']\n  },\n  phoneNumberAreaCode: {\n    label: i18n.t('Phone number area code'),\n    validators: ['number']\n  },\n  multiOrganisationUnitForms: {\n    label: i18n.t('Enable multi-organisation unit forms'),\n    type: 'checkbox'\n  },\n  keyAcceptanceRequiredForApproval: {\n    label: i18n.t('Acceptance required before approval'),\n    type: 'checkbox'\n  },\n  keyGatherAnalyticalObjectStatisticsInDashboardViews: {\n    label: i18n.t('Gather analytical object statistics in dashboard views'),\n    type: 'checkbox'\n  },\n  keyCountPassiveDashboardViewsInUsageAnalytics: {\n    label: i18n.t('Include passive dashboard views in usage analytics statistics'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Analytics                                                                                          */\n\n  /* ============================================================================================================ */\n  keyAnalysisRelativePeriod: {\n    label: i18n.t('Default relative period for analysis'),\n    type: 'dropdown',\n    options: {\n      THIS_WEEK: i18n.t('This week'),\n      LAST_WEEK: i18n.t('Last week'),\n      LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n      LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n      LAST_52_WEEKS: i18n.t('Last 52 weeks'),\n      THIS_MONTH: i18n.t('This month'),\n      LAST_MONTH: i18n.t('Last month'),\n      MONTHS_THIS_YEAR: i18n.t('Months this year'),\n      MONTHS_LAST_YEAR: i18n.t('Months last year'),\n      LAST_3_MONTHS: i18n.t('Last 3 months'),\n      LAST_6_MONTHS: i18n.t('Last 6 months'),\n      LAST_12_MONTHS: i18n.t('Last 12 months'),\n      THIS_BIMONTH: i18n.t('This bi-month'),\n      LAST_BIMONTH: i18n.t('Last bi-month'),\n      LAST_6_BIMONTHS: i18n.t('Last 6 bi-months'),\n      THIS_QUARTER: i18n.t('This quarter'),\n      LAST_QUARTER: i18n.t('Last quarter'),\n      QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n      QUARTERS_LAST_YEAR: i18n.t('Quarters last year'),\n      LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n      THIS_SIX_MONTH: i18n.t('This six-month'),\n      LAST_SIX_MONTH: i18n.t('Last six-month'),\n      LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n      THIS_YEAR: i18n.t('This year'),\n      LAST_YEAR: i18n.t('Last year'),\n      LAST_5_YEARS: i18n.t('Last 5 years'),\n      LAST_10_YEARS: i18n.t('Last 10 years'),\n      THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n      LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n      LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years')\n    }\n  },\n  keyHideDailyPeriods: {\n    label: i18n.t('Hide daily periods'),\n    sectionLabel: i18n.t('Hidden period types in analytics apps'),\n    type: 'checkbox'\n  },\n  keyHideWeeklyPeriods: {\n    label: i18n.t('Hide weekly periods'),\n    type: 'checkbox'\n  },\n  keyHideBiWeeklyPeriods: {\n    label: i18n.t('Hide biweekly periods'),\n    type: 'checkbox'\n  },\n  keyHideMonthlyPeriods: {\n    label: i18n.t('Hide monthly periods'),\n    type: 'checkbox'\n  },\n  keyHideBiMonthlyPeriods: {\n    label: i18n.t('Hide bimonthly periods'),\n    type: 'checkbox'\n  },\n  analyticsFinancialYearStart: {\n    label: i18n.t('Financial year relative period start month'),\n    type: 'dropdown',\n    options: {\n      FINANCIAL_YEAR_APRIL: i18n.t('April'),\n      FINANCIAL_YEAR_JULY: i18n.t('July'),\n      FINANCIAL_YEAR_OCTOBER: i18n.t('October')\n    }\n  },\n  keyCacheStrategy: {\n    label: i18n.t('Cache strategy'),\n    type: 'dropdown',\n    options: {\n      NO_CACHE: i18n.t('No cache'),\n      CACHE_15_MINUTES: i18n.t('Cache for 15 minutes'),\n      CACHE_30_MINUTES: i18n.t('Cache for 30 minutes'),\n      CACHE_1_HOUR: i18n.t('Cache for one hour'),\n      CACHE_6AM_TOMORROW: i18n.t('Cache until 6AM tomorrow'),\n      CACHE_TWO_WEEKS: i18n.t('Cache for two weeks')\n    }\n  },\n  keyCacheability: {\n    label: i18n.t('Cacheability'),\n    type: 'dropdown',\n    options: {\n      PUBLIC: i18n.t('Public'),\n      PRIVATE: i18n.t('Private')\n    }\n  },\n  keyAnalyticsCacheTtlMode: {\n    label: i18n.t('Analytics cache mode'),\n    type: 'dropdown',\n    options: {\n      PROGRESSIVE: i18n.t('Progressive'),\n      FIXED: i18n.t('Fixed')\n    }\n  },\n  keyIgnoreAnalyticsApprovalYearThreshold: {\n    label: i18n.t('Max number of years to hide unapproved data in analytics'),\n    type: 'dropdown',\n    options: {\n      '-1': i18n.t('Never check approval'),\n      0: i18n.t('Check approval for all data'),\n      1: i18n.t('Current year only'),\n      2: i18n.t('Last 2 years'),\n      3: i18n.t('Last 3 years'),\n      4: i18n.t('Last 4 years'),\n      5: i18n.t('Last 5 years'),\n      6: i18n.t('Last 6 years'),\n      7: i18n.t('Last 7 years'),\n      8: i18n.t('Last 8 years'),\n      9: i18n.t('Last 9 years'),\n      10: i18n.t('Last 10 years')\n    }\n  },\n  keyRespectMetaDataStartEndDatesInAnalyticsTableExport: {\n    label: i18n.t('Respect category option start and end date in analytics table export'),\n    type: 'checkbox'\n  },\n  keyAnalyticsMaintenanceMode: {\n    label: i18n.t('Put analytics in maintenance mode'),\n    type: 'checkbox'\n  },\n  keyIncludeZeroValuesInAnalytics: {\n    label: i18n.t('Include zero data values in analytics tables'),\n    type: 'checkbox'\n  },\n  keyAnalyticsCacheProgressiveTtlFactor: {\n    label: i18n.t('Caching factor'),\n    type: 'dropdown',\n    options: {\n      1: '1',\n      2: '2',\n      4: '4',\n      8: '8',\n      16: '16',\n      32: '32',\n      64: '64',\n      128: '128',\n      192: '192',\n      256: '256',\n      320: '320',\n      512: '512',\n      1024: '1024'\n    },\n    hideWhen: {\n      settingsKey: 'keyAnalyticsCacheTtlMode',\n      settingsValue: 'FIXED'\n    }\n  },\n  facilityOrgUnitGroupSet: {\n    label: i18n.t('Org unit group set in facility map layers'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnitGroupSets'\n  },\n  facilityOrgUnitLevel: {\n    label: i18n.t('Org unit level in facility map layers'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnitLevels'\n  },\n  keyDefaultBaseMap: {\n    label: i18n.t('Default basemap'),\n    type: 'dropdown',\n    source: 'basemaps',\n    options: {\n      osmLight: i18n.t('OSM Light (default)'),\n      openStreetMap: i18n.t('OSM Detailed'),\n      bingLight: i18n.t('Bing Road'),\n      bingDark: i18n.t('Bing Dark'),\n      bingAerial: i18n.t('Bing Aerial'),\n      bingHybrid: i18n.t('Bing Aerial Labels')\n    }\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Server                                                                                             */\n\n  /* ============================================================================================================ */\n  keyDatabaseServerCpus: {\n    label: i18n.t('Number of database server CPUs'),\n    type: 'dropdown',\n    options: {\n      0: i18n.t('Automatic (detect based on web server)'),\n      1: '1',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5',\n      6: '6',\n      7: '7',\n      8: '8',\n      16: '16',\n      32: '32'\n    }\n  },\n  keySystemNotificationsEmail: {\n    label: i18n.t('System notifications email address'),\n    validators: ['email']\n  },\n  googleAnalyticsUA: {\n    label: i18n.t('Google Analytics (Universal Analytics) key')\n  },\n  keyGoogleMapsApiKey: {\n    label: i18n.t('Google Maps API key'),\n    type: 'password'\n  },\n  keyBingMapsApiKey: {\n    label: i18n.t('Bing Maps API key'),\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Appearance                                                                                         */\n\n  /* ============================================================================================================ */\n  localizedText: {\n    type: 'localizedAppearance',\n    searchLabels: [i18n.t('Application title'), i18n.t('Application introduction'), i18n.t('Application notification'), i18n.t('Application left-side footer'), i18n.t('Application right-side footer')]\n  },\n  applicationTitle: {\n    label: i18n.t('Application title'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationIntro: {\n    label: i18n.t('Application introduction'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationNotification: {\n    label: i18n.t('Application notification'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationFooter: {\n    label: i18n.t('Application left-side footer'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyApplicationRightFooter: {\n    label: i18n.t('Application right-side footer'),\n    appendLocale: true,\n    multiLine: true\n  },\n  keyStyle: {\n    label: i18n.t('Style'),\n    type: 'dropdown',\n    includeEmpty: false,\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'styles'\n  },\n  startModule: {\n    label: i18n.t('Start page'),\n    type: 'dropdown',\n    source: 'startModules'\n  },\n  startModuleEnableLightweight: {\n    label: i18n.t('Enable light-weight start page'),\n    type: 'checkbox'\n  },\n  helpPageLink: {\n    label: i18n.t('Help page link'),\n    validators: ['relative_url']\n  },\n  keyFlag: {\n    label: i18n.t('Flag'),\n    type: 'dropdown',\n    source: 'flags'\n  },\n  keyUiLocale: {\n    label: i18n.t('Interface language'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'uiLocales'\n  },\n  keyDbLocale: {\n    label: i18n.t('Database language'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    source: 'dbLocales'\n  },\n  keyAnalysisDisplayProperty: {\n    label: i18n.t('Property to display in analysis modules'),\n    type: 'dropdown',\n    userSettingsOverride: true,\n    searchLabels: [i18n.t('Style'), canBeOverridenLabel],\n    options: {\n      name: i18n.t('Name'),\n      shortName: i18n.t('Short name')\n    }\n  },\n  keyAnalysisDigitGroupSeparator: {\n    label: i18n.t('Default digit group separator to display in analysis modules'),\n    type: 'dropdown',\n    options: {\n      SPACE: i18n.t('Space'),\n      COMMA: i18n.t('Comma'),\n      NONE: i18n.t('None')\n    }\n  },\n  keyRequireAddToView: {\n    label: i18n.t('Require authority to add to view object lists'),\n    type: 'checkbox'\n  },\n  keyUseCustomLogoFront: {\n    label: i18n.t('Custom login page logo'),\n    type: 'staticContent',\n    name: 'logo_front'\n  },\n  keyUseCustomLogoBanner: {\n    label: i18n.t('Custom top menu logo'),\n    type: 'staticContent',\n    name: 'logo_banner'\n  },\n  keyDashboardContextMenuItemSwitchViewType: {\n    label: i18n.t('Allow users to switch dashboard items view type'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemOpenInRelevantApp: {\n    label: i18n.t('Allow users to open dashboard items in relevant app'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemShowInterpretationsAndDetails: {\n    label: i18n.t('Allow users to show dashboard items interpretations and details'),\n    type: 'checkbox'\n  },\n  keyDashboardContextMenuItemViewFullscreen: {\n    label: i18n.t('Allow users to view dashboard items in fullscreen'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Email                                                                                              */\n\n  /* ============================================================================================================ */\n  keyEmailHostName: {\n    label: i18n.t('Host name')\n  },\n  keyEmailPort: {\n    label: i18n.t('Port'),\n    type: 'dropdown',\n    options: {\n      587: '587',\n      465: '465',\n      25: '25'\n    }\n  },\n  keyEmailUsername: {\n    label: i18n.t('Username')\n  },\n  keyEmailPassword: {\n    label: i18n.t('Password'),\n    type: 'password'\n  },\n  keyEmailTls: {\n    label: i18n.t('TLS'),\n    type: 'checkbox'\n  },\n  keyEmailSender: {\n    label: i18n.t('Email sender'),\n    validators: ['email']\n  },\n  emailTestButton: {\n    label: i18n.t('Send me a test email'),\n    type: 'postButton',\n    uri: '/email/test'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Access                                                                                             */\n\n  /* ============================================================================================================ */\n  selfRegistrationRole: {\n    label: i18n.t('Self registration account user role'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'userRoles',\n    includeEmpty: true,\n    emptyLabel: i18n.t('Disable self registration')\n  },\n  selfRegistrationOrgUnit: {\n    label: i18n.t('Self registration account organisation unit'),\n    configuration: true,\n    type: 'dropdown',\n    source: 'organisationUnits',\n    includeEmpty: true,\n    emptyLabel: i18n.t('Disable self registration')\n  },\n  keySelfRegistrationNoRecaptcha: {\n    label: i18n.t('Do not require recaptcha for self registration'),\n    type: 'checkbox'\n  },\n  keyAccountRecovery: {\n    label: i18n.t('Enable user account recovery'),\n    type: 'checkbox'\n  },\n  keyLockMultipleFailedLogins: {\n    label: i18n.t('Lock user account temporarily after multiple failed login attempts'),\n    type: 'checkbox'\n  },\n  keyCanGrantOwnUserAuthorityGroups: {\n    label: i18n.t('Allow users to grant own user roles'),\n    type: 'checkbox'\n  },\n  keyAllowObjectAssignment: {\n    label: i18n.t('Allow assigning object to related objects during add or update'),\n    type: 'checkbox'\n  },\n  credentialsExpires: {\n    label: i18n.t('Require user account password change'),\n    type: 'dropdown',\n    options: {\n      0: i18n.t('Never'),\n      3: i18n.t('3 months'),\n      6: i18n.t('6 months'),\n      12: i18n.t('12 months')\n    }\n  },\n  credentialsExpiryAlert: {\n    label: i18n.t('Send reminders to users before their password expires'),\n    type: 'checkbox'\n  },\n  credentialsExpiresReminderInDays: {\n    label: i18n.t('Number of days before password expiry to send reminder (128)'),\n    type: 'textfield',\n    inputType: 'number',\n    minValue: 1,\n    maxValue: 28,\n    hideWhen: {\n      settingsKey: 'credentialsExpiryAlert',\n      settingsValue: 'false'\n    }\n  },\n  minPasswordLength: {\n    label: i18n.t('Minimum characters in password'),\n    type: 'dropdown',\n    options: {\n      8: '8',\n      10: '10',\n      12: '12',\n      14: '14'\n    }\n  },\n  corsWhitelist: {\n    label: i18n.t('CORS whitelist'),\n    configuration: true,\n    multiLine: true,\n    hintText: i18n.t('One URL per line'),\n    validators: ['url_array']\n  },\n  recaptchaSite: {\n    label: i18n.t('reCAPTCHA Site Key'),\n    type: 'password'\n  },\n  recaptchaSecret: {\n    label: i18n.t('reCAPTCHA Secret Key'),\n    type: 'password'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Calendar                                                                                           */\n\n  /* ============================================================================================================ */\n  keyCalendar: {\n    label: i18n.t('Calendar'),\n    type: 'dropdown',\n    options: {\n      coptic: i18n.t('Coptic'),\n      ethiopian: i18n.t('Ethiopian'),\n      gregorian: i18n.t('Gregorian'),\n      islamic: i18n.t('Islamic'),\n      iso8601: i18n.t('ISO 8601'),\n      julian: i18n.t('Julian'),\n      nepali: i18n.t('Nepali'),\n      thai: i18n.t('Thai'),\n      persian: i18n.t('Persian')\n    },\n    showWarning: true,\n    warning: {\n      title: i18n.t('Change calendar setting'),\n      body: i18n.t('Changing your calendar setting after you have entered data can make your system unusable. If you have entered data, it is strongly recommended that you do not change your calendar setting.'),\n      cancel: i18n.t('Cancel'),\n      proceed: i18n.t('Yes, change calendar')\n    }\n  },\n  keyDateFormat: {\n    label: i18n.t('Date format'),\n    type: 'dropdown',\n    options: {\n      'yyyy-MM-dd': '1981-03-31 (yyyy-MM-dd)',\n      'dd-MM-yyyy': '31-03-1981 (dd-MM-yyyy)'\n    }\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Data Import                                                                                        */\n\n  /* ============================================================================================================ */\n  keyDataImportStrictPeriods: {\n    label: i18n.t('Require periods to match period type of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictDataElements: {\n    label: i18n.t('Require data elements to be part of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictCategoryOptionCombos: {\n    label: i18n.t('Require category option combos to match category combo of data element'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictOrganisationUnits: {\n    label: i18n.t('Require organisation units to match assignment of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportStrictAttributeOptionCombos: {\n    label: i18n.t('Require attribute option combos to match category combo of data set'),\n    type: 'checkbox'\n  },\n  keyDataImportRequireCategoryOptionCombo: {\n    label: i18n.t('Require category option combo to be specified'),\n    type: 'checkbox'\n  },\n  keyDataImportRequireAttributeOptionCombo: {\n    label: i18n.t('Require attribute option combo to be specified'),\n    type: 'checkbox'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: Synchronization                                                                                    */\n\n  /* ============================================================================================================ */\n  keyRemoteInstanceUrl: {\n    label: i18n.t('Remote server URL'),\n    validators: ['url']\n  },\n  keyRemoteInstanceUsername: {\n    label: i18n.t('Remote server username')\n  },\n  keyRemoteInstancePassword: {\n    label: i18n.t('Remote server password'),\n    type: 'password'\n  },\n  keyMetadataDataVersioning: {\n    label: i18n.t('Metadata Versioning'),\n    type: 'metadataSettings'\n  },\n\n  /* ============================================================================================================ */\n\n  /* Category: oAuth2 clients                                                                                     */\n\n  /* ============================================================================================================ */\n  oauth2clients: {\n    type: 'oauth2clients',\n    searchLabels: ['oauth2_clients', 'password', 'refresh_token', 'authorization_code']\n  }\n  /* ============================================================================================================ */\n  // The following keys are present in the demo database but are not managed by dhis-web-maintenance-settings\n  //\n  // 'sendMessageScheduled'\n  // 'timeSendingMessage'\n  // 'keyCustomCss'\n  // 'aggregationStrategy'\n  // 'zeroValueSaveMode'\n  // 'reportFramework'\n  // 'systemSettings'\n  // 'keyLastSuccessfulSynch'\n  // 'dataEntryFormCompleted'\n  // 'keyTrackerDashboardDefaultLayout'\n  // 'keyLastSuccessfulAnalyticsTablesUpdate'\n  // 'SMS_CONFIG'\n  // 'orgUnitGroupSetAggregationLevel'\n  // 'keyScheduledPeriodTypes'\n  // 'keyLastSuccessfulResourceTablesUpdate'\n  // 'keySchedTasks'\n  // 'applicationIntro'\n  // 'systemTitle'\n  // 'keyAccountInvite'\n  // 'flag'\n  // 'scheduleAggregateQueryBuilderTackStrategy'\n  // 'appBaseUrl'\n  // 'mysetting'\n  // 'appFolderPath'\n  // 'keySystemIdentifier'\n  // 'keyScheduledTasks'\n  // 'keyLastSuccessfulDataSynch'\n  // 'appStoreUrl'\n  // 'App_TabularData_SettingData'\n  // 'keyLastMonitoringRun'\n  // 'scheduleAggregateQueryBuilder'\n  // 'keyDataSetCompletenessTask'\n  // 'keyDataMartTask'\n\n};\nexport default settingsKeyMapping;","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import i18n from '@dhis2/d2-i18n';\nimport { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport { Observable } from 'rxjs';\nimport { categories } from './settingsCategories.js';\nimport settingsKeyMapping from './settingsKeyMapping.js';\nimport settingsStore from './settingsStore.js';\n/* eslint-disable max-params */\n\nconst settingsActions = Action.createActionsFromNames(['load', 'setCategory', 'saveKey', 'searchSettings', 'showSnackbarMessage']);\n\nconst saveLocalizedAppearanceSetting = (d2, key, value, locale) => {\n  const api = d2.Api.getApi();\n  const localeSuffix = locale ? `&locale=${locale}` : '';\n  const url = `/systemSettings/${key}?value=${value}${localeSuffix}`;\n  return api.post(url).then(() => {\n    settingsActions.showSnackbarMessage(i18n.t('Settings updated'));\n  }).catch(err => {\n    console.error('Failed to save localized setting:', err);\n  });\n};\n\nconst saveConfiguration = (d2, key, value) => d2.system.configuration.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(i18n.t('Settings updated'));\n}).catch(err => {\n  console.error('Failed to save configuration:', err);\n});\n\nconst saveSetting = (d2, key, value) => d2.system.settings.set(key, value).then(() => {\n  settingsActions.showSnackbarMessage(i18n.t('Settings updated'));\n}).catch(err => {\n  console.error('Failed to save setting:', err);\n});\n\nsettingsActions.saveKey.subscribe(args => {\n  const [key, value, locale] = args.data; // Can be undefined for some custom sections, i.e. 'keyStopMetadataSync'\n\n  const mapping = settingsKeyMapping[key];\n  getD2().then(d2 => {\n    const isLocalisedAppearanceSetting = (mapping === null || mapping === void 0 ? void 0 : mapping.appendLocale) && locale;\n\n    if (isLocalisedAppearanceSetting) {\n      saveLocalizedAppearanceSetting(d2, key, value, locale);\n    } else if (mapping !== null && mapping !== void 0 && mapping.configuration) {\n      saveConfiguration(d2, key, value);\n    } else {\n      saveSetting(d2, key, value);\n    }\n\n    if (!isLocalisedAppearanceSetting) {\n      settingsStore.state[key] = value;\n      settingsStore.setState(settingsStore.state);\n    }\n  });\n});\nconst settingsSearchMap = Observable.fromPromise(new Promise(resolve => {\n  settingsActions.load.subscribe(args => {\n    getD2().then(d2 => {\n      // Get current settings and configuration\n      Promise.all([d2.system.settings.all(), d2.system.configuration.all(args.data === true)]).then(results => {\n        const cfg = Object.keys(results[1]).filter(key => key !== 'systemId').map(key => {\n          const value = results[1][key];\n          return {\n            key,\n            value\n          };\n        }).reduce((prev, curr) => {\n          let value = curr.value;\n\n          if (value === null || value === 'null' || value === undefined) {\n            value = 'null';\n          } else if (Object.hasOwnProperty.call(value, 'id')) {\n            value = value.id;\n          }\n\n          prev[curr.key] = value;\n          return prev;\n        }, {});\n        cfg.corsWhitelist = (results[1].corsWhitelist || []).filter(v => v.trim().length > 0).sort().join('\\n'); // Stupid fix for the fact that old controllers will save numbers as numbers,\n        // even though the API only allows string values, which creates a silly mismatch!\n\n        Object.keys(results[0]).forEach(key => {\n          const v = results[0][key];\n          results[0][key] = v !== null && !isNaN(v) ? v.toString() : v;\n        });\n        settingsStore.setState(Object.assign({}, results[0], cfg));\n      }, error => {\n        console.error('Failed to load system settings:', error);\n      }); // Build the search index\n\n      const searchMapping = Object.keys(categories).filter(categoryKey => !categories[categoryKey].authority || d2.currentUser.authorities.has(categories[categoryKey].authority)).map(categoryKey => categories[categoryKey].settings).reduce((searchArray, categoryKeys) => searchArray.concat(categoryKeys), []).reduce((translatedKeyValueMap, settingsKey) => {\n        if (!settingsKeyMapping[settingsKey]) {\n          return translatedKeyValueMap;\n        }\n\n        if (settingsKeyMapping[settingsKey].searchLabels) {\n          return translatedKeyValueMap.concat(settingsKeyMapping[settingsKey].searchLabels.filter(label => label).map(label => [label, settingsKey]));\n        }\n\n        return translatedKeyValueMap.concat([[settingsKeyMapping[settingsKey].label, settingsKey]]);\n      }, []);\n      resolve(searchMapping);\n    });\n  });\n}));\n\nfunction getSearchResultsFor(searchTerms) {\n  return settingsSearchMap.flatMap(val => Observable.from(val)).filter(keyValue => searchTerms.every(term => keyValue[0].toLowerCase().includes(term.toLowerCase()))).map(([, value]) => value).distinct().reduce((acc, value) => acc.concat(value), []).map(results => {\n    if (searchTerms.length === 1 && Object.hasOwnProperty.call(settingsKeyMapping, searchTerms[0])) {\n      results.push(searchTerms[0]);\n    }\n\n    return results;\n  });\n}\n\nlet searchTerms;\nsettingsActions.searchSettings.distinctUntilChanged().debounceTime(150).map(action => action.data.trim().split(/\\s+/).filter(t => t.length > 0)).do(searchValue => {\n  searchTerms = searchValue;\n\n  if (searchValue.length === 0) {\n    settingsActions.setCategory('general');\n  }\n}).filter(searchValue => searchValue.length).map(searchValue => getSearchResultsFor(searchValue)).concatAll().subscribe(searchResultSettings => {\n  settingsActions.setCategory({\n    key: 'search',\n    settings: searchResultSettings,\n    searchTerms\n  });\n});\nexport default settingsActions;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport CheckboxMaterial from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst sectionLabelStyle = {\n  color: 'rgba(0, 0, 0, 0.3)',\n  fontSize: '12px',\n  margin: '16px 0 6px 0'\n};\n\nclass Checkbox extends React.Component {\n  render() {\n    /* eslint-disable no-unused-vars */\n    const {\n      errorText,\n      errorStyle,\n      onChange,\n      sectionLabel,\n      value,\n      ...other\n    } = this.props;\n    /* eslint-enable no-unused-vars */\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 12,\n        marginBottom: 12\n      }\n    }, sectionLabel && /*#__PURE__*/React.createElement(\"p\", {\n      style: sectionLabelStyle\n    }, sectionLabel), /*#__PURE__*/React.createElement(CheckboxMaterial, _extends({\n      onCheck: onChange,\n      checked: value === 'true'\n    }, other)));\n  }\n\n}\n\nCheckbox.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  errorStyle: PropTypes.object,\n  errorText: PropTypes.string,\n  sectionLabel: PropTypes.string,\n  value: PropTypes.string\n};\nCheckbox.defaultProps = {\n  value: 'false'\n};\nexport default Checkbox;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Button, ButtonStrip, Modal, ModalContent, ModalActions, ModalTitle } from '@dhis2/ui';\nimport MenuItem from 'material-ui/MenuItem';\nimport SelectField from 'material-ui/SelectField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass DropDown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      warningModalOpen: false,\n      pendingValue: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.closeWarningModal = this.closeWarningModal.bind(this);\n    this.confirmProceedAfterWarning = this.confirmProceedAfterWarning.bind(this);\n  }\n\n  handleChange(event, index, value) {\n    if (this.props.warning) {\n      this.setState({\n        warningModalOpen: true,\n        pendingValue: value\n      });\n    } else {\n      this.props.onChange({\n        target: {\n          value\n        }\n      });\n    }\n  }\n\n  closeWarningModal() {\n    this.setState({\n      warningModalOpen: false,\n      pendingValue: null\n    });\n  }\n\n  confirmProceedAfterWarning() {\n    const value = this.state.pendingValue;\n    this.setState({\n      warningModalOpen: false,\n      pendingValue: null\n    });\n    this.props.onChange({\n      target: {\n        value\n      }\n    });\n  }\n\n  renderMenuItems(menuItems) {\n    if (this.props.includeEmpty) {\n      menuItems = [{\n        id: 'null',\n        displayName: this.props.emptyLabel\n      }, ...menuItems];\n    }\n\n    return menuItems.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      primaryText: item.displayName\n    }));\n  }\n\n  render() {\n    const {\n      /* eslint-disable no-unused-vars, react/prop-types */\n      onFocus,\n      onBlur,\n      onChange,\n      value,\n      disabled,\n      menuItems,\n      includeEmpty,\n      emptyLabel,\n      noOptionsLabel,\n      isRequired,\n      warning,\n\n      /* eslint-enable no-unused-vars, react/prop-types */\n      ...other\n    } = this.props;\n    const hasOptions = menuItems.length > 0;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.warningModalOpen && /*#__PURE__*/React.createElement(Modal, {\n      onClose: this.closeWarningModal\n    }, /*#__PURE__*/React.createElement(ModalTitle, null, this.props.warning.title), /*#__PURE__*/React.createElement(ModalContent, null, this.props.warning.body), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n      end: true\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.closeWarningModal\n    }, this.props.warning.cancel), /*#__PURE__*/React.createElement(Button, {\n      destructive: true,\n      onClick: this.confirmProceedAfterWarning\n    }, this.props.warning.proceed)))), /*#__PURE__*/React.createElement(SelectField, _extends({\n      value: hasOptions ? this.props.value : 1,\n      onChange: this.handleChange,\n      disabled: !hasOptions || disabled\n    }, other), hasOptions ? this.renderMenuItems(menuItems) : /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1,\n      primaryText: this.props.noOptionsLabel || '-'\n    })));\n  }\n\n}\n\n_defineProperty(DropDown, \"propTypes\", {\n  value: PropTypes.string.isRequired,\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  emptyLabel: PropTypes.string,\n  includeEmpty: PropTypes.bool,\n  menuItems: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  noOptionsLabel: PropTypes.string,\n  warning: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\n_defineProperty(DropDown, \"defaultProps\", {\n  defaultValue: '',\n  includeEmpty: false,\n  emptyLabel: '',\n  menuItems: [],\n  noOptionsLabel: '',\n  warning: undefined,\n  onFocus: undefined,\n  onBlur: undefined,\n  onChange: undefined\n});\n\nexport default DropDown;","import { colors } from '@dhis2/ui';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme.js';\nimport Spacing from 'material-ui/styles/spacing.js';\nconst theme = {\n  spacing: Spacing,\n  fontFamily: 'Roboto, sans-serif',\n  palette: {\n    primary1Color: colors.blue500,\n    primary2Color: colors.blue700,\n    primary3Color: colors.blue200,\n    accent1Color: colors.blue500,\n    accent2Color: colors.grey200,\n    textColor: colors.grey900,\n    disabledColor: colors.grey700,\n    borderColor: colors.grey400\n  }\n};\nexport default getMuiTheme(theme);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useConfig, useAlert } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, LinearLoader, CircularLoader, Modal, ModalTitle, ModalContent, CenteredContent } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport Checkbox from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AppTheme from '../theme.js';\nimport styles from './FileUpload.module.css';\n\nconst Upload = ({\n  isEnabled,\n  name,\n  showDialog,\n  onUpload,\n  onPreview\n}) => {\n  const dialogImgStyle = {\n    maxWidth: '100%',\n    maxHeight: '70vh',\n    backgroundColor: 'var(--colors-grey700)',\n    // Ensure image alt is visible against background if image fails to load\n    color: 'white'\n  };\n  const {\n    baseUrl,\n    apiVersion\n  } = useConfig();\n  const imgUrl = `${[baseUrl, 'api', apiVersion, 'staticContent', name].join('/')}?at=${new Date()}`;\n\n  if (isEnabled) {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n      secondary: true,\n      small: true,\n      className: styles.replaceImageBtn,\n      onClick: onUpload\n    }, i18n.t('Replace image')), /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      onClick: onPreview\n    }, i18n.t('Preview image')), showDialog && /*#__PURE__*/React.createElement(Modal, {\n      onClose: onPreview\n    }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Preview image')), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"img\", {\n      style: dialogImgStyle,\n      src: imgUrl,\n      alt: i18n.t('Preview of image')\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    small: true,\n    onClick: onUpload\n  }, i18n.t('Upload image'));\n};\n\nUpload.propTypes = {\n  isEnabled: PropTypes.bool.isRequired,\n  name: PropTypes.oneOf(['logo_front', 'logo_banner']).isRequired,\n  showDialog: PropTypes.bool.isRequired,\n  onPreview: PropTypes.func.isRequired,\n  onUpload: PropTypes.func.isRequired\n};\n\nclass FileUpload extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isEnabled: this.props.isEnabled,\n      uploading: false,\n      progress: undefined,\n      showDialog: false\n    });\n\n    _defineProperty(this, \"onClick\", e => {\n      if (this.fileInput && !this.state.uploading) {\n        this.fileInput.click(e);\n      } else if (this.state.uploading) {\n        this.xhr.abort();\n        this.setState({\n          uploading: false,\n          progress: undefined\n        });\n      }\n    });\n\n    _defineProperty(this, \"onPreviewClick\", () => {\n      this.setState(state => ({\n        showDialog: !state.showDialog\n      }));\n    });\n\n    _defineProperty(this, \"onToggle\", e => {\n      this.props.onChange({\n        target: {\n          value: e.target.checked\n        }\n      });\n    });\n\n    _defineProperty(this, \"onUpload\", async e => {\n      const {\n        files\n      } = e.target;\n\n      if (files.length === 0) {\n        return;\n      }\n\n      this.setState({\n        uploading: true,\n        progress: undefined\n      });\n      const d2 = await getD2();\n      const api = d2.Api.getApi();\n      const xhr = new XMLHttpRequest();\n\n      xhr.upload.onprogress = progress => {\n        if (progress.lengthComputable) {\n          this.setState({\n            progress: progress.loaded / progress.total * 100\n          });\n        } else {\n          this.setState({\n            progress: undefined\n          });\n        }\n      };\n\n      this.xhr = xhr;\n      const data = new FormData();\n      data.append('file', files[0]);\n\n      try {\n        await api.post(['staticContent', this.props.name].join('/'), data);\n        this.props.onChange({\n          target: {\n            value: true\n          }\n        });\n        this.setState({\n          uploading: false,\n          progress: undefined,\n          isEnabled: true\n        });\n      } catch (error) {\n        this.props.alert.show({\n          message: i18n.t('Error uploading file: {{error}}', {\n            error: error.httpStatus || error.message,\n            nsSeparator: '-:-'\n          }),\n          critical: true\n        });\n        this.props.onChange({\n          target: {\n            value: false\n          }\n        });\n        this.setState({\n          uploading: false,\n          progress: undefined\n        });\n      }\n    });\n\n    _defineProperty(this, \"renderUploading\", () => {\n      const progressStyle = {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        zIndex: 1\n      };\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.onClick\n      }, i18n.t('Cancel upload')), /*#__PURE__*/React.createElement(\"div\", {\n        style: progressStyle\n      }, this.state.progress ? /*#__PURE__*/React.createElement(LinearLoader, {\n        amount: this.state.progress\n      }) : /*#__PURE__*/React.createElement(CircularLoader, null)));\n    });\n  }\n\n  render() {\n    const {\n      onFocus,\n      onBlur,\n      onChange,\n      ...other\n    } = this.props; // eslint-disable-line\n\n    const containerStyle = {\n      position: 'relative',\n      display: 'block',\n      whiteSpace: 'nowrap'\n    };\n    const checkStyle = {\n      display: 'inline-block',\n      whiteSpace: 'nowrap',\n      paddingRight: 8,\n      paddingTop: 8,\n      paddingBottom: 8\n    };\n    const btnStyle = {\n      display: 'inline-block',\n      position: 'absolute',\n      top: 2\n    };\n\n    const setRef = ref => {\n      this.fileInput = ref;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: checkStyle\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      label: this.props.label,\n      onCheck: this.onToggle,\n      disabled: !this.state.isEnabled,\n      labelStyle: {\n        color: AppTheme.rawTheme.palette.textColor\n      },\n      checked: this.props.value\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: btnStyle\n    }, this.state.uploading ? this.renderUploading() : /*#__PURE__*/React.createElement(Upload, {\n      isEnabled: this.state.isEnabled,\n      name: this.props.name,\n      showDialog: this.state.showDialog,\n      onUpload: this.onClick,\n      onPreview: this.onPreviewClick\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      style: {\n        visibility: 'hidden',\n        display: 'none'\n      },\n      ref: setRef,\n      onChange: this.onUpload\n    })));\n  }\n\n}\n\n_defineProperty(FileUpload, \"propTypes\", {\n  alert: PropTypes.object.isRequired,\n  isEnabled: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.oneOf(['logo_front', 'logo_banner']).isRequired,\n  value: PropTypes.bool.isRequired,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n});\n\nconst withAlerts = Component => {\n  return function ComponentWithAlerts(props) {\n    const alert = useAlert(({\n      message\n    }) => message, options => options);\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      alert: alert\n    }));\n  };\n};\n\nexport default withAlerts(FileUpload);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport TextField from 'material-ui/TextField';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst helpTextStyle = {\n  fontSize: '12px',\n  color: 'rgba(0, 0, 0, 0.3)',\n  margin: '-4px 0 0'\n};\n\nclass TextFieldComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      value: this.props.value\n    });\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    this.setState({\n      value: props.value\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  render() {\n    /* eslint-disable no-unused-vars, react/prop-types */\n    const {\n      changeEvent,\n      isRequired,\n      defaultValue,\n      helpText,\n      ...other\n    } = this.props;\n    /* eslint-enable no-unused-vars, react/prop-types */\n\n    const errorStyle = {\n      lineHeight: this.props.multiLine ? '48px' : '12px',\n      marginTop: this.props.multiLine ? -16 : 0\n    };\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(TextField, _extends({\n      errorStyle: errorStyle\n    }, other, {\n      value: this.state.value,\n      onChange: this.onChange\n    })), helpText && /*#__PURE__*/React.createElement(\"p\", {\n      style: helpTextStyle\n    }, helpText));\n  }\n\n}\n\n_defineProperty(TextFieldComponent, \"propTypes\", {\n  helpText: PropTypes.node,\n  multiLine: PropTypes.bool,\n  value: PropTypes.string\n});\n\n_defineProperty(TextFieldComponent, \"defaultProps\", {\n  value: '',\n  multiLine: false,\n  helpText: ''\n});\n\nexport default TextFieldComponent;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, CircularLoader, CenteredContent } from '@dhis2/ui';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from '../configOptionStore.js';\nimport SelectField from '../form-fields/drop-down.js';\nimport TextField from '../form-fields/text-field.js';\nimport settingsActions from '../settingsActions.js';\nimport settingsKeyMapping from '../settingsKeyMapping.js';\nimport settingsStore from '../settingsStore.js';\n/**\n * To understand why this component works the way it does, some background knowledge is required:\n *\n * The default values of these appearance settings cannot be fetched via `/systemSettings/<key>`\n * because this keyed endpoint applies translation. However, the default values for the appearance\n * settings can be obtained when calling `/systemSettings`, because this endpoint doesn't apply\n * translations. As such, the default values are already present in the `settingsStore`.\n *\n * When posting settings for a specific locale, we need to add a `locale` query parameter like so:\n * `/systemSettings/<key>?locale=<locale>`. To make this work a dedicated function has been created\n * in `src/settingsActions.js` called `saveLocalizedAppearanceSetting`. However, when we want to\n * update a default value, we need to omit the `locale` query parameter. Effectively this means that\n * updating a default appearance setting is identical to updating a regular setting, so it can just\n * be handled by the `saveSetting` function.\n */\n\nconst styles = {\n  container: {\n    padding: '0 var(--spacers-dp16) var(--spacers-dp8)'\n  },\n  field: {\n    width: '100%'\n  },\n  loaderWrap: {\n    textAlign: 'center',\n    padding: 12\n  },\n  error: {\n    color: 'red',\n    padding: 12\n  },\n  clickableHelpText: {\n    color: '#3162C5',\n    textDecoration: 'underline',\n    cursor: 'pointer'\n  }\n};\nconst SYSTEM_DEFAULT = '@@__SYSTEM_DEFAULT__@@';\nconst LOCALIZED_SETTING_KEYS = ['applicationTitle', 'keyApplicationIntro', 'keyApplicationNotification', 'keyApplicationFooter', 'keyApplicationRightFooter'];\n\nclass LocalizedTextEditor extends React.Component {\n  static getLocaleName(code) {\n    if (code === SYSTEM_DEFAULT) {\n      return i18n.t('System default ({{language}})', {\n        language: LocalizedTextEditor.getLocaleName(settingsStore.state.keyUiLocale)\n      });\n    }\n\n    return configOptionStore.state && configOptionStore.getState().uiLocales.filter(locale => locale.id === code).map(locale => locale.displayName).pop() || '';\n  }\n\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"switchToDefaultLocale\", () => {\n      this.handleChange({\n        target: {\n          value: SYSTEM_DEFAULT\n        }\n      });\n    });\n\n    _defineProperty(this, \"createFieldHelpTextProps\", fieldKey => {\n      const defaultValue = settingsStore.state[fieldKey];\n      const {\n        locale\n      } = this.state;\n\n      if (locale === SYSTEM_DEFAULT) {\n        return null;\n      }\n\n      if (defaultValue) {\n        return {\n          helpText: LocalizedTextEditor.getLocaleName(SYSTEM_DEFAULT)\n        };\n      }\n\n      return {\n        disabled: true,\n        helpText: /*#__PURE__*/React.createElement(\"span\", {\n          style: styles.clickableHelpText,\n          onClick: this.switchToDefaultLocale\n        }, i18n.t('Set the main field value before adding a translation'))\n      };\n    });\n\n    this.state = {\n      locale: SYSTEM_DEFAULT,\n      localeName: settingsStore.state && LocalizedTextEditor.getLocaleName(SYSTEM_DEFAULT),\n      settings: null,\n      error: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.saveSettingsKey = this.saveSettingsKey.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAppearanceSettings();\n    this.settingsStoreSubscription = settingsStore.subscribe(() => {\n      this.setState({\n        locale: SYSTEM_DEFAULT,\n        localeName: LocalizedTextEditor.getLocaleName(SYSTEM_DEFAULT)\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.settingsStoreSubscription) {\n      this.settingsStoreSubscription.unsubscribe();\n    }\n  }\n\n  getAppearanceSettings(code) {\n    const locale = code || this.state.locale;\n    const promise = locale === SYSTEM_DEFAULT ? Promise.resolve(LOCALIZED_SETTING_KEYS.map(key => settingsStore.state[key])) : this.fetchLocalizedAppearanceSettings(locale);\n    promise.then(values => {\n      const settings = LOCALIZED_SETTING_KEYS.reduce((acc, key, i) => {\n        acc[key] = values[i];\n        return acc;\n      }, {});\n      this.setState({\n        settings,\n        error: false\n      });\n    }).catch(() => {\n      this.setState({\n        error: true,\n        settings: null\n      });\n    });\n  }\n\n  fetchLocalizedAppearanceSettings(locale) {\n    const api = this.context.d2.Api.getApi();\n    return Promise.all(LOCALIZED_SETTING_KEYS.map(key => api.get(`systemSettings/${key}`, {\n      locale\n    }).then(json => json[key])));\n  }\n\n  handleChange(e) {\n    const code = e.target.value;\n    this.setState({\n      locale: code,\n      localeName: LocalizedTextEditor.getLocaleName(code),\n      settings: null\n    });\n    this.getAppearanceSettings(code);\n  }\n\n  saveSettingsKey(key, value) {\n    this.setState({\n      settings: { ...this.state.settings,\n        [key]: value\n      }\n    });\n    const locale = this.state.locale === SYSTEM_DEFAULT ? null : this.state.locale;\n    settingsActions.saveKey(key, value, locale);\n  }\n\n  renderLocalizedAppearanceFields() {\n    if (!this.state.settings && !this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.loaderWrap\n      }, /*#__PURE__*/React.createElement(CircularProgress, null));\n    }\n\n    if (this.state.error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.error\n      }, i18n.t('Could not fetch localized settings'));\n    }\n\n    const fields = LOCALIZED_SETTING_KEYS.map(key => ({\n      name: key,\n      value: this.state.settings[key] || '',\n      component: TextField,\n      props: {\n        floatingLabelText: `${settingsKeyMapping[key].label}  ${LocalizedTextEditor.getLocaleName(this.state.locale)}`,\n        changeEvent: 'onBlur',\n        style: styles.field,\n        multiLine: true,\n        ...this.createFieldHelpTextProps(key)\n      }\n    }));\n    return /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: this.saveSettingsKey\n    });\n  }\n\n  render() {\n    const systemDefaultOption = {\n      id: SYSTEM_DEFAULT,\n      displayName: LocalizedTextEditor.getLocaleName(SYSTEM_DEFAULT)\n    };\n    const optionStoreState = configOptionStore.getState();\n    const uiLocales = optionStoreState && optionStoreState.uiLocales || [];\n    const options = [systemDefaultOption, ...uiLocales];\n    return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.container\n    }, /*#__PURE__*/React.createElement(SelectField, {\n      menuItems: options,\n      value: this.state.locale || '',\n      floatingLabelText: i18n.t('Select language'),\n      onChange: this.handleChange\n    }), this.state.locale ? this.renderLocalizedAppearanceFields() : /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null))));\n  }\n\n}\n\nLocalizedTextEditor.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default LocalizedTextEditor;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component.js';\nimport { Table, Column, Cell } from 'fixed-data-table';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport { RadioButtonGroup, RadioButton } from 'material-ui/RadioButton';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport Checkbox from '../form-fields/check-box.js';\nimport settingsActions from '../settingsActions.js';\nimport settingsStore from '../settingsStore.js';\nimport 'fixed-data-table/dist/fixed-data-table.css';\n\nclass MetadataSettings extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"createVersion\", async () => {\n      this.setState({\n        isTaskRunning: true\n      });\n      const d2 = await getD2();\n      d2.Api.getApi().post(`/metadata/version/create?type=${this.state.selectedTransactionType}`).then(() => {\n        this.setState({\n          isTaskRunning: false\n        });\n        settingsActions.load(true);\n        settingsActions.showSnackbarMessage(i18n.t('Version created'));\n        return Promise.resolve();\n      }).then(this.sync).catch(() => {\n        this.setState({\n          isTaskRunning: false\n        });\n        settingsActions.showSnackbarMessage(i18n.t('Failed to create version'));\n        return Promise.resolve();\n      });\n    });\n\n    _defineProperty(this, \"syncSettings\", async () => {\n      const d2 = await getD2();\n\n      try {\n        const result = await d2.Api.getApi().get('/systemSettings');\n        this.setState({\n          lastFailedTime: result.keyMetadataLastFailedTime ? result.keyMetadataLastFailedTime : null,\n          isVersioningEnabled: result.keyVersionEnabled,\n          hqInstanceUrl: result.keyRemoteInstanceUrl,\n          remoteVersionName: result.keyRemoteMetadataVersion,\n          lastFailedVersion: result.keyMetadataFailedVersion ? result.keyMetadataFailedVersion : null,\n          isSchedulerEnabled: result.keySchedTasks !== undefined\n        });\n\n        if (this.state.hqInstanceUrl !== undefined && this.state.hqInstanceUrl.length !== 0) {\n          this.setState({\n            isLocalInstance: true,\n            masterVersionName: this.state.remoteVersionName,\n            isLastSyncValid: this.state.lastFailedTime != null\n          });\n        } else {\n          this.setState({\n            isLocalInstance: false,\n            masterVersionName: this.state.metadataVersions !== undefined && this.state.metadataVersions.length !== 0 ? this.state.metadataVersions[0].name : null\n          });\n        }\n      } catch {\n        settingsActions.showSnackbarMessage(i18n.t('Error fetching settings'));\n      }\n    });\n\n    _defineProperty(this, \"syncVersions\", async () => {\n      if (!this.state.isVersioningEnabled) {\n        return;\n      }\n\n      const d2 = await getD2();\n\n      try {\n        const result = await d2.Api.getApi().get('/metadata/versions');\n        const versions = result.metadataversions.sort((a, b) => {\n          if (a.created < b.created) {\n            return 1;\n          } else if (a.created > b.created) {\n            return -1;\n          }\n\n          return 0;\n        });\n        versions.forEach(version => {\n          version.importdate = version.importdate ? new Date(version.importdate).toLocaleString() : 'NA';\n        });\n        this.setState({\n          metadataVersions: versions,\n          hasVersions: versions !== undefined && versions.length !== 0\n        });\n      } catch {\n        this.setState({\n          hasVersions: false\n        });\n      }\n    });\n\n    this.state = {\n      metadataVersions: [],\n      selectedTransactionType: 'BEST_EFFORT',\n      masterVersionName: null,\n      lastFailedTime: null,\n      hqInstanceUrl: null,\n      isVersioningEnabled: false,\n      remoteVersionName: null,\n      isLocalInstance: false,\n      hasVersions: false,\n      isTaskRunning: false\n    };\n    this.saveSettingsKey = 'keyVersionEnabled';\n    this.stopMetadataSyncKey = 'keyStopMetadataSync';\n    this.createVersionKey = 'createVersionButton';\n    this.onSelectTransactionType = this.onSelectTransactionType.bind(this);\n    this.onToggleVersioning = this.onToggleVersioning.bind(this);\n    this.onToggleStopSync = this.onToggleStopSync.bind(this);\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(settings => {\n      this.setState({\n        isVersioningEnabled: settings[this.saveSettingsKey] === 'true'\n      }, () => {\n        this.syncVersions().then(this.syncSettings);\n      });\n    }));\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  onSelectTransactionType(event, value) {\n    this.setState({\n      selectedTransactionType: value\n    });\n  }\n\n  onToggleVersioning(e, v) {\n    settingsActions.saveKey(this.saveSettingsKey, v ? 'true' : 'false');\n  }\n\n  onToggleStopSync(e, v) {\n    settingsActions.saveKey(this.stopMetadataSyncKey, v ? 'true' : 'false');\n  }\n\n  renderVersionList() {\n    const styles = {\n      inlineRight: {\n        display: 'inline-block',\n        float: 'right'\n      },\n      visible: {\n        display: 'block',\n        paddingTop: '2rem'\n      },\n      hidden: {\n        display: 'none'\n      },\n      inlineProgressIcon: {\n        display: 'inline-block',\n        top: '-7px',\n        float: 'left'\n      }\n    };\n\n    const fieldGetter = (field, filter = x => x) => ({\n      rowIndex,\n      ...props\n    }) => /*#__PURE__*/React.createElement(Cell, props, filter(this.state.metadataVersions[rowIndex][field]));\n\n    const dateFmt = str => new Date(str).toLocaleString();\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        fontSize: '16px',\n        marginTop: '16px',\n        marginBottom: '8px'\n      }\n    }, i18n.t('Create new version')), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: '600px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'inline-block'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButtonGroup, {\n      name: \"version_types\",\n      onChange: this.onSelectTransactionType,\n      defaultSelected: \"BEST_EFFORT\",\n      style: {\n        display: 'flex'\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"BEST_EFFORT\",\n      label: i18n.t('Best effort'),\n      disabled: this.state.isTaskRunning\n    }), /*#__PURE__*/React.createElement(RadioButton, {\n      value: \"ATOMIC\",\n      label: i18n.t('Atomic'),\n      disabled: this.state.isTaskRunning\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.inlineRight\n    }, this.state.isTaskRunning && /*#__PURE__*/React.createElement(CircularProgress, {\n      style: styles.inlineProgressIcon,\n      size: 0.5\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.createVersion,\n      disabled: this.state.isTaskRunning\n    }, i18n.t('Create new version')))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"dl\", {\n      style: {\n        display: 'inline-block',\n        margin: 0\n      }\n    }, /*#__PURE__*/React.createElement(\"dt\", {\n      style: {\n        display: 'inline-block',\n        fontSize: '16px',\n        fontWeight: 'bold'\n      }\n    }, i18n.t('Master version:', {\n      nsSeparator: '-:-'\n    })), /*#__PURE__*/React.createElement(\"dd\", {\n      style: {\n        display: 'inline-block'\n      }\n    }, this.state.masterVersionName || i18n.t('None'))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance && this.state.isLastSyncValid ? styles.inlineRight : styles.hidden\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontStyle: 'italic'\n      }\n    }, i18n.t('Last sync attempt')), /*#__PURE__*/React.createElement(\"span\", null, this.state.lastFailedVersion), /*#__PURE__*/React.createElement(\"span\", null, ' | ', /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'var(--colors-red500)'\n      }\n    }, i18n.t('Failed')), ' | ', new Date(this.state.lastFailedTime).toLocaleString()))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.visible : styles.hidden\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 135\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created', dateFmt),\n      width: 205\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 145\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Last Sync\"),\n      cell: fieldGetter('importdate'),\n      width: 185\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.isLocalInstance ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(Table, {\n      rowHeight: 50,\n      rowsCount: this.state.metadataVersions.length,\n      width: 670,\n      maxHeight: 50 * 6,\n      headerHeight: 50\n    }, /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Version\"),\n      cell: fieldGetter('name'),\n      width: 190\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"When\"),\n      cell: fieldGetter('created'),\n      width: 280\n    }), /*#__PURE__*/React.createElement(Column, {\n      header: /*#__PURE__*/React.createElement(Cell, null, \"Type\"),\n      cell: fieldGetter('type'),\n      width: 200\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.hasVersions ? styles.hidden : styles.visible\n    }, /*#__PURE__*/React.createElement(\"h4\", null, i18n.t('No versions exist'))));\n  }\n\n  render() {\n    const localeAppendage = this.state.locale === 'en' ? '' : this.state.locale;\n    const checkboxFields = [{\n      name: 'keyVersionEnabled',\n      value: settingsStore.state && settingsStore.state[this.saveSettingsKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: i18n.t('Enable Versioning for metadata sync'),\n        checked: (settingsStore.state && settingsStore.state[this.saveSettingsKey]) === 'true',\n        onCheck: this.onToggleVersioning,\n        disabled: this.state.isTaskRunning\n      }\n    }, {\n      name: 'keyStopMetadataSync',\n      value: settingsStore.state && settingsStore.state[this.stopMetadataSyncKey + localeAppendage] || '',\n      component: Checkbox,\n      props: {\n        label: i18n.t(`Don't sync metadata if DHIS versions differ`),\n        checked: (settingsStore.state && settingsStore.state[this.stopMetadataSyncKey]) === 'true',\n        onCheck: this.onToggleStopSync\n      }\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: '2rem'\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        fontSize: '22px'\n      }\n    }, i18n.t('Metadata Versioning')), /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: checkboxFields,\n      onUpdateField: settingsActions.saveKey\n    }), this.state.isVersioningEnabled && this.renderVersionList());\n  }\n\n}\n\nMetadataSettings.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default MetadataSettings;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Checkbox from 'material-ui/Checkbox';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass MultiToggle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      values: this.props.items.reduce((prev, curr) => {\n        if (curr.value) {\n          prev.push(curr.name);\n        }\n\n        return prev;\n      }, [])\n    });\n\n    this.onToggle = this.onToggle.bind(this);\n  }\n\n  onToggle(value, event, checked) {\n    this.setState(oldState => {\n      if (checked) {\n        if (oldState.values.indexOf(value) === -1) {\n          oldState.values.push(value);\n        }\n      } else if (oldState.values.indexOf(value) !== -1) {\n        oldState.values.splice(oldState.values.indexOf(value), 1);\n      }\n\n      return oldState;\n    }, () => {\n      this.props.onChange({\n        target: {\n          value: this.state.values\n        }\n      });\n    });\n  }\n\n  render() {\n    const style = Object.assign({}, this.context.muiTheme.forms, this.props.style);\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 16,\n        marginBottom: 8\n      }\n    }, this.props.label), this.props.items.map(item => {\n      const togglor = this.onToggle.bind(null, item.name);\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        key: item.name,\n        name: item.name,\n        value: \"true\",\n        defaultChecked: item.value === true,\n        label: item.text,\n        onCheck: togglor,\n        style: style,\n        labelPosition: \"right\"\n      });\n    }));\n  }\n\n}\n\n_defineProperty(MultiToggle, \"propTypes\", {\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    value: PropTypes.bool\n  })),\n  style: PropTypes.object\n});\n\n_defineProperty(MultiToggle, \"defaultProps\", {\n  items: [],\n  style: {}\n});\n\nMultiToggle.contextTypes = {\n  muiTheme: PropTypes.object\n};\nexport default MultiToggle;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Modal, ModalTitle, ModalContent } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component.js';\nimport { isUrlArray, isRequired } from 'd2-ui/lib/forms/Validators.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport MultiToggle from '../form-fields/multi-toggle.js';\nimport TextField from '../form-fields/text-field.js';\nimport styles from './ClientForm.module.css';\nconst formFieldStyle = {\n  width: '100%'\n};\n\nconst validateClientID = async v => {\n  const d2 = await getD2();\n  const list = await d2.models.oAuth2Clients.list({\n    paging: false,\n    filter: [`cid:eq:${v}`]\n  });\n\n  if (list.size > 0) {\n    throw i18n.t('This client ID is already taken');\n  }\n};\n\nconst ClientForm = ({\n  clientModel,\n  onUpdate,\n  onSave,\n  onCancel\n}) => {\n  const grantTypes = (clientModel && clientModel.grantTypes || []).reduce((curr, prev) => {\n    curr[prev] = true;\n    return curr;\n  }, {});\n  const fields = [{\n    name: 'name',\n    value: clientModel.name,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Name'),\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isRequired,\n      message: i18n.t('Required')\n    }]\n  }, {\n    name: 'cid',\n    value: clientModel.cid,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Client ID'),\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isRequired,\n      message: i18n.t('Required')\n    }, {\n      validator: v => v.toString().trim().length > 0,\n      message: i18n.t('Required')\n    }],\n    asyncValidators: [validateClientID]\n  }, {\n    name: 'secret',\n    value: clientModel && clientModel.secret,\n    component: TextField,\n    props: {\n      floatingLabelText: i18n.t('Client Secret'),\n      disabled: true,\n      style: formFieldStyle\n    }\n  }, {\n    name: 'grantTypes',\n    component: MultiToggle,\n    style: formFieldStyle,\n    props: {\n      label: i18n.t('Grant Types'),\n      items: [{\n        name: 'password',\n        text: i18n.t('Password'),\n        value: grantTypes.password\n      }, {\n        name: 'refresh_token',\n        text: i18n.t('Refresh token'),\n        value: grantTypes.refresh_token\n      }, {\n        name: 'authorization_code',\n        text: i18n.t('Authorization code'),\n        value: grantTypes.authorization_code\n      }]\n    }\n  }, {\n    name: 'redirectUris',\n    value: (clientModel.redirectUris || []).join('\\n'),\n    component: TextField,\n    props: {\n      hintText: i18n.t('One URL per line'),\n      floatingLabelText: i18n.t('Redirect URIs'),\n      multiLine: true,\n      style: formFieldStyle,\n      changeEvent: 'onBlur'\n    },\n    validators: [{\n      validator: isUrlArray,\n      message: i18n.t('This field should contain a list of URLs')\n    }]\n  }];\n  const headerText = clientModel.id === undefined ? i18n.t('Create new OAuth2 Client') : i18n.t('Edit OAuth2 Client');\n  return /*#__PURE__*/React.createElement(Modal, {\n    onClose: onCancel\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, headerText), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(FormBuilder, {\n    fields: fields,\n    onUpdateField: onUpdate\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '1rem'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSave\n  }, i18n.t('Save')), /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onCancel,\n    className: styles.cancelBtn\n  }, i18n.t('Cancel')))));\n};\n\nClientForm.propTypes = {\n  clientModel: PropTypes.object.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onUpdate: PropTypes.func.isRequired\n};\nexport default ClientForm;","import i18n from '@dhis2/d2-i18n';\nimport { CenteredContent, Table, TableBody, TableCell, TableCellHead, TableHead, TableRow, TableRowHead, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './ClientsList.module.css';\n\nconst ClientsList = ({\n  clients,\n  onClientEdit,\n  onClientDelete\n}) => {\n  if (clients.length === 0) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('There are currently no OAuth2 clients registered')));\n  }\n\n  return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Password')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Refresh token')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Authorization code')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, clients.map(client => /*#__PURE__*/React.createElement(TableRow, {\n    key: client.authorization_code\n  }, /*#__PURE__*/React.createElement(TableCell, null, client.name), /*#__PURE__*/React.createElement(TableCell, null, client.password), /*#__PURE__*/React.createElement(TableCell, null, client.refresh_token), /*#__PURE__*/React.createElement(TableCell, null, client.authorization_code), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    primary: true,\n    className: styles.editBtn,\n    onClick: () => onClientEdit(client)\n  }, i18n.t('Edit')), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    destructive: true,\n    onClick: () => onClientDelete(client)\n  }, i18n.t('Delete')))))));\n};\n\nClientsList.propTypes = {\n  clients: PropTypes.array.isRequired,\n  onClientDelete: PropTypes.func.isRequired,\n  onClientEdit: PropTypes.func.isRequired\n};\nexport default ClientsList;","import Store from 'd2-ui/lib/store/Store.js';\nexport default Store.create();","import i18n from '@dhis2/d2-i18n';\nimport { getInstance as getD2 } from 'd2';\nimport Action from 'd2-ui/lib/action/Action.js';\nimport settingsActions from '../settingsActions.js';\nimport oa2Store from './oauth2Client.store.js';\nconst oa2Actions = Action.createActionsFromNames(['load', 'delete']);\noa2Actions.load.subscribe(() => {\n  getD2().then(d2 => {\n    d2.models.oAuth2Client.list({\n      paging: false,\n      fields: ':all',\n      order: 'displayName'\n    }).then(oa2ClientCollection => {\n      const yes = i18n.t('Yes');\n      const no = i18n.t('No'); // Map grant types to object props in order to display them in the data table\n\n      oa2Store.setState(oa2ClientCollection.toArray().map(oa2c => Object.assign(oa2c, {\n        password: oa2c.grantTypes.indexOf('password') !== -1 ? yes : no,\n        refresh_token: oa2c.grantTypes.indexOf('refresh_token') !== -1 ? yes : no,\n        authorization_code: oa2c.grantTypes.indexOf('authorization_code') !== -1 ? yes : no\n      })));\n    });\n  });\n});\noa2Actions.delete.subscribe(e => {\n  e.data.delete().then(() => {\n    oa2Actions.load();\n    settingsActions.showSnackbarMessage(i18n.t('OAuth2 client deleted'));\n  }).catch(err => {\n    console.error('Error when deleting OAuth2 client:', err);\n    settingsActions.showSnackbarMessage(i18n.t('Failed to delete OAuth2 client'));\n  });\n});\nexport default oa2Actions;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { CircularLoader, CenteredContent, Button } from '@dhis2/ui';\nimport { getInstance as getD2 } from 'd2';\nimport React, { Component } from 'react';\nimport settingsActions from '../settingsActions.js';\nimport ClientForm from './ClientForm.js';\nimport ClientsList from './ClientsList.js';\nimport oa2Actions from './oauth2Client.actions.js';\nimport oa2ClientStore from './oauth2Client.store.js';\nimport styles from './OAuth2ClientEditor.module.css';\n\nfunction generateSecret() {\n  const alphabet = '0123456789abcdef';\n  let uid = '';\n\n  for (let i = 0; i < 32; i++) {\n    uid += alphabet.charAt(Math.random() * alphabet.length);\n\n    if (i === 8 || i === 12 || i === 16 || i === 20) {\n      uid += '-';\n    }\n  }\n\n  return uid;\n}\n\nclass OAuth2ClientEditor extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      showForm: false,\n      saving: false\n    });\n\n    _defineProperty(this, \"cancelAction\", () => {\n      this.clientModel = undefined;\n      oa2Actions.load();\n      this.setState({\n        showForm: false\n      });\n    });\n\n    _defineProperty(this, \"newAction\", () => {\n      getD2().then(d2 => {\n        this.clientModel = d2.models.oAuth2Client.create();\n        this.clientModel.secret = generateSecret();\n        this.setState({\n          showForm: true\n        });\n      });\n    });\n\n    _defineProperty(this, \"editAction\", model => {\n      this.clientModel = model;\n      this.setState({\n        showForm: true\n      });\n    });\n\n    _defineProperty(this, \"deleteAction\", model => {\n      this.setState({\n        showForm: false,\n        saving: true\n      });\n      oa2Actions.delete(model.id ? model : this.clientModel);\n      this.clientModel = undefined;\n    });\n\n    _defineProperty(this, \"saveAction\", () => {\n      this.clientModel.name = this.clientModel.name || '';\n      this.clientModel.cid = this.clientModel.cid || '';\n      this.setState({\n        saving: true\n      });\n      this.clientModel.save().then(importReport => {\n        if (importReport.status !== 'OK') {\n          throw new Error(importReport);\n        }\n\n        settingsActions.showSnackbarMessage(i18n.t('OAuth2 client saved'));\n        oa2Actions.load();\n        this.setState({\n          showForm: false,\n          saving: false\n        });\n      }).catch(() => {\n        settingsActions.showSnackbarMessage(i18n.t('Failed to save OAuth2 client'));\n        this.setState({\n          saving: false\n        });\n      });\n    });\n\n    _defineProperty(this, \"formUpdateAction\", (field, v) => {\n      let value = v;\n\n      if (field === 'redirectUris') {\n        value = v.split('\\n').filter(a => a.trim().length > 0);\n      }\n\n      this.clientModel[field] = value;\n      this.forceUpdate();\n    });\n  }\n\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(oa2ClientStore.subscribe(() => {\n      this.forceUpdate();\n    }));\n    this.subscriptions.push(oa2Actions.delete.subscribe(() => {\n      this.setState({\n        saving: false\n      });\n    }));\n    oa2Actions.load();\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  render() {\n    const clients = oa2ClientStore.state;\n\n    if (!clients || this.state.saving) {\n      return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrapper\n    }, /*#__PURE__*/React.createElement(ClientsList, {\n      clients: clients,\n      onClientEdit: this.editAction,\n      onClientDelete: this.deleteAction\n    }), /*#__PURE__*/React.createElement(Button, {\n      primary: true,\n      className: styles.addClientBtn,\n      onClick: this.newAction\n    }, i18n.t('Add OAuth2 client')), this.state.showForm && /*#__PURE__*/React.createElement(ClientForm, {\n      clientModel: this.clientModel,\n      onUpdate: this.formUpdateAction,\n      onSave: this.saveAction,\n      onCancel: this.cancelAction\n    }));\n  }\n\n}\n\nexport default OAuth2ClientEditor;","import i18n from '@dhis2/d2-i18n';\nimport { Button, Card, CenteredContent, CircularLoader, IconInfo24, Tooltip } from '@dhis2/ui';\nimport FormBuilder from 'd2-ui/lib/forms/FormBuilder.component.js';\nimport { wordToValidatorMap } from 'd2-ui/lib/forms/Validators.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport configOptionStore from './configOptionStore.js';\nimport Checkbox from './form-fields/check-box.js';\nimport SelectField from './form-fields/drop-down.js';\nimport FileUpload from './form-fields/file-upload.js';\nimport TextField from './form-fields/text-field.js';\nimport LocalizedAppearance from './localized-text/LocalizedAppearanceEditor.component.js';\nimport metadataSettings from './metadata-settings/metadataSettings.component.js';\nimport Oauth2ClientEditor from './oauth2-client-editor/OAuth2ClientEditor.component.js';\nimport settingsActions from './settingsActions.js';\nimport { categories } from './settingsCategories.js';\nimport classes from './SettingsFields.module.css';\nimport settingsKeyMapping from './settingsKeyMapping.js';\nimport settingsStore from './settingsStore.js';\nimport AppTheme from './theme.js';\nconst styles = {\n  header: {\n    fontSize: 24,\n    fontWeight: 500,\n    color: 'var(--colors-grey900)',\n    padding: '24px 0 12px 16px'\n  },\n  noHits: {\n    padding: '1rem',\n    marginTop: '1rem',\n    fontWeight: 300\n  },\n  userSettingsOverride: {\n    color: AppTheme.rawTheme.palette.primary1Color,\n    position: 'absolute',\n    right: 0,\n    top: 36\n  },\n  menuIcon: {\n    color: '#757575'\n  },\n  menuLabel: {\n    position: 'relative',\n    top: -6,\n    marginLeft: 16\n  }\n};\n\nconst translateValidatorMessage = validatorMessage => {\n  switch (validatorMessage) {\n    case 'value_required':\n      return i18n.t('This field is required');\n\n    case 'value_should_be_a_url':\n      return i18n.t('This field should be a URL');\n\n    case 'value_should_be_list_of_urls':\n      return i18n.t('This field should contain a list of URLs');\n\n    case 'value_should_be_a_number':\n      return i18n.t('This field should be a number');\n\n    case 'value_should_be_a_positive_number':\n      return i18n.t('This field should be a positive number');\n\n    case 'value_should_be_an_email':\n      return i18n.t('This field should be an email');\n  }\n\n  return validatorMessage;\n};\n\nfunction wrapUserSettingsOverride({\n  component,\n  valueLabel\n}) {\n  return class extends component {\n    render() {\n      const labelStyle = Object.assign({}, styles.userSettingsOverride);\n\n      if (component === Checkbox) {\n        labelStyle.top = -8;\n      }\n\n      const labelText = valueLabel ? `${i18n.t('This setting will be overridden by the current user setting: {{settingName}}', {\n        settingName: valueLabel,\n        nsSeparator: '-:-'\n      })}` : i18n.t('This setting can be overridden by user settings');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginRight: 36\n        }\n      }, super.render(), /*#__PURE__*/React.createElement(\"div\", {\n        style: labelStyle\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        content: labelText\n      }, /*#__PURE__*/React.createElement(IconInfo24, null))));\n    }\n\n  };\n}\n\nfunction addConditionallyHiddenStyles(mapping) {\n  if (!mapping || !mapping.hideWhen) {\n    return {};\n  }\n\n  const {\n    settingsKey,\n    settingsValue\n  } = mapping.hideWhen;\n  const currentValue = settingsStore.state && settingsStore.state[settingsKey];\n  return settingsValue === currentValue ? {\n    display: 'none'\n  } : {};\n}\n\nfunction getMenuItems(mapping) {\n  const sourceMenuItems = configOptionStore.state && configOptionStore.state[mapping.source] || [];\n  const optionsMenuItems = Object.entries(mapping.options || []).map(([id, displayName]) => ({\n    id,\n    displayName\n  }));\n  return optionsMenuItems.concat(sourceMenuItems);\n}\n\nclass SettingsFields extends React.Component {\n  componentDidMount() {\n    this.subscriptions = [];\n    this.subscriptions.push(settingsStore.subscribe(() => this.forceUpdate()));\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.currentSettings.join(',') !== this.props.currentSettings.join(',');\n  }\n\n  componentWillUnmount() {\n    if (Array.isArray(this.subscriptions)) {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n  }\n\n  fieldForMapping({\n    mapping,\n    fieldBase,\n    key,\n    d2\n  }) {\n    switch (mapping.type) {\n      case 'textfield':\n      case undefined:\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            changeEvent: 'onBlur',\n            multiLine: !!mapping.multiLine\n          })\n        });\n\n      case 'password':\n        return Object.assign({}, fieldBase, {\n          props: Object.assign({}, fieldBase.props, {\n            type: 'password',\n            changeEvent: 'onBlur',\n            autoComplete: 'new-password'\n          })\n        });\n\n      case 'dropdown':\n        if (mapping.includeEmpty && fieldBase.value === '') {\n          fieldBase.value = 'null';\n        }\n\n        return Object.assign({}, fieldBase, {\n          component: SelectField,\n          props: Object.assign({}, fieldBase.props, {\n            menuItems: getMenuItems(mapping),\n            includeEmpty: !!mapping.includeEmpty,\n            emptyLabel: mapping.includeEmpty && mapping.emptyLabel || undefined,\n            noOptionsLabel: i18n.t('No options'),\n            warning: mapping.showWarning && mapping.warning || undefined\n          })\n        });\n\n      case 'checkbox':\n        return Object.assign({}, fieldBase, {\n          component: Checkbox,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            sectionLabel: mapping.sectionLabel && mapping.sectionLabel || undefined,\n            style: fieldBase.props.style,\n            onCheck: (e, v) => {\n              settingsActions.saveKey(key, v ? 'true' : 'false');\n            }\n          }\n        });\n\n      case 'staticContent':\n        return Object.assign({}, fieldBase, {\n          component: FileUpload,\n          props: {\n            label: fieldBase.props.floatingLabelText,\n            name: mapping.name,\n            isEnabled: Object.hasOwnProperty.call(settingsStore.state, key),\n            value: fieldBase.value === 'true' || fieldBase.value === true\n          }\n        });\n\n      case 'oauth2clients':\n        return Object.assign({}, fieldBase, {\n          component: Oauth2ClientEditor\n        });\n\n      case 'postButton':\n        return Object.assign({}, fieldBase, {\n          component: Button,\n          props: {\n            children: fieldBase.props.floatingLabelText,\n            onClick: () => {\n              d2.Api.getApi().post(mapping.uri).then(result => {\n                settingsActions.load(true);\n                settingsActions.showSnackbarMessage(result.message);\n              }).catch(error => {\n                settingsActions.showSnackbarMessage(error.message);\n              });\n            }\n          }\n        });\n\n      case 'localizedAppearance':\n        return Object.assign({}, fieldBase, {\n          component: LocalizedAppearance\n        });\n\n      case 'metadataSettings':\n        return Object.assign({}, fieldBase, {\n          component: metadataSettings\n        });\n\n      default:\n        console.warn(`Unknown control type \"${mapping.type}\" encountered for field \"${key}\"`);\n        return null;\n    }\n  }\n\n  renderFields(settings) {\n    const d2 = this.context.d2;\n\n    if (settings.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: styles.noHits\n      }, i18n.t('No settings matched the search term'));\n    }\n\n    if (!settingsStore.state) {\n      return /*#__PURE__*/React.createElement(Card, {\n        className: classes.card,\n        key: this.props.category\n      }, /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)));\n    }\n\n    const fields = settings.map(key => {\n      const mapping = settingsKeyMapping[key]; // Base config, common for all component types\n\n      const validators = [];\n\n      if (mapping.validators) {\n        mapping.validators.forEach(name => {\n          if (wordToValidatorMap.has(name)) {\n            const validator = wordToValidatorMap.get(name);\n            validators.push({\n              validator,\n              message: translateValidatorMessage(validator.message)\n            });\n          }\n        });\n      }\n\n      const fieldBase = {\n        name: key,\n        value: settingsStore.state && settingsStore.state[key] || '',\n        component: TextField,\n        props: {\n          floatingLabelText: mapping.label,\n          style: {\n            width: '100%',\n            ...addConditionallyHiddenStyles(mapping)\n          },\n          hintText: mapping.hintText,\n          type: mapping.inputType,\n          min: mapping.minValue,\n          max: mapping.maxValue\n        },\n        validators\n      };\n      return this.fieldForMapping({\n        mapping,\n        fieldBase,\n        key,\n        d2\n      });\n    }).filter(f => f && !!f.name).map(field => {\n      const mapping = settingsKeyMapping[field.name];\n      const options = configOptionStore.getState();\n\n      if (mapping.userSettingsOverride) {\n        const userSettingsNoFallback = options && options.userSettingsNoFallback || {};\n        const userSettingValue = userSettingsNoFallback && userSettingsNoFallback[field.name] !== null ? userSettingsNoFallback[field.name] : '';\n        const component = wrapUserSettingsOverride({\n          component: field.component,\n          valueLabel: mapping.source ? (options && options[mapping.source] || []).filter(opt => opt.id === userSettingValue).map(opt => opt.displayName).pop() : userSettingValue\n        });\n        return Object.assign(field, {\n          component\n        });\n      }\n\n      return field;\n    });\n    return /*#__PURE__*/React.createElement(Card, {\n      className: classes.card,\n      key: this.props.category\n    }, /*#__PURE__*/React.createElement(FormBuilder, {\n      fields: fields,\n      onUpdateField: settingsActions.saveKey\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-area\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header\n    }, categories[this.props.category] ? categories[this.props.category].pageLabel : i18n.t('Search results')), this.renderFields(this.props.currentSettings));\n  }\n\n}\n\nSettingsFields.propTypes = {\n  category: PropTypes.string.isRequired,\n  currentSettings: PropTypes.arrayOf(PropTypes.string).isRequired\n};\nSettingsFields.contextTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default SettingsFields;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport Sidebar from 'd2-ui/lib/sidebar/Sidebar.component.js';\nimport createHistory from 'history/createHashHistory.js';\nimport Snackbar from 'material-ui/Snackbar';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './App.module.css';\nimport configOptionStore from './configOptionStore.js';\nimport settingsActions from './settingsActions.js';\nimport { categoryOrder, categories } from './settingsCategories.js';\nimport SettingsFields from './settingsFields.component.js';\nimport appTheme from './theme.js';\n\nclass AppComponent extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    _defineProperty(this, \"closeSnackbar\", () => {\n      this.setState({\n        showSnackbar: false\n      });\n    });\n\n    _defineProperty(this, \"doSearch\", searchText => {\n      this.setState({\n        searchText\n      });\n      settingsActions.searchSettings(searchText);\n    });\n\n    this.state = {\n      category: categoryOrder[0],\n      currentSettings: categories[categoryOrder[0]].settings,\n      snackbarMessage: '',\n      showSnackbar: false,\n      formValidator: undefined\n    };\n    this.sidebarRef = /*#__PURE__*/React.createRef();\n  }\n\n  getChildContext() {\n    return {\n      d2: this.props.d2,\n      muiTheme: appTheme\n    };\n  }\n\n  componentDidMount() {\n    settingsActions.load();\n    this.subscriptions = [];\n    this.subscriptions.push(configOptionStore.subscribe(() => {\n      // Must force update here in order to redraw form fields that require config options\n      // TODO: Replace this with async select fields\n      this.forceUpdate();\n    }));\n    this.subscriptions.push(settingsActions.setCategory.subscribe(arg => {\n      const category = arg.data.key || arg.data || categoryOrder[0];\n      const searchResult = arg.data.settings || [];\n      const currentSettings = category === 'search' ? searchResult : categories[category].settings;\n\n      if (category !== 'search') {\n        this.sidebarRef.current.clearSearchBox();\n      }\n\n      const pathname = `/${category}`;\n      const search = category === 'search' ? `?${encodeURIComponent(arg.data.searchTerms.join(' '))}` : '';\n\n      if (pathname !== this.history.location.pathname || search !== this.history.location.search) {\n        this.history.push({\n          pathname,\n          search\n        });\n      }\n\n      this.setState({\n        category,\n        currentSettings,\n        searchText: category === 'search' ? this.state.searchText : ''\n      });\n    }));\n    this.subscriptions.push(settingsActions.showSnackbarMessage.subscribe(params => {\n      const message = params.data;\n      this.setState({\n        snackbarMessage: message,\n        showSnackbar: !!message\n      });\n    })); // Helper function for setting app state based on location\n\n    const navigate = location => {\n      const section = location.pathname.substr(1);\n\n      if (location.pathname === '/search') {\n        const search = decodeURIComponent(location.search.substr(1));\n        this.doSearch(search);\n      } else if (Object.keys(categories).includes(section)) {\n        settingsActions.setCategory(section);\n      } else {\n        this.history.replace(`/${categoryOrder[0]}`);\n        settingsActions.setCategory(categoryOrder[0]);\n      }\n    }; // Listen for location changes and update app state as necessary\n\n\n    this.history = createHistory();\n    this.unlisten = this.history.listen((location, action) => {\n      if (action === 'POP') {\n        navigate(location);\n      }\n    }); // Set initial app state based on current location\n\n    navigate(this.history.location);\n  }\n\n  componentWillUnmount() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n\n    if (typeof this.unlisten === 'function') {\n      this.unlisten();\n    }\n  }\n\n  render() {\n    const sections = Object.keys(categories).map(category => {\n      const key = category;\n      const label = categories[category].label;\n      const icon = categories[category].icon;\n      return {\n        key,\n        label,\n        icon\n      };\n    });\n    return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      muiTheme: appTheme\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Snackbar, {\n      message: this.state.snackbarMessage || '',\n      autoHideDuration: 1250,\n      open: this.state.showSnackbar,\n      onRequestClose: this.closeSnackbar\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contentWrap\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      sections: sections,\n      onChangeSection: settingsActions.setCategory,\n      currentSection: this.state.category,\n      showSearchField: true,\n      searchFieldLabel: i18n.t('Search settings'),\n      ref: this.sidebarRef,\n      onChangeSearchText: this.doSearch,\n      searchText: this.state.searchText\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\",\n      className: styles.contentArea\n    }, /*#__PURE__*/React.createElement(SettingsFields, {\n      category: this.state.category,\n      currentSettings: this.state.currentSettings\n    })))));\n  }\n\n}\n\nAppComponent.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nAppComponent.contextTypes = {\n  muiTheme: PropTypes.object\n};\nAppComponent.childContextTypes = {\n  d2: PropTypes.object,\n  muiTheme: PropTypes.object\n};\nexport default AppComponent;","import { useDataQuery } from '@dhis2/app-runtime';\nimport { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport { CssVariables, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react'; // to ensure that i18n is first imported from locales/index, i18n is imported before App\n// eslint-disable-next-line import/order\n\nimport i18n from './locales/index.js';\nimport App from './app.component.js';\nimport 'material-design-icons-iconfont';\nimport configOptionStore from './configOptionStore.js';\nconst query = {\n  indicatorGroups: {\n    resource: 'indicatorGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  dataElementGroups: {\n    resource: 'dataElementGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  userGroups: {\n    resource: 'userGroups',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnitLevels: {\n    resource: 'organisationUnitLevels',\n    params: {\n      paging: false,\n      fields: 'id,level,displayName',\n      order: 'level:asc'\n    }\n  },\n  organisationUnitGroupSets: {\n    resource: 'organisationUnitGroupSets',\n    params: {\n      paging: false,\n      fields: 'id,displayName'\n    }\n  },\n  basemaps: {\n    resource: 'externalMapLayers',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      filter: ['mapLayerPosition:eq:BASEMAP']\n    }\n  },\n  userRoles: {\n    resource: 'userRoles',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      order: 'displayName:asc'\n    }\n  },\n  organisationUnits: {\n    resource: 'organisationUnits',\n    params: {\n      paging: false,\n      fields: 'id,displayName',\n      filter: ['level:in:[1,2]']\n    }\n  },\n  apps: {\n    resource: 'action::menu/getModules'\n  },\n  flags: {\n    resource: 'system/flags'\n  },\n  styles: {\n    resource: 'system/styles'\n  },\n  uiLocales: {\n    resource: 'locales/ui'\n  },\n  dbLocales: {\n    resource: 'locales/db'\n  },\n  userSettingsNoFallback: {\n    resource: 'userSettings',\n    params: {\n      useFallback: false\n    }\n  }\n};\n\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Failed to load: {{error}}', {\n      error: error.message,\n      nsSeparator: '-:-'\n    })));\n  }\n\n  if (!d2 || loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const {\n    basemaps,\n    indicatorGroups,\n    dataElementGroups,\n    userGroups,\n    organisationUnitLevels,\n    organisationUnitGroupSets,\n    userRoles,\n    organisationUnits,\n    userSettingsNoFallback\n  } = data;\n  const startModules = (data.apps.modules || []).map(module => ({\n    id: module.defaultAction.substr(0, 3) === '../' ? module.name : `app:${module.name}`,\n    displayName: module.displayName || module.name\n  }));\n  const flags = (data.flags || []).map(flag => ({\n    id: flag.key,\n    displayName: flag.name\n  }));\n  flags.unshift({\n    id: 'dhis2',\n    displayName: i18n.t('No flag')\n  });\n  const styles = (data.styles || []).map(style => ({\n    id: style.path,\n    displayName: style.name\n  }));\n  const uiLocales = (data.uiLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  const dbLocales = (data.dbLocales || []).map(locale => ({\n    id: locale.locale,\n    displayName: locale.name\n  }));\n  configOptionStore.setState({\n    indicatorGroups: indicatorGroups.indicatorGroups,\n    dataElementGroups: dataElementGroups.dataElementGroups,\n    userGroups: userGroups.userGroups,\n    organisationUnitLevels: organisationUnitLevels.organisationUnitLevels,\n    organisationUnitGroupSets: organisationUnitGroupSets.organisationUnitGroupSets,\n    basemaps: basemaps.externalMapLayers,\n    userRoles: userRoles.userRoles,\n    organisationUnits: organisationUnits.organisationUnits,\n    startModules,\n    flags,\n    styles,\n    uiLocales,\n    dbLocales,\n    userSettingsNoFallback\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    colors: true\n  }), /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  }));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}